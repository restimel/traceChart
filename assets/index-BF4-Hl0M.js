(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function jh(n){const e=Object.create(null);for(const t of n.split(","))e[t]=1;return t=>t in e}const Ee={},Gi=[],yn=()=>{},ix=()=>!1,ll=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),Uh=n=>n.startsWith("onUpdate:"),ct=Object.assign,Kh=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},sx=Object.prototype.hasOwnProperty,xe=(n,e)=>sx.call(n,e),le=Array.isArray,Yi=n=>cl(n)==="[object Map]",lg=n=>cl(n)==="[object Set]",ue=n=>typeof n=="function",Ve=n=>typeof n=="string",ai=n=>typeof n=="symbol",Be=n=>n!==null&&typeof n=="object",cg=n=>(Be(n)||ue(n))&&ue(n.then)&&ue(n.catch),ag=Object.prototype.toString,cl=n=>ag.call(n),rx=n=>cl(n).slice(8,-1),hg=n=>cl(n)==="[object Object]",Gh=n=>Ve(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,$s=jh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),al=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},ox=/-(\w)/g,qt=al(n=>n.replace(ox,(e,t)=>t?t.toUpperCase():"")),lx=/\B([A-Z])/g,Oi=al(n=>n.replace(lx,"-$1").toLowerCase()),hl=al(n=>n.charAt(0).toUpperCase()+n.slice(1)),Fl=al(n=>n?`on${hl(n)}`:""),Xn=(n,e)=>!Object.is(n,e),ho=(n,...e)=>{for(let t=0;t<n.length;t++)n[t](...e)},ug=(n,e,t,i=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:i,value:t})},Ba=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let of;const ul=()=>of||(of=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Yh(n){if(le(n)){const e={};for(let t=0;t<n.length;t++){const i=n[t],s=Ve(i)?ux(i):Yh(i);if(s)for(const r in s)e[r]=s[r]}return e}else if(Ve(n)||Be(n))return n}const cx=/;(?![^(]*\))/g,ax=/:([^]+)/,hx=/\/\*[^]*?\*\//g;function ux(n){const e={};return n.replace(hx,"").split(cx).forEach(t=>{if(t){const i=t.split(ax);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function ti(n){let e="";if(Ve(n))e=n;else if(le(n))for(let t=0;t<n.length;t++){const i=ti(n[t]);i&&(e+=i+" ")}else if(Be(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}const fx="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",dx=jh(fx);function fg(n){return!!n||n===""}const dg=n=>!!(n&&n.__v_isRef===!0),Jh=n=>Ve(n)?n:n==null?"":le(n)||Be(n)&&(n.toString===ag||!ue(n.toString))?dg(n)?Jh(n.value):JSON.stringify(n,pg,2):String(n),pg=(n,e)=>dg(e)?pg(n,e.value):Yi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[i,s],r)=>(t[Nl(i,r)+" =>"]=s,t),{})}:lg(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>Nl(t))}:ai(e)?Nl(e):Be(e)&&!le(e)&&!hg(e)?String(e):e,Nl=(n,e="")=>{var t;return ai(n)?`Symbol(${(t=n.description)!=null?t:e})`:n};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let vt;class px{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=vt,!e&&vt&&(this.index=(vt.scopes||(vt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=vt;try{return vt=this,e()}finally{vt=t}}}on(){++this._on===1&&(this.prevScope=vt,vt=this)}off(){this._on>0&&--this._on===0&&(vt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(this.effects.length=0,t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function mx(){return vt}let Re;const ql=new WeakSet;class mg{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,vt&&vt.active&&vt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ql.has(this)&&(ql.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||yg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,lf(this),bg(this);const e=Re,t=jt;Re=this,jt=!0;try{return this.fn()}finally{vg(this),Re=e,jt=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Qh(e);this.deps=this.depsTail=void 0,lf(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ql.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ia(this)&&this.run()}get dirty(){return Ia(this)}}let gg=0,Hs,zs;function yg(n,e=!1){if(n.flags|=8,e){n.next=zs,zs=n;return}n.next=Hs,Hs=n}function Xh(){gg++}function Zh(){if(--gg>0)return;if(zs){let e=zs;for(zs=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let n;for(;Hs;){let e=Hs;for(Hs=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){n||(n=i)}e=t}}if(n)throw n}function bg(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function vg(n){let e,t=n.depsTail,i=t;for(;i;){const s=i.prevDep;i.version===-1?(i===t&&(t=s),Qh(i),gx(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}n.deps=e,n.depsTail=t}function Ia(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(xg(e.dep.computed)||e.dep.version!==e.version))return!0;return!!n._dirty}function xg(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===er)||(n.globalVersion=er,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!Ia(n))))return;n.flags|=2;const e=n.dep,t=Re,i=jt;Re=n,jt=!0;try{bg(n);const s=n.fn(n._value);(e.version===0||Xn(s,n._value))&&(n.flags|=128,n._value=s,e.version++)}catch(s){throw e.version++,s}finally{Re=t,jt=i,vg(n),n.flags&=-3}}function Qh(n,e=!1){const{dep:t,prevSub:i,nextSub:s}=n;if(i&&(i.nextSub=s,n.prevSub=void 0),s&&(s.prevSub=i,n.nextSub=void 0),t.subs===n&&(t.subs=i,!i&&t.computed)){t.computed.flags&=-5;for(let r=t.computed.deps;r;r=r.nextDep)Qh(r,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function gx(n){const{prevDep:e,nextDep:t}=n;e&&(e.nextDep=t,n.prevDep=void 0),t&&(t.prevDep=e,n.nextDep=void 0)}let jt=!0;const kg=[];function On(){kg.push(jt),jt=!1}function Pn(){const n=kg.pop();jt=n===void 0?!0:n}function lf(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const t=Re;Re=void 0;try{e()}finally{Re=t}}}let er=0;class yx{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class eu{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Re||!jt||Re===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==Re)t=this.activeLink=new yx(Re,this),Re.deps?(t.prevDep=Re.depsTail,Re.depsTail.nextDep=t,Re.depsTail=t):Re.deps=Re.depsTail=t,wg(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const i=t.nextDep;i.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=i),t.prevDep=Re.depsTail,t.nextDep=void 0,Re.depsTail.nextDep=t,Re.depsTail=t,Re.deps===t&&(Re.deps=i)}return t}trigger(e){this.version++,er++,this.notify(e)}notify(e){Xh();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{Zh()}}}function wg(n){if(n.dep.sc++,n.sub.flags&4){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)wg(i)}const t=n.dep.subs;t!==n&&(n.prevSub=t,t&&(t.nextSub=n)),n.dep.subs=n}}const Fa=new WeakMap,Ci=Symbol(""),Na=Symbol(""),tr=Symbol("");function it(n,e,t){if(jt&&Re){let i=Fa.get(n);i||Fa.set(n,i=new Map);let s=i.get(t);s||(i.set(t,s=new eu),s.map=i,s.key=t),s.track()}}function _n(n,e,t,i,s,r){const o=Fa.get(n);if(!o){er++;return}const l=c=>{c&&c.trigger()};if(Xh(),e==="clear")o.forEach(l);else{const c=le(n),a=c&&Gh(t);if(c&&t==="length"){const h=Number(i);o.forEach((u,f)=>{(f==="length"||f===tr||!ai(f)&&f>=h)&&l(u)})}else switch((t!==void 0||o.has(void 0))&&l(o.get(t)),a&&l(o.get(tr)),e){case"add":c?a&&l(o.get("length")):(l(o.get(Ci)),Yi(n)&&l(o.get(Na)));break;case"delete":c||(l(o.get(Ci)),Yi(n)&&l(o.get(Na)));break;case"set":Yi(n)&&l(o.get(Ci));break}}Zh()}function Bi(n){const e=ve(n);return e===n?e:(it(e,"iterate",tr),It(n)?e:e.map(Ze))}function fl(n){return it(n=ve(n),"iterate",tr),n}const bx={__proto__:null,[Symbol.iterator](){return $l(this,Symbol.iterator,Ze)},concat(...n){return Bi(this).concat(...n.map(e=>le(e)?Bi(e):e))},entries(){return $l(this,"entries",n=>(n[1]=Ze(n[1]),n))},every(n,e){return Cn(this,"every",n,e,void 0,arguments)},filter(n,e){return Cn(this,"filter",n,e,t=>t.map(Ze),arguments)},find(n,e){return Cn(this,"find",n,e,Ze,arguments)},findIndex(n,e){return Cn(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return Cn(this,"findLast",n,e,Ze,arguments)},findLastIndex(n,e){return Cn(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return Cn(this,"forEach",n,e,void 0,arguments)},includes(...n){return Hl(this,"includes",n)},indexOf(...n){return Hl(this,"indexOf",n)},join(n){return Bi(this).join(n)},lastIndexOf(...n){return Hl(this,"lastIndexOf",n)},map(n,e){return Cn(this,"map",n,e,void 0,arguments)},pop(){return Ss(this,"pop")},push(...n){return Ss(this,"push",n)},reduce(n,...e){return cf(this,"reduce",n,e)},reduceRight(n,...e){return cf(this,"reduceRight",n,e)},shift(){return Ss(this,"shift")},some(n,e){return Cn(this,"some",n,e,void 0,arguments)},splice(...n){return Ss(this,"splice",n)},toReversed(){return Bi(this).toReversed()},toSorted(n){return Bi(this).toSorted(n)},toSpliced(...n){return Bi(this).toSpliced(...n)},unshift(...n){return Ss(this,"unshift",n)},values(){return $l(this,"values",Ze)}};function $l(n,e,t){const i=fl(n),s=i[e]();return i!==n&&!It(n)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.value&&(r.value=t(r.value)),r}),s}const vx=Array.prototype;function Cn(n,e,t,i,s,r){const o=fl(n),l=o!==n&&!It(n),c=o[e];if(c!==vx[e]){const u=c.apply(n,r);return l?Ze(u):u}let a=t;o!==n&&(l?a=function(u,f){return t.call(this,Ze(u),f,n)}:t.length>2&&(a=function(u,f){return t.call(this,u,f,n)}));const h=c.call(o,a,i);return l&&s?s(h):h}function cf(n,e,t,i){const s=fl(n);let r=t;return s!==n&&(It(n)?t.length>3&&(r=function(o,l,c){return t.call(this,o,l,c,n)}):r=function(o,l,c){return t.call(this,o,Ze(l),c,n)}),s[e](r,...i)}function Hl(n,e,t){const i=ve(n);it(i,"iterate",tr);const s=i[e](...t);return(s===-1||s===!1)&&iu(t[0])?(t[0]=ve(t[0]),i[e](...t)):s}function Ss(n,e,t=[]){On(),Xh();const i=ve(n)[e].apply(n,t);return Zh(),Pn(),i}const xx=jh("__proto__,__v_isRef,__isVue"),Cg=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(ai));function kx(n){ai(n)||(n=String(n));const e=ve(this);return it(e,"has",n),e.hasOwnProperty(n)}class Sg{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,i){if(t==="__v_skip")return e.__v_skip;const s=this._isReadonly,r=this._isShallow;if(t==="__v_isReactive")return!s;if(t==="__v_isReadonly")return s;if(t==="__v_isShallow")return r;if(t==="__v_raw")return i===(s?r?Rx:Mg:r?Eg:_g).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=le(e);if(!s){let c;if(o&&(c=bx[t]))return c;if(t==="hasOwnProperty")return kx}const l=Reflect.get(e,t,lt(e)?e:i);return(ai(t)?Cg.has(t):xx(t))||(s||it(e,"get",t),r)?l:lt(l)?o&&Gh(t)?l:l.value:Be(l)?s?Tg(l):dl(l):l}}class Ag extends Sg{constructor(e=!1){super(!1,e)}set(e,t,i,s){let r=e[t];if(!this._isShallow){const c=ni(r);if(!It(i)&&!ni(i)&&(r=ve(r),i=ve(i)),!le(e)&&lt(r)&&!lt(i))return c?!1:(r.value=i,!0)}const o=le(e)&&Gh(t)?Number(t)<e.length:xe(e,t),l=Reflect.set(e,t,i,lt(e)?e:s);return e===ve(s)&&(o?Xn(i,r)&&_n(e,"set",t,i):_n(e,"add",t,i)),l}deleteProperty(e,t){const i=xe(e,t);e[t];const s=Reflect.deleteProperty(e,t);return s&&i&&_n(e,"delete",t,void 0),s}has(e,t){const i=Reflect.has(e,t);return(!ai(t)||!Cg.has(t))&&it(e,"has",t),i}ownKeys(e){return it(e,"iterate",le(e)?"length":Ci),Reflect.ownKeys(e)}}class wx extends Sg{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Cx=new Ag,Sx=new wx,Ax=new Ag(!0);const qa=n=>n,Lr=n=>Reflect.getPrototypeOf(n);function _x(n,e,t){return function(...i){const s=this.__v_raw,r=ve(s),o=Yi(r),l=n==="entries"||n===Symbol.iterator&&o,c=n==="keys"&&o,a=s[n](...i),h=t?qa:e?Mo:Ze;return!e&&it(r,"iterate",c?Na:Ci),{next(){const{value:u,done:f}=a.next();return f?{value:u,done:f}:{value:l?[h(u[0]),h(u[1])]:h(u),done:f}},[Symbol.iterator](){return this}}}}function Br(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function Ex(n,e){const t={get(s){const r=this.__v_raw,o=ve(r),l=ve(s);n||(Xn(s,l)&&it(o,"get",s),it(o,"get",l));const{has:c}=Lr(o),a=e?qa:n?Mo:Ze;if(c.call(o,s))return a(r.get(s));if(c.call(o,l))return a(r.get(l));r!==o&&r.get(s)},get size(){const s=this.__v_raw;return!n&&it(ve(s),"iterate",Ci),Reflect.get(s,"size",s)},has(s){const r=this.__v_raw,o=ve(r),l=ve(s);return n||(Xn(s,l)&&it(o,"has",s),it(o,"has",l)),s===l?r.has(s):r.has(s)||r.has(l)},forEach(s,r){const o=this,l=o.__v_raw,c=ve(l),a=e?qa:n?Mo:Ze;return!n&&it(c,"iterate",Ci),l.forEach((h,u)=>s.call(r,a(h),a(u),o))}};return ct(t,n?{add:Br("add"),set:Br("set"),delete:Br("delete"),clear:Br("clear")}:{add(s){!e&&!It(s)&&!ni(s)&&(s=ve(s));const r=ve(this);return Lr(r).has.call(r,s)||(r.add(s),_n(r,"add",s,s)),this},set(s,r){!e&&!It(r)&&!ni(r)&&(r=ve(r));const o=ve(this),{has:l,get:c}=Lr(o);let a=l.call(o,s);a||(s=ve(s),a=l.call(o,s));const h=c.call(o,s);return o.set(s,r),a?Xn(r,h)&&_n(o,"set",s,r):_n(o,"add",s,r),this},delete(s){const r=ve(this),{has:o,get:l}=Lr(r);let c=o.call(r,s);c||(s=ve(s),c=o.call(r,s)),l&&l.call(r,s);const a=r.delete(s);return c&&_n(r,"delete",s,void 0),a},clear(){const s=ve(this),r=s.size!==0,o=s.clear();return r&&_n(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=_x(s,n,e)}),t}function tu(n,e){const t=Ex(n,e);return(i,s,r)=>s==="__v_isReactive"?!n:s==="__v_isReadonly"?n:s==="__v_raw"?i:Reflect.get(xe(t,s)&&s in i?t:i,s,r)}const Mx={get:tu(!1,!1)},Dx={get:tu(!1,!0)},Tx={get:tu(!0,!1)};const _g=new WeakMap,Eg=new WeakMap,Mg=new WeakMap,Rx=new WeakMap;function Ox(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Px(n){return n.__v_skip||!Object.isExtensible(n)?0:Ox(rx(n))}function dl(n){return ni(n)?n:nu(n,!1,Cx,Mx,_g)}function Dg(n){return nu(n,!1,Ax,Dx,Eg)}function Tg(n){return nu(n,!0,Sx,Tx,Mg)}function nu(n,e,t,i,s){if(!Be(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const r=Px(n);if(r===0)return n;const o=s.get(n);if(o)return o;const l=new Proxy(n,r===2?i:t);return s.set(n,l),l}function Ji(n){return ni(n)?Ji(n.__v_raw):!!(n&&n.__v_isReactive)}function ni(n){return!!(n&&n.__v_isReadonly)}function It(n){return!!(n&&n.__v_isShallow)}function iu(n){return n?!!n.__v_raw:!1}function ve(n){const e=n&&n.__v_raw;return e?ve(e):n}function Lx(n){return!xe(n,"__v_skip")&&Object.isExtensible(n)&&ug(n,"__v_skip",!0),n}const Ze=n=>Be(n)?dl(n):n,Mo=n=>Be(n)?Tg(n):n;function lt(n){return n?n.__v_isRef===!0:!1}function Ye(n){return Og(n,!1)}function Rg(n){return Og(n,!0)}function Og(n,e){return lt(n)?n:new Bx(n,e)}class Bx{constructor(e,t){this.dep=new eu,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:ve(e),this._value=t?e:Ze(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,i=this.__v_isShallow||It(e)||ni(e);e=i?e:ve(e),Xn(e,t)&&(this._rawValue=e,this._value=i?e:Ze(e),this.dep.trigger())}}function Me(n){return lt(n)?n.value:n}const Ix={get:(n,e,t)=>e==="__v_raw"?n:Me(Reflect.get(n,e,t)),set:(n,e,t,i)=>{const s=n[e];return lt(s)&&!lt(t)?(s.value=t,!0):Reflect.set(n,e,t,i)}};function Pg(n){return Ji(n)?n:new Proxy(n,Ix)}class Fx{constructor(e,t,i){this.fn=e,this.setter=t,this._value=void 0,this.dep=new eu(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=er-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Re!==this)return yg(this,!0),!0}get value(){const e=this.dep.track();return xg(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Nx(n,e,t=!1){let i,s;return ue(n)?i=n:(i=n.get,s=n.set),new Fx(i,s,t)}const Ir={},Do=new WeakMap;let mi;function qx(n,e=!1,t=mi){if(t){let i=Do.get(t);i||Do.set(t,i=[]),i.push(n)}}function $x(n,e,t=Ee){const{immediate:i,deep:s,once:r,scheduler:o,augmentJob:l,call:c}=t,a=v=>s?v:It(v)||s===!1||s===0?En(v,1):En(v);let h,u,f,d,p=!1,m=!1;if(lt(n)?(u=()=>n.value,p=It(n)):Ji(n)?(u=()=>a(n),p=!0):le(n)?(m=!0,p=n.some(v=>Ji(v)||It(v)),u=()=>n.map(v=>{if(lt(v))return v.value;if(Ji(v))return a(v);if(ue(v))return c?c(v,2):v()})):ue(n)?e?u=c?()=>c(n,2):n:u=()=>{if(f){On();try{f()}finally{Pn()}}const v=mi;mi=h;try{return c?c(n,3,[d]):n(d)}finally{mi=v}}:u=yn,e&&s){const v=u,k=s===!0?1/0:s;u=()=>En(v(),k)}const b=mx(),g=()=>{h.stop(),b&&b.active&&Kh(b.effects,h)};if(r&&e){const v=e;e=(...k)=>{v(...k),g()}}let x=m?new Array(n.length).fill(Ir):Ir;const y=v=>{if(!(!(h.flags&1)||!h.dirty&&!v))if(e){const k=h.run();if(s||p||(m?k.some((C,A)=>Xn(C,x[A])):Xn(k,x))){f&&f();const C=mi;mi=h;try{const A=[k,x===Ir?void 0:m&&x[0]===Ir?[]:x,d];x=k,c?c(e,3,A):e(...A)}finally{mi=C}}}else h.run()};return l&&l(y),h=new mg(u),h.scheduler=o?()=>o(y,!1):y,d=v=>qx(v,!1,h),f=h.onStop=()=>{const v=Do.get(h);if(v){if(c)c(v,4);else for(const k of v)k();Do.delete(h)}},e?i?y(!0):x=h.run():o?o(y.bind(null,!0),!0):h.run(),g.pause=h.pause.bind(h),g.resume=h.resume.bind(h),g.stop=g,g}function En(n,e=1/0,t){if(e<=0||!Be(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),e--,lt(n))En(n.value,e,t);else if(le(n))for(let i=0;i<n.length;i++)En(n[i],e,t);else if(lg(n)||Yi(n))n.forEach(i=>{En(i,e,t)});else if(hg(n)){for(const i in n)En(n[i],e,t);for(const i of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,i)&&En(n[i],e,t)}return n}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Sr(n,e,t,i){try{return i?n(...i):n()}catch(s){pl(s,e,t)}}function vn(n,e,t,i){if(ue(n)){const s=Sr(n,e,t,i);return s&&cg(s)&&s.catch(r=>{pl(r,e,t)}),s}if(le(n)){const s=[];for(let r=0;r<n.length;r++)s.push(vn(n[r],e,t,i));return s}}function pl(n,e,t,i=!0){const s=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ee;if(e){let l=e.parent;const c=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${t}`;for(;l;){const h=l.ec;if(h){for(let u=0;u<h.length;u++)if(h[u](n,c,a)===!1)return}l=l.parent}if(r){On(),Sr(r,null,10,[n,c,a]),Pn();return}}Hx(n,t,s,i,o)}function Hx(n,e,t,i=!0,s=!1){if(s)throw n;console.error(n)}const ft=[];let on=-1;const Xi=[];let $n=null,qi=0;const Lg=Promise.resolve();let To=null;function su(n){const e=To||Lg;return n?e.then(this?n.bind(this):n):e}function zx(n){let e=on+1,t=ft.length;for(;e<t;){const i=e+t>>>1,s=ft[i],r=nr(s);r<n||r===n&&s.flags&2?e=i+1:t=i}return e}function ru(n){if(!(n.flags&1)){const e=nr(n),t=ft[ft.length-1];!t||!(n.flags&2)&&e>=nr(t)?ft.push(n):ft.splice(zx(e),0,n),n.flags|=1,Bg()}}function Bg(){To||(To=Lg.then(Fg))}function Vx(n){le(n)?Xi.push(...n):$n&&n.id===-1?$n.splice(qi+1,0,n):n.flags&1||(Xi.push(n),n.flags|=1),Bg()}function af(n,e,t=on+1){for(;t<ft.length;t++){const i=ft[t];if(i&&i.flags&2){if(n&&i.id!==n.uid)continue;ft.splice(t,1),t--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Ig(n){if(Xi.length){const e=[...new Set(Xi)].sort((t,i)=>nr(t)-nr(i));if(Xi.length=0,$n){$n.push(...e);return}for($n=e,qi=0;qi<$n.length;qi++){const t=$n[qi];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}$n=null,qi=0}}const nr=n=>n.id==null?n.flags&2?-1:1/0:n.id;function Fg(n){try{for(on=0;on<ft.length;on++){const e=ft[on];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Sr(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;on<ft.length;on++){const e=ft[on];e&&(e.flags&=-2)}on=-1,ft.length=0,Ig(),To=null,(ft.length||Xi.length)&&Fg()}}let Tt=null,Ng=null;function Ro(n){const e=Tt;return Tt=n,Ng=n&&n.type.__scopeId||null,e}function $a(n,e=Tt,t){if(!e||n._n)return n;const i=(...s)=>{i._d&&xf(-1);const r=Ro(e);let o;try{o=n(...s)}finally{Ro(r),i._d&&xf(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function zl(n,e){if(Tt===null)return n;const t=bl(Tt),i=n.dirs||(n.dirs=[]);for(let s=0;s<e.length;s++){let[r,o,l,c=Ee]=e[s];r&&(ue(r)&&(r={mounted:r,updated:r}),r.deep&&En(o),i.push({dir:r,instance:t,value:o,oldValue:void 0,arg:l,modifiers:c}))}return n}function ui(n,e,t,i){const s=n.dirs,r=e&&e.dirs;for(let o=0;o<s.length;o++){const l=s[o];r&&(l.oldValue=r[o].value);let c=l.dir[i];c&&(On(),vn(c,t,8,[n.el,l,n,e]),Pn())}}const Wx=Symbol("_vte"),jx=n=>n.__isTeleport;function ou(n,e){n.shapeFlag&6&&n.component?(n.transition=e,ou(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Ot(n,e){return ue(n)?ct({name:n.name},e,{setup:n}):n}function qg(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function Oo(n,e,t,i,s=!1){if(le(n)){n.forEach((p,m)=>Oo(p,e&&(le(e)?e[m]:e),t,i,s));return}if(Vs(i)&&!s){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Oo(n,e,t,i.component.subTree);return}const r=i.shapeFlag&4?bl(i.component):i.el,o=s?null:r,{i:l,r:c}=n,a=e&&e.r,h=l.refs===Ee?l.refs={}:l.refs,u=l.setupState,f=ve(u),d=u===Ee?()=>!1:p=>xe(f,p);if(a!=null&&a!==c&&(Ve(a)?(h[a]=null,d(a)&&(u[a]=null)):lt(a)&&(a.value=null)),ue(c))Sr(c,l,12,[o,h]);else{const p=Ve(c),m=lt(c);if(p||m){const b=()=>{if(n.f){const g=p?d(c)?u[c]:h[c]:c.value;s?le(g)&&Kh(g,r):le(g)?g.includes(r)||g.push(r):p?(h[c]=[r],d(c)&&(u[c]=h[c])):(c.value=[r],n.k&&(h[n.k]=c.value))}else p?(h[c]=o,d(c)&&(u[c]=o)):m&&(c.value=o,n.k&&(h[n.k]=o))};o?(b.id=-1,Mt(b,t)):b()}}}ul().requestIdleCallback;ul().cancelIdleCallback;const Vs=n=>!!n.type.__asyncLoader,$g=n=>n.type.__isKeepAlive;function Ux(n,e){Hg(n,"a",e)}function Kx(n,e){Hg(n,"da",e)}function Hg(n,e,t=st){const i=n.__wdc||(n.__wdc=()=>{let s=t;for(;s;){if(s.isDeactivated)return;s=s.parent}return n()});if(ml(e,i,t),t){let s=t.parent;for(;s&&s.parent;)$g(s.parent.vnode)&&Gx(i,e,t,s),s=s.parent}}function Gx(n,e,t,i){const s=ml(e,n,i,!0);lu(()=>{Kh(i[e],s)},t)}function ml(n,e,t=st,i=!1){if(t){const s=t[n]||(t[n]=[]),r=e.__weh||(e.__weh=(...o)=>{On();const l=Ar(t),c=vn(e,t,n,o);return l(),Pn(),c});return i?s.unshift(r):s.push(r),r}}const In=n=>(e,t=st)=>{(!rr||n==="sp")&&ml(n,(...i)=>e(...i),t)},Yx=In("bm"),zg=In("m"),Jx=In("bu"),Xx=In("u"),Zx=In("bum"),lu=In("um"),Qx=In("sp"),e1=In("rtg"),t1=In("rtc");function n1(n,e=st){ml("ec",n,e)}const i1="components";function hf(n,e){return r1(i1,n,!0,e)||n}const s1=Symbol.for("v-ndc");function r1(n,e,t=!0,i=!1){const s=Tt||st;if(s){const r=s.type;{const l=U1(r,!1);if(l&&(l===e||l===qt(e)||l===hl(qt(e))))return r}const o=uf(s[n]||r[n],e)||uf(s.appContext[n],e);return!o&&i?r:o}}function uf(n,e){return n&&(n[e]||n[qt(e)]||n[hl(qt(e))])}function o1(n,e,t,i){let s;const r=t,o=le(n);if(o||Ve(n)){const l=o&&Ji(n);let c=!1,a=!1;l&&(c=!It(n),a=ni(n),n=fl(n)),s=new Array(n.length);for(let h=0,u=n.length;h<u;h++)s[h]=e(c?a?Mo(Ze(n[h])):Ze(n[h]):n[h],h,void 0,r)}else if(typeof n=="number"){s=new Array(n);for(let l=0;l<n;l++)s[l]=e(l+1,l,void 0,r)}else if(Be(n))if(n[Symbol.iterator])s=Array.from(n,(l,c)=>e(l,c,void 0,r));else{const l=Object.keys(n);s=new Array(l.length);for(let c=0,a=l.length;c<a;c++){const h=l[c];s[c]=e(n[h],h,c,r)}}else s=[];return s}const Ha=n=>n?c0(n)?bl(n):Ha(n.parent):null,Ws=ct(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Ha(n.parent),$root:n=>Ha(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>Wg(n),$forceUpdate:n=>n.f||(n.f=()=>{ru(n.update)}),$nextTick:n=>n.n||(n.n=su.bind(n.proxy)),$watch:n=>E1.bind(n)}),Vl=(n,e)=>n!==Ee&&!n.__isScriptSetup&&xe(n,e),l1={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:i,data:s,props:r,accessCache:o,type:l,appContext:c}=n;let a;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return i[e];case 2:return s[e];case 4:return t[e];case 3:return r[e]}else{if(Vl(i,e))return o[e]=1,i[e];if(s!==Ee&&xe(s,e))return o[e]=2,s[e];if((a=n.propsOptions[0])&&xe(a,e))return o[e]=3,r[e];if(t!==Ee&&xe(t,e))return o[e]=4,t[e];za&&(o[e]=0)}}const h=Ws[e];let u,f;if(h)return e==="$attrs"&&it(n.attrs,"get",""),h(n);if((u=l.__cssModules)&&(u=u[e]))return u;if(t!==Ee&&xe(t,e))return o[e]=4,t[e];if(f=c.config.globalProperties,xe(f,e))return f[e]},set({_:n},e,t){const{data:i,setupState:s,ctx:r}=n;return Vl(s,e)?(s[e]=t,!0):i!==Ee&&xe(i,e)?(i[e]=t,!0):xe(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(r[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:i,appContext:s,propsOptions:r}},o){let l;return!!t[o]||n!==Ee&&xe(n,o)||Vl(e,o)||(l=r[0])&&xe(l,o)||xe(i,o)||xe(Ws,o)||xe(s.config.globalProperties,o)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:xe(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function ff(n){return le(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}let za=!0;function c1(n){const e=Wg(n),t=n.proxy,i=n.ctx;za=!1,e.beforeCreate&&df(e.beforeCreate,n,"bc");const{data:s,computed:r,methods:o,watch:l,provide:c,inject:a,created:h,beforeMount:u,mounted:f,beforeUpdate:d,updated:p,activated:m,deactivated:b,beforeDestroy:g,beforeUnmount:x,destroyed:y,unmounted:v,render:k,renderTracked:C,renderTriggered:A,errorCaptured:M,serverPrefetch:R,expose:T,inheritAttrs:I,components:N,directives:D,filters:_}=e;if(a&&a1(a,i,null),o)for(const ee in o){const oe=o[ee];ue(oe)&&(i[ee]=oe.bind(t))}if(s){const ee=s.call(t,t);Be(ee)&&(n.data=dl(ee))}if(za=!0,r)for(const ee in r){const oe=r[ee],ce=ue(oe)?oe.bind(t,t):ue(oe.get)?oe.get.bind(t,t):yn,Q=!ue(oe)&&ue(oe.set)?oe.set.bind(t):yn,Ce=Fe({get:ce,set:Q});Object.defineProperty(i,ee,{enumerable:!0,configurable:!0,get:()=>Ce.value,set:me=>Ce.value=me})}if(l)for(const ee in l)Vg(l[ee],i,t,ee);if(c){const ee=ue(c)?c.call(t):c;Reflect.ownKeys(ee).forEach(oe=>{uo(oe,ee[oe])})}h&&df(h,n,"c");function Y(ee,oe){le(oe)?oe.forEach(ce=>ee(ce.bind(t))):oe&&ee(oe.bind(t))}if(Y(Yx,u),Y(zg,f),Y(Jx,d),Y(Xx,p),Y(Ux,m),Y(Kx,b),Y(n1,M),Y(t1,C),Y(e1,A),Y(Zx,x),Y(lu,v),Y(Qx,R),le(T))if(T.length){const ee=n.exposed||(n.exposed={});T.forEach(oe=>{Object.defineProperty(ee,oe,{get:()=>t[oe],set:ce=>t[oe]=ce})})}else n.exposed||(n.exposed={});k&&n.render===yn&&(n.render=k),I!=null&&(n.inheritAttrs=I),N&&(n.components=N),D&&(n.directives=D),R&&qg(n)}function a1(n,e,t=yn){le(n)&&(n=Va(n));for(const i in n){const s=n[i];let r;Be(s)?"default"in s?r=Dn(s.from||i,s.default,!0):r=Dn(s.from||i):r=Dn(s),lt(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[i]=r}}function df(n,e,t){vn(le(n)?n.map(i=>i.bind(e.proxy)):n.bind(e.proxy),e,t)}function Vg(n,e,t,i){let s=i.includes(".")?i0(t,i):()=>t[i];if(Ve(n)){const r=e[n];ue(r)&&Zn(s,r)}else if(ue(n))Zn(s,n.bind(t));else if(Be(n))if(le(n))n.forEach(r=>Vg(r,e,t,i));else{const r=ue(n.handler)?n.handler.bind(t):e[n.handler];ue(r)&&Zn(s,r,n)}}function Wg(n){const e=n.type,{mixins:t,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=n.appContext,l=r.get(e);let c;return l?c=l:!s.length&&!t&&!i?c=e:(c={},s.length&&s.forEach(a=>Po(c,a,o,!0)),Po(c,e,o)),Be(e)&&r.set(e,c),c}function Po(n,e,t,i=!1){const{mixins:s,extends:r}=e;r&&Po(n,r,t,!0),s&&s.forEach(o=>Po(n,o,t,!0));for(const o in e)if(!(i&&o==="expose")){const l=h1[o]||t&&t[o];n[o]=l?l(n[o],e[o]):e[o]}return n}const h1={data:pf,props:mf,emits:mf,methods:Ls,computed:Ls,beforeCreate:ut,created:ut,beforeMount:ut,mounted:ut,beforeUpdate:ut,updated:ut,beforeDestroy:ut,beforeUnmount:ut,destroyed:ut,unmounted:ut,activated:ut,deactivated:ut,errorCaptured:ut,serverPrefetch:ut,components:Ls,directives:Ls,watch:f1,provide:pf,inject:u1};function pf(n,e){return e?n?function(){return ct(ue(n)?n.call(this,this):n,ue(e)?e.call(this,this):e)}:e:n}function u1(n,e){return Ls(Va(n),Va(e))}function Va(n){if(le(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function ut(n,e){return n?[...new Set([].concat(n,e))]:e}function Ls(n,e){return n?ct(Object.create(null),n,e):e}function mf(n,e){return n?le(n)&&le(e)?[...new Set([...n,...e])]:ct(Object.create(null),ff(n),ff(e??{})):e}function f1(n,e){if(!n)return e;if(!e)return n;const t=ct(Object.create(null),n);for(const i in e)t[i]=ut(n[i],e[i]);return t}function jg(){return{app:null,config:{isNativeTag:ix,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let d1=0;function p1(n,e){return function(i,s=null){ue(i)||(i=ct({},i)),s!=null&&!Be(s)&&(s=null);const r=jg(),o=new WeakSet,l=[];let c=!1;const a=r.app={_uid:d1++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:G1,get config(){return r.config},set config(h){},use(h,...u){return o.has(h)||(h&&ue(h.install)?(o.add(h),h.install(a,...u)):ue(h)&&(o.add(h),h(a,...u))),a},mixin(h){return r.mixins.includes(h)||r.mixins.push(h),a},component(h,u){return u?(r.components[h]=u,a):r.components[h]},directive(h,u){return u?(r.directives[h]=u,a):r.directives[h]},mount(h,u,f){if(!c){const d=a._ceVNode||Ne(i,s);return d.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),n(d,h,f),c=!0,a._container=h,h.__vue_app__=a,bl(d.component)}},onUnmount(h){l.push(h)},unmount(){c&&(vn(l,a._instance,16),n(null,a._container),delete a._container.__vue_app__)},provide(h,u){return r.provides[h]=u,a},runWithContext(h){const u=Zi;Zi=a;try{return h()}finally{Zi=u}}};return a}}let Zi=null;function uo(n,e){if(st){let t=st.provides;const i=st.parent&&st.parent.provides;i===t&&(t=st.provides=Object.create(i)),t[n]=e}}function Dn(n,e,t=!1){const i=st||Tt;if(i||Zi){let s=Zi?Zi._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&n in s)return s[n];if(arguments.length>1)return t&&ue(e)?e.call(i&&i.proxy):e}}const Ug={},Kg=()=>Object.create(Ug),Gg=n=>Object.getPrototypeOf(n)===Ug;function m1(n,e,t,i=!1){const s={},r=Kg();n.propsDefaults=Object.create(null),Yg(n,e,s,r);for(const o in n.propsOptions[0])o in s||(s[o]=void 0);t?n.props=i?s:Dg(s):n.type.props?n.props=s:n.props=r,n.attrs=r}function g1(n,e,t,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=n,l=ve(s),[c]=n.propsOptions;let a=!1;if((i||o>0)&&!(o&16)){if(o&8){const h=n.vnode.dynamicProps;for(let u=0;u<h.length;u++){let f=h[u];if(gl(n.emitsOptions,f))continue;const d=e[f];if(c)if(xe(r,f))d!==r[f]&&(r[f]=d,a=!0);else{const p=qt(f);s[p]=Wa(c,l,p,d,n,!1)}else d!==r[f]&&(r[f]=d,a=!0)}}}else{Yg(n,e,s,r)&&(a=!0);let h;for(const u in l)(!e||!xe(e,u)&&((h=Oi(u))===u||!xe(e,h)))&&(c?t&&(t[u]!==void 0||t[h]!==void 0)&&(s[u]=Wa(c,l,u,void 0,n,!0)):delete s[u]);if(r!==l)for(const u in r)(!e||!xe(e,u))&&(delete r[u],a=!0)}a&&_n(n.attrs,"set","")}function Yg(n,e,t,i){const[s,r]=n.propsOptions;let o=!1,l;if(e)for(let c in e){if($s(c))continue;const a=e[c];let h;s&&xe(s,h=qt(c))?!r||!r.includes(h)?t[h]=a:(l||(l={}))[h]=a:gl(n.emitsOptions,c)||(!(c in i)||a!==i[c])&&(i[c]=a,o=!0)}if(r){const c=ve(t),a=l||Ee;for(let h=0;h<r.length;h++){const u=r[h];t[u]=Wa(s,c,u,a[u],n,!xe(a,u))}}return o}function Wa(n,e,t,i,s,r){const o=n[t];if(o!=null){const l=xe(o,"default");if(l&&i===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&ue(c)){const{propsDefaults:a}=s;if(t in a)i=a[t];else{const h=Ar(s);i=a[t]=c.call(null,e),h()}}else i=c;s.ce&&s.ce._setProp(t,i)}o[0]&&(r&&!l?i=!1:o[1]&&(i===""||i===Oi(t))&&(i=!0))}return i}const y1=new WeakMap;function Jg(n,e,t=!1){const i=t?y1:e.propsCache,s=i.get(n);if(s)return s;const r=n.props,o={},l=[];let c=!1;if(!ue(n)){const h=u=>{c=!0;const[f,d]=Jg(u,e,!0);ct(o,f),d&&l.push(...d)};!t&&e.mixins.length&&e.mixins.forEach(h),n.extends&&h(n.extends),n.mixins&&n.mixins.forEach(h)}if(!r&&!c)return Be(n)&&i.set(n,Gi),Gi;if(le(r))for(let h=0;h<r.length;h++){const u=qt(r[h]);gf(u)&&(o[u]=Ee)}else if(r)for(const h in r){const u=qt(h);if(gf(u)){const f=r[h],d=o[u]=le(f)||ue(f)?{type:f}:ct({},f),p=d.type;let m=!1,b=!0;if(le(p))for(let g=0;g<p.length;++g){const x=p[g],y=ue(x)&&x.name;if(y==="Boolean"){m=!0;break}else y==="String"&&(b=!1)}else m=ue(p)&&p.name==="Boolean";d[0]=m,d[1]=b,(m||xe(d,"default"))&&l.push(u)}}const a=[o,l];return Be(n)&&i.set(n,a),a}function gf(n){return n[0]!=="$"&&!$s(n)}const cu=n=>n[0]==="_"||n==="$stable",au=n=>le(n)?n.map(ln):[ln(n)],b1=(n,e,t)=>{if(e._n)return e;const i=$a((...s)=>au(e(...s)),t);return i._c=!1,i},Xg=(n,e,t)=>{const i=n._ctx;for(const s in n){if(cu(s))continue;const r=n[s];if(ue(r))e[s]=b1(s,r,i);else if(r!=null){const o=au(r);e[s]=()=>o}}},Zg=(n,e)=>{const t=au(e);n.slots.default=()=>t},Qg=(n,e,t)=>{for(const i in e)(t||!cu(i))&&(n[i]=e[i])},v1=(n,e,t)=>{const i=n.slots=Kg();if(n.vnode.shapeFlag&32){const s=e._;s?(Qg(i,e,t),t&&ug(i,"_",s,!0)):Xg(e,i)}else e&&Zg(n,e)},x1=(n,e,t)=>{const{vnode:i,slots:s}=n;let r=!0,o=Ee;if(i.shapeFlag&32){const l=e._;l?t&&l===1?r=!1:Qg(s,e,t):(r=!e.$stable,Xg(e,s)),o=e}else e&&(Zg(n,e),o={default:1});if(r)for(const l in s)!cu(l)&&o[l]==null&&delete s[l]},Mt=L1;function k1(n){return w1(n)}function w1(n,e){const t=ul();t.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:l,createComment:c,setText:a,setElementText:h,parentNode:u,nextSibling:f,setScopeId:d=yn,insertStaticContent:p}=n,m=(w,S,E,L=null,F=null,B=null,U=void 0,z=null,H=!!S.dynamicChildren)=>{if(w===S)return;w&&!As(w,S)&&(L=O(w),me(w,F,B,!0),w=null),S.patchFlag===-2&&(H=!1,S.dynamicChildren=null);const{type:q,ref:re,shapeFlag:G}=S;switch(q){case yl:b(w,S,E,L);break;case ii:g(w,S,E,L);break;case jl:w==null&&x(S,E,L,U);break;case Wt:N(w,S,E,L,F,B,U,z,H);break;default:G&1?k(w,S,E,L,F,B,U,z,H):G&6?D(w,S,E,L,F,B,U,z,H):(G&64||G&128)&&q.process(w,S,E,L,F,B,U,z,H,te)}re!=null&&F&&Oo(re,w&&w.ref,B,S||w,!S)},b=(w,S,E,L)=>{if(w==null)i(S.el=l(S.children),E,L);else{const F=S.el=w.el;S.children!==w.children&&a(F,S.children)}},g=(w,S,E,L)=>{w==null?i(S.el=c(S.children||""),E,L):S.el=w.el},x=(w,S,E,L)=>{[w.el,w.anchor]=p(w.children,S,E,L,w.el,w.anchor)},y=({el:w,anchor:S},E,L)=>{let F;for(;w&&w!==S;)F=f(w),i(w,E,L),w=F;i(S,E,L)},v=({el:w,anchor:S})=>{let E;for(;w&&w!==S;)E=f(w),s(w),w=E;s(S)},k=(w,S,E,L,F,B,U,z,H)=>{S.type==="svg"?U="svg":S.type==="math"&&(U="mathml"),w==null?C(S,E,L,F,B,U,z,H):R(w,S,F,B,U,z,H)},C=(w,S,E,L,F,B,U,z)=>{let H,q;const{props:re,shapeFlag:G,transition:ie,dirs:ae}=w;if(H=w.el=o(w.type,B,re&&re.is,re),G&8?h(H,w.children):G&16&&M(w.children,H,null,L,F,Wl(w,B),U,z),ae&&ui(w,null,L,"created"),A(H,w,w.scopeId,U,L),re){for(const Te in re)Te!=="value"&&!$s(Te)&&r(H,Te,null,re[Te],B,L);"value"in re&&r(H,"value",null,re.value,B),(q=re.onVnodeBeforeMount)&&en(q,L,w)}ae&&ui(w,null,L,"beforeMount");const ge=C1(F,ie);ge&&ie.beforeEnter(H),i(H,S,E),((q=re&&re.onVnodeMounted)||ge||ae)&&Mt(()=>{q&&en(q,L,w),ge&&ie.enter(H),ae&&ui(w,null,L,"mounted")},F)},A=(w,S,E,L,F)=>{if(E&&d(w,E),L)for(let B=0;B<L.length;B++)d(w,L[B]);if(F){let B=F.subTree;if(S===B||r0(B.type)&&(B.ssContent===S||B.ssFallback===S)){const U=F.vnode;A(w,U,U.scopeId,U.slotScopeIds,F.parent)}}},M=(w,S,E,L,F,B,U,z,H=0)=>{for(let q=H;q<w.length;q++){const re=w[q]=z?Hn(w[q]):ln(w[q]);m(null,re,S,E,L,F,B,U,z)}},R=(w,S,E,L,F,B,U)=>{const z=S.el=w.el;let{patchFlag:H,dynamicChildren:q,dirs:re}=S;H|=w.patchFlag&16;const G=w.props||Ee,ie=S.props||Ee;let ae;if(E&&fi(E,!1),(ae=ie.onVnodeBeforeUpdate)&&en(ae,E,S,w),re&&ui(S,w,E,"beforeUpdate"),E&&fi(E,!0),(G.innerHTML&&ie.innerHTML==null||G.textContent&&ie.textContent==null)&&h(z,""),q?T(w.dynamicChildren,q,z,E,L,Wl(S,F),B):U||oe(w,S,z,null,E,L,Wl(S,F),B,!1),H>0){if(H&16)I(z,G,ie,E,F);else if(H&2&&G.class!==ie.class&&r(z,"class",null,ie.class,F),H&4&&r(z,"style",G.style,ie.style,F),H&8){const ge=S.dynamicProps;for(let Te=0;Te<ge.length;Te++){const we=ge[Te],At=G[we],bt=ie[we];(bt!==At||we==="value")&&r(z,we,At,bt,F,E)}}H&1&&w.children!==S.children&&h(z,S.children)}else!U&&q==null&&I(z,G,ie,E,F);((ae=ie.onVnodeUpdated)||re)&&Mt(()=>{ae&&en(ae,E,S,w),re&&ui(S,w,E,"updated")},L)},T=(w,S,E,L,F,B,U)=>{for(let z=0;z<S.length;z++){const H=w[z],q=S[z],re=H.el&&(H.type===Wt||!As(H,q)||H.shapeFlag&198)?u(H.el):E;m(H,q,re,null,L,F,B,U,!0)}},I=(w,S,E,L,F)=>{if(S!==E){if(S!==Ee)for(const B in S)!$s(B)&&!(B in E)&&r(w,B,S[B],null,F,L);for(const B in E){if($s(B))continue;const U=E[B],z=S[B];U!==z&&B!=="value"&&r(w,B,z,U,F,L)}"value"in E&&r(w,"value",S.value,E.value,F)}},N=(w,S,E,L,F,B,U,z,H)=>{const q=S.el=w?w.el:l(""),re=S.anchor=w?w.anchor:l("");let{patchFlag:G,dynamicChildren:ie,slotScopeIds:ae}=S;ae&&(z=z?z.concat(ae):ae),w==null?(i(q,E,L),i(re,E,L),M(S.children||[],E,re,F,B,U,z,H)):G>0&&G&64&&ie&&w.dynamicChildren?(T(w.dynamicChildren,ie,E,F,B,U,z),(S.key!=null||F&&S===F.subTree)&&e0(w,S,!0)):oe(w,S,E,re,F,B,U,z,H)},D=(w,S,E,L,F,B,U,z,H)=>{S.slotScopeIds=z,w==null?S.shapeFlag&512?F.ctx.activate(S,E,L,U,H):_(S,E,L,F,B,U,H):$(w,S,H)},_=(w,S,E,L,F,B,U)=>{const z=w.component=H1(w,L,F);if($g(w)&&(z.ctx.renderer=te),z1(z,!1,U),z.asyncDep){if(F&&F.registerDep(z,Y,U),!w.el){const H=z.subTree=Ne(ii);g(null,H,S,E)}}else Y(z,w,S,E,F,B,U)},$=(w,S,E)=>{const L=S.component=w.component;if(O1(w,S,E))if(L.asyncDep&&!L.asyncResolved){ee(L,S,E);return}else L.next=S,L.update();else S.el=w.el,L.vnode=S},Y=(w,S,E,L,F,B,U)=>{const z=()=>{if(w.isMounted){let{next:G,bu:ie,u:ae,parent:ge,vnode:Te}=w;{const Zt=t0(w);if(Zt){G&&(G.el=Te.el,ee(w,G,U)),Zt.asyncDep.then(()=>{w.isUnmounted||z()});return}}let we=G,At;fi(w,!1),G?(G.el=Te.el,ee(w,G,U)):G=Te,ie&&ho(ie),(At=G.props&&G.props.onVnodeBeforeUpdate)&&en(At,ge,G,Te),fi(w,!0);const bt=bf(w),Xt=w.subTree;w.subTree=bt,m(Xt,bt,u(Xt.el),O(Xt),w,F,B),G.el=bt.el,we===null&&P1(w,bt.el),ae&&Mt(ae,F),(At=G.props&&G.props.onVnodeUpdated)&&Mt(()=>en(At,ge,G,Te),F)}else{let G;const{el:ie,props:ae}=S,{bm:ge,m:Te,parent:we,root:At,type:bt}=w,Xt=Vs(S);fi(w,!1),ge&&ho(ge),!Xt&&(G=ae&&ae.onVnodeBeforeMount)&&en(G,we,S),fi(w,!0);{At.ce&&At.ce._injectChildStyle(bt);const Zt=w.subTree=bf(w);m(null,Zt,E,L,w,F,B),S.el=Zt.el}if(Te&&Mt(Te,F),!Xt&&(G=ae&&ae.onVnodeMounted)){const Zt=S;Mt(()=>en(G,we,Zt),F)}(S.shapeFlag&256||we&&Vs(we.vnode)&&we.vnode.shapeFlag&256)&&w.a&&Mt(w.a,F),w.isMounted=!0,S=E=L=null}};w.scope.on();const H=w.effect=new mg(z);w.scope.off();const q=w.update=H.run.bind(H),re=w.job=H.runIfDirty.bind(H);re.i=w,re.id=w.uid,H.scheduler=()=>ru(re),fi(w,!0),q()},ee=(w,S,E)=>{S.component=w;const L=w.vnode.props;w.vnode=S,w.next=null,g1(w,S.props,L,E),x1(w,S.children,E),On(),af(w),Pn()},oe=(w,S,E,L,F,B,U,z,H=!1)=>{const q=w&&w.children,re=w?w.shapeFlag:0,G=S.children,{patchFlag:ie,shapeFlag:ae}=S;if(ie>0){if(ie&128){Q(q,G,E,L,F,B,U,z,H);return}else if(ie&256){ce(q,G,E,L,F,B,U,z,H);return}}ae&8?(re&16&&Je(q,F,B),G!==q&&h(E,G)):re&16?ae&16?Q(q,G,E,L,F,B,U,z,H):Je(q,F,B,!0):(re&8&&h(E,""),ae&16&&M(G,E,L,F,B,U,z,H))},ce=(w,S,E,L,F,B,U,z,H)=>{w=w||Gi,S=S||Gi;const q=w.length,re=S.length,G=Math.min(q,re);let ie;for(ie=0;ie<G;ie++){const ae=S[ie]=H?Hn(S[ie]):ln(S[ie]);m(w[ie],ae,E,null,F,B,U,z,H)}q>re?Je(w,F,B,!0,!1,G):M(S,E,L,F,B,U,z,H,G)},Q=(w,S,E,L,F,B,U,z,H)=>{let q=0;const re=S.length;let G=w.length-1,ie=re-1;for(;q<=G&&q<=ie;){const ae=w[q],ge=S[q]=H?Hn(S[q]):ln(S[q]);if(As(ae,ge))m(ae,ge,E,null,F,B,U,z,H);else break;q++}for(;q<=G&&q<=ie;){const ae=w[G],ge=S[ie]=H?Hn(S[ie]):ln(S[ie]);if(As(ae,ge))m(ae,ge,E,null,F,B,U,z,H);else break;G--,ie--}if(q>G){if(q<=ie){const ae=ie+1,ge=ae<re?S[ae].el:L;for(;q<=ie;)m(null,S[q]=H?Hn(S[q]):ln(S[q]),E,ge,F,B,U,z,H),q++}}else if(q>ie)for(;q<=G;)me(w[q],F,B,!0),q++;else{const ae=q,ge=q,Te=new Map;for(q=ge;q<=ie;q++){const _t=S[q]=H?Hn(S[q]):ln(S[q]);_t.key!=null&&Te.set(_t.key,q)}let we,At=0;const bt=ie-ge+1;let Xt=!1,Zt=0;const Cs=new Array(bt);for(q=0;q<bt;q++)Cs[q]=0;for(q=ae;q<=G;q++){const _t=w[q];if(At>=bt){me(_t,F,B,!0);continue}let Qt;if(_t.key!=null)Qt=Te.get(_t.key);else for(we=ge;we<=ie;we++)if(Cs[we-ge]===0&&As(_t,S[we])){Qt=we;break}Qt===void 0?me(_t,F,B,!0):(Cs[Qt-ge]=q+1,Qt>=Zt?Zt=Qt:Xt=!0,m(_t,S[Qt],E,null,F,B,U,z,H),At++)}const sf=Xt?S1(Cs):Gi;for(we=sf.length-1,q=bt-1;q>=0;q--){const _t=ge+q,Qt=S[_t],rf=_t+1<re?S[_t+1].el:L;Cs[q]===0?m(null,Qt,E,rf,F,B,U,z,H):Xt&&(we<0||q!==sf[we]?Ce(Qt,E,rf,2):we--)}}},Ce=(w,S,E,L,F=null)=>{const{el:B,type:U,transition:z,children:H,shapeFlag:q}=w;if(q&6){Ce(w.component.subTree,S,E,L);return}if(q&128){w.suspense.move(S,E,L);return}if(q&64){U.move(w,S,E,te);return}if(U===Wt){i(B,S,E);for(let G=0;G<H.length;G++)Ce(H[G],S,E,L);i(w.anchor,S,E);return}if(U===jl){y(w,S,E);return}if(L!==2&&q&1&&z)if(L===0)z.beforeEnter(B),i(B,S,E),Mt(()=>z.enter(B),F);else{const{leave:G,delayLeave:ie,afterLeave:ae}=z,ge=()=>{w.ctx.isUnmounted?s(B):i(B,S,E)},Te=()=>{G(B,()=>{ge(),ae&&ae()})};ie?ie(B,ge,Te):Te()}else i(B,S,E)},me=(w,S,E,L=!1,F=!1)=>{const{type:B,props:U,ref:z,children:H,dynamicChildren:q,shapeFlag:re,patchFlag:G,dirs:ie,cacheIndex:ae}=w;if(G===-2&&(F=!1),z!=null&&(On(),Oo(z,null,E,w,!0),Pn()),ae!=null&&(S.renderCache[ae]=void 0),re&256){S.ctx.deactivate(w);return}const ge=re&1&&ie,Te=!Vs(w);let we;if(Te&&(we=U&&U.onVnodeBeforeUnmount)&&en(we,S,w),re&6)Vt(w.component,E,L);else{if(re&128){w.suspense.unmount(E,L);return}ge&&ui(w,null,S,"beforeUnmount"),re&64?w.type.remove(w,S,E,te,L):q&&!q.hasOnce&&(B!==Wt||G>0&&G&64)?Je(q,S,E,!1,!0):(B===Wt&&G&384||!F&&re&16)&&Je(H,S,E),L&&$e(w)}(Te&&(we=U&&U.onVnodeUnmounted)||ge)&&Mt(()=>{we&&en(we,S,w),ge&&ui(w,null,S,"unmounted")},E)},$e=w=>{const{type:S,el:E,anchor:L,transition:F}=w;if(S===Wt){yt(E,L);return}if(S===jl){v(w);return}const B=()=>{s(E),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(w.shapeFlag&1&&F&&!F.persisted){const{leave:U,delayLeave:z}=F,H=()=>U(E,B);z?z(w.el,B,H):H()}else B()},yt=(w,S)=>{let E;for(;w!==S;)E=f(w),s(w),w=E;s(S)},Vt=(w,S,E)=>{const{bum:L,scope:F,job:B,subTree:U,um:z,m:H,a:q,parent:re,slots:{__:G}}=w;yf(H),yf(q),L&&ho(L),re&&le(G)&&G.forEach(ie=>{re.renderCache[ie]=void 0}),F.stop(),B&&(B.flags|=8,me(U,w,S,E)),z&&Mt(z,S),Mt(()=>{w.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&w.asyncDep&&!w.asyncResolved&&w.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve())},Je=(w,S,E,L=!1,F=!1,B=0)=>{for(let U=B;U<w.length;U++)me(w[U],S,E,L,F)},O=w=>{if(w.shapeFlag&6)return O(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const S=f(w.anchor||w.el),E=S&&S[Wx];return E?f(E):S};let Z=!1;const K=(w,S,E)=>{w==null?S._vnode&&me(S._vnode,null,null,!0):m(S._vnode||null,w,S,null,null,null,E),S._vnode=w,Z||(Z=!0,af(),Ig(),Z=!1)},te={p:m,um:me,m:Ce,r:$e,mt:_,mc:M,pc:oe,pbc:T,n:O,o:n};return{render:K,hydrate:void 0,createApp:p1(K)}}function Wl({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function fi({effect:n,job:e},t){t?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function C1(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function e0(n,e,t=!1){const i=n.children,s=e.children;if(le(i)&&le(s))for(let r=0;r<i.length;r++){const o=i[r];let l=s[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[r]=Hn(s[r]),l.el=o.el),!t&&l.patchFlag!==-2&&e0(o,l)),l.type===yl&&(l.el=o.el),l.type===ii&&!l.el&&(l.el=o.el)}}function S1(n){const e=n.slice(),t=[0];let i,s,r,o,l;const c=n.length;for(i=0;i<c;i++){const a=n[i];if(a!==0){if(s=t[t.length-1],n[s]<a){e[i]=s,t.push(i);continue}for(r=0,o=t.length-1;r<o;)l=r+o>>1,n[t[l]]<a?r=l+1:o=l;a<n[t[r]]&&(r>0&&(e[i]=t[r-1]),t[r]=i)}}for(r=t.length,o=t[r-1];r-- >0;)t[r]=o,o=e[o];return t}function t0(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:t0(e)}function yf(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}const A1=Symbol.for("v-scx"),_1=()=>Dn(A1);function Zn(n,e,t){return n0(n,e,t)}function n0(n,e,t=Ee){const{immediate:i,deep:s,flush:r,once:o}=t,l=ct({},t),c=e&&i||!e&&r!=="post";let a;if(rr){if(r==="sync"){const d=_1();a=d.__watcherHandles||(d.__watcherHandles=[])}else if(!c){const d=()=>{};return d.stop=yn,d.resume=yn,d.pause=yn,d}}const h=st;l.call=(d,p,m)=>vn(d,h,p,m);let u=!1;r==="post"?l.scheduler=d=>{Mt(d,h&&h.suspense)}:r!=="sync"&&(u=!0,l.scheduler=(d,p)=>{p?d():ru(d)}),l.augmentJob=d=>{e&&(d.flags|=4),u&&(d.flags|=2,h&&(d.id=h.uid,d.i=h))};const f=$x(n,e,l);return rr&&(a?a.push(f):c&&f()),f}function E1(n,e,t){const i=this.proxy,s=Ve(n)?n.includes(".")?i0(i,n):()=>i[n]:n.bind(i,i);let r;ue(e)?r=e:(r=e.handler,t=e);const o=Ar(this),l=n0(s,r.bind(i),t);return o(),l}function i0(n,e){const t=e.split(".");return()=>{let i=n;for(let s=0;s<t.length&&i;s++)i=i[t[s]];return i}}const M1=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${qt(e)}Modifiers`]||n[`${Oi(e)}Modifiers`];function D1(n,e,...t){if(n.isUnmounted)return;const i=n.vnode.props||Ee;let s=t;const r=e.startsWith("update:"),o=r&&M1(i,e.slice(7));o&&(o.trim&&(s=t.map(h=>Ve(h)?h.trim():h)),o.number&&(s=t.map(Ba)));let l,c=i[l=Fl(e)]||i[l=Fl(qt(e))];!c&&r&&(c=i[l=Fl(Oi(e))]),c&&vn(c,n,6,s);const a=i[l+"Once"];if(a){if(!n.emitted)n.emitted={};else if(n.emitted[l])return;n.emitted[l]=!0,vn(a,n,6,s)}}function s0(n,e,t=!1){const i=e.emitsCache,s=i.get(n);if(s!==void 0)return s;const r=n.emits;let o={},l=!1;if(!ue(n)){const c=a=>{const h=s0(a,e,!0);h&&(l=!0,ct(o,h))};!t&&e.mixins.length&&e.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}return!r&&!l?(Be(n)&&i.set(n,null),null):(le(r)?r.forEach(c=>o[c]=null):ct(o,r),Be(n)&&i.set(n,o),o)}function gl(n,e){return!n||!ll(e)?!1:(e=e.slice(2).replace(/Once$/,""),xe(n,e[0].toLowerCase()+e.slice(1))||xe(n,Oi(e))||xe(n,e))}function bf(n){const{type:e,vnode:t,proxy:i,withProxy:s,propsOptions:[r],slots:o,attrs:l,emit:c,render:a,renderCache:h,props:u,data:f,setupState:d,ctx:p,inheritAttrs:m}=n,b=Ro(n);let g,x;try{if(t.shapeFlag&4){const v=s||i,k=v;g=ln(a.call(k,v,h,u,d,f,p)),x=l}else{const v=e;g=ln(v.length>1?v(u,{attrs:l,slots:o,emit:c}):v(u,null)),x=e.props?l:T1(l)}}catch(v){js.length=0,pl(v,n,1),g=Ne(ii)}let y=g;if(x&&m!==!1){const v=Object.keys(x),{shapeFlag:k}=y;v.length&&k&7&&(r&&v.some(Uh)&&(x=R1(x,r)),y=ls(y,x,!1,!0))}return t.dirs&&(y=ls(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(t.dirs):t.dirs),t.transition&&ou(y,t.transition),g=y,Ro(b),g}const T1=n=>{let e;for(const t in n)(t==="class"||t==="style"||ll(t))&&((e||(e={}))[t]=n[t]);return e},R1=(n,e)=>{const t={};for(const i in n)(!Uh(i)||!(i.slice(9)in e))&&(t[i]=n[i]);return t};function O1(n,e,t){const{props:i,children:s,component:r}=n,{props:o,children:l,patchFlag:c}=e,a=r.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&c>=0){if(c&1024)return!0;if(c&16)return i?vf(i,o,a):!!o;if(c&8){const h=e.dynamicProps;for(let u=0;u<h.length;u++){const f=h[u];if(o[f]!==i[f]&&!gl(a,f))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:i===o?!1:i?o?vf(i,o,a):!0:!!o;return!1}function vf(n,e,t){const i=Object.keys(e);if(i.length!==Object.keys(n).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==n[r]&&!gl(t,r))return!0}return!1}function P1({vnode:n,parent:e},t){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===n&&(i.el=n.el),i===n)(n=e.vnode).el=t,e=e.parent;else break}}const r0=n=>n.__isSuspense;function L1(n,e){e&&e.pendingBranch?le(n)?e.effects.push(...n):e.effects.push(n):Vx(n)}const Wt=Symbol.for("v-fgt"),yl=Symbol.for("v-txt"),ii=Symbol.for("v-cmt"),jl=Symbol.for("v-stc"),js=[];let Rt=null;function Ie(n=!1){js.push(Rt=n?null:[])}function B1(){js.pop(),Rt=js[js.length-1]||null}let ir=1;function xf(n,e=!1){ir+=n,n<0&&Rt&&e&&(Rt.hasOnce=!0)}function o0(n){return n.dynamicChildren=ir>0?Rt||Gi:null,B1(),ir>0&&Rt&&Rt.push(n),n}function We(n,e,t,i,s,r){return o0(ne(n,e,t,i,s,r,!0))}function hu(n,e,t,i,s){return o0(Ne(n,e,t,i,s,!0))}function Lo(n){return n?n.__v_isVNode===!0:!1}function As(n,e){return n.type===e.type&&n.key===e.key}const l0=({key:n})=>n??null,fo=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?Ve(n)||lt(n)||ue(n)?{i:Tt,r:n,k:e,f:!!t}:n:null);function ne(n,e=null,t=null,i=0,s=null,r=n===Wt?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&l0(e),ref:e&&fo(e),scopeId:Ng,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Tt};return l?(uu(c,t),r&128&&n.normalize(c)):t&&(c.shapeFlag|=Ve(t)?8:16),ir>0&&!o&&Rt&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&Rt.push(c),c}const Ne=I1;function I1(n,e=null,t=null,i=0,s=null,r=!1){if((!n||n===s1)&&(n=ii),Lo(n)){const l=ls(n,e,!0);return t&&uu(l,t),ir>0&&!r&&Rt&&(l.shapeFlag&6?Rt[Rt.indexOf(n)]=l:Rt.push(l)),l.patchFlag=-2,l}if(K1(n)&&(n=n.__vccOpts),e){e=F1(e);let{class:l,style:c}=e;l&&!Ve(l)&&(e.class=ti(l)),Be(c)&&(iu(c)&&!le(c)&&(c=ct({},c)),e.style=Yh(c))}const o=Ve(n)?1:r0(n)?128:jx(n)?64:Be(n)?4:ue(n)?2:0;return ne(n,e,t,i,s,o,r,!0)}function F1(n){return n?iu(n)||Gg(n)?ct({},n):n:null}function ls(n,e,t=!1,i=!1){const{props:s,ref:r,patchFlag:o,children:l,transition:c}=n,a=e?N1(s||{},e):s,h={__v_isVNode:!0,__v_skip:!0,type:n.type,props:a,key:a&&l0(a),ref:e&&e.ref?t&&r?le(r)?r.concat(fo(e)):[r,fo(e)]:fo(e):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:l,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Wt?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:c,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&ls(n.ssContent),ssFallback:n.ssFallback&&ls(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return c&&i&&ou(h,c.clone(h)),h}function sr(n=" ",e=0){return Ne(yl,null,n,e)}function Bo(n="",e=!1){return e?(Ie(),hu(ii,null,n)):Ne(ii,null,n)}function ln(n){return n==null||typeof n=="boolean"?Ne(ii):le(n)?Ne(Wt,null,n.slice()):Lo(n)?Hn(n):Ne(yl,null,String(n))}function Hn(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:ls(n)}function uu(n,e){let t=0;const{shapeFlag:i}=n;if(e==null)e=null;else if(le(e))t=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),uu(n,s()),s._c&&(s._d=!0));return}else{t=32;const s=e._;!s&&!Gg(e)?e._ctx=Tt:s===3&&Tt&&(Tt.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else ue(e)?(e={default:e,_ctx:Tt},t=32):(e=String(e),i&64?(t=16,e=[sr(e)]):t=8);n.children=e,n.shapeFlag|=t}function N1(...n){const e={};for(let t=0;t<n.length;t++){const i=n[t];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=ti([e.class,i.class]));else if(s==="style")e.style=Yh([e.style,i.style]);else if(ll(s)){const r=e[s],o=i[s];o&&r!==o&&!(le(r)&&r.includes(o))&&(e[s]=r?[].concat(r,o):o)}else s!==""&&(e[s]=i[s])}return e}function en(n,e,t,i=null){vn(n,e,7,[t,i])}const q1=jg();let $1=0;function H1(n,e,t){const i=n.type,s=(e?e.appContext:n.appContext)||q1,r={uid:$1++,vnode:n,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new px(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Jg(i,s),emitsOptions:s0(i,s),emit:null,emitted:null,propsDefaults:Ee,inheritAttrs:i.inheritAttrs,ctx:Ee,data:Ee,props:Ee,attrs:Ee,slots:Ee,refs:Ee,setupState:Ee,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=D1.bind(null,r),n.ce&&n.ce(r),r}let st=null,Io,ja;{const n=ul(),e=(t,i)=>{let s;return(s=n[t])||(s=n[t]=[]),s.push(i),r=>{s.length>1?s.forEach(o=>o(r)):s[0](r)}};Io=e("__VUE_INSTANCE_SETTERS__",t=>st=t),ja=e("__VUE_SSR_SETTERS__",t=>rr=t)}const Ar=n=>{const e=st;return Io(n),n.scope.on(),()=>{n.scope.off(),Io(e)}},kf=()=>{st&&st.scope.off(),Io(null)};function c0(n){return n.vnode.shapeFlag&4}let rr=!1;function z1(n,e=!1,t=!1){e&&ja(e);const{props:i,children:s}=n.vnode,r=c0(n);m1(n,i,r,e),v1(n,s,t||e);const o=r?V1(n,e):void 0;return e&&ja(!1),o}function V1(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,l1);const{setup:i}=t;if(i){On();const s=n.setupContext=i.length>1?j1(n):null,r=Ar(n),o=Sr(i,n,0,[n.props,s]),l=cg(o);if(Pn(),r(),(l||n.sp)&&!Vs(n)&&qg(n),l){if(o.then(kf,kf),e)return o.then(c=>{wf(n,c)}).catch(c=>{pl(c,n,0)});n.asyncDep=o}else wf(n,o)}else a0(n)}function wf(n,e,t){ue(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:Be(e)&&(n.setupState=Pg(e)),a0(n)}function a0(n,e,t){const i=n.type;n.render||(n.render=i.render||yn);{const s=Ar(n);On();try{c1(n)}finally{Pn(),s()}}}const W1={get(n,e){return it(n,"get",""),n[e]}};function j1(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,W1),slots:n.slots,emit:n.emit,expose:e}}function bl(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(Pg(Lx(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in Ws)return Ws[t](n)},has(e,t){return t in e||t in Ws}})):n.proxy}function U1(n,e=!0){return ue(n)?n.displayName||n.name:n.name||e&&n.__name}function K1(n){return ue(n)&&"__vccOpts"in n}const Fe=(n,e)=>Nx(n,e,rr);function vl(n,e,t){const i=arguments.length;return i===2?Be(e)&&!le(e)?Lo(e)?Ne(n,null,[e]):Ne(n,e):Ne(n,null,e):(i>3?t=Array.prototype.slice.call(arguments,2):i===3&&Lo(t)&&(t=[t]),Ne(n,e,t))}const G1="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ua;const Cf=typeof window<"u"&&window.trustedTypes;if(Cf)try{Ua=Cf.createPolicy("vue",{createHTML:n=>n})}catch{}const h0=Ua?n=>Ua.createHTML(n):n=>n,Y1="http://www.w3.org/2000/svg",J1="http://www.w3.org/1998/Math/MathML",An=typeof document<"u"?document:null,Sf=An&&An.createElement("template"),X1={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,i)=>{const s=e==="svg"?An.createElementNS(Y1,n):e==="mathml"?An.createElementNS(J1,n):t?An.createElement(n,{is:t}):An.createElement(n);return n==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:n=>An.createTextNode(n),createComment:n=>An.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>An.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,i,s,r){const o=t?t.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),t),!(s===r||!(s=s.nextSibling)););else{Sf.innerHTML=h0(i==="svg"?`<svg>${n}</svg>`:i==="mathml"?`<math>${n}</math>`:n);const l=Sf.content;if(i==="svg"||i==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},Z1=Symbol("_vtc");function Q1(n,e,t){const i=n[Z1];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const Af=Symbol("_vod"),ek=Symbol("_vsh"),tk=Symbol(""),nk=/(^|;)\s*display\s*:/;function ik(n,e,t){const i=n.style,s=Ve(t);let r=!1;if(t&&!s){if(e)if(Ve(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();t[l]==null&&po(i,l,"")}else for(const o in e)t[o]==null&&po(i,o,"");for(const o in t)o==="display"&&(r=!0),po(i,o,t[o])}else if(s){if(e!==t){const o=i[tk];o&&(t+=";"+o),i.cssText=t,r=nk.test(t)}}else e&&n.removeAttribute("style");Af in n&&(n[Af]=r?i.display:"",n[ek]&&(i.display="none"))}const _f=/\s*!important$/;function po(n,e,t){if(le(t))t.forEach(i=>po(n,e,i));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const i=sk(n,e);_f.test(t)?n.setProperty(Oi(i),t.replace(_f,""),"important"):n[i]=t}}const Ef=["Webkit","Moz","ms"],Ul={};function sk(n,e){const t=Ul[e];if(t)return t;let i=qt(e);if(i!=="filter"&&i in n)return Ul[e]=i;i=hl(i);for(let s=0;s<Ef.length;s++){const r=Ef[s]+i;if(r in n)return Ul[e]=r}return e}const Mf="http://www.w3.org/1999/xlink";function Df(n,e,t,i,s,r=dx(e)){i&&e.startsWith("xlink:")?t==null?n.removeAttributeNS(Mf,e.slice(6,e.length)):n.setAttributeNS(Mf,e,t):t==null||r&&!fg(t)?n.removeAttribute(e):n.setAttribute(e,r?"":ai(t)?String(t):t)}function Tf(n,e,t,i,s){if(e==="innerHTML"||e==="textContent"){t!=null&&(n[e]=e==="innerHTML"?h0(t):t);return}const r=n.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?n.getAttribute("value")||"":n.value,c=t==null?n.type==="checkbox"?"on":"":String(t);(l!==c||!("_value"in n))&&(n.value=c),t==null&&n.removeAttribute(e),n._value=t;return}let o=!1;if(t===""||t==null){const l=typeof n[e];l==="boolean"?t=fg(t):t==null&&l==="string"?(t="",o=!0):l==="number"&&(t=0,o=!0)}try{n[e]=t}catch{}o&&n.removeAttribute(s||e)}function $i(n,e,t,i){n.addEventListener(e,t,i)}function rk(n,e,t,i){n.removeEventListener(e,t,i)}const Rf=Symbol("_vei");function ok(n,e,t,i,s=null){const r=n[Rf]||(n[Rf]={}),o=r[e];if(i&&o)o.value=i;else{const[l,c]=lk(e);if(i){const a=r[e]=hk(i,s);$i(n,l,a,c)}else o&&(rk(n,l,o,c),r[e]=void 0)}}const Of=/(?:Once|Passive|Capture)$/;function lk(n){let e;if(Of.test(n)){e={};let i;for(;i=n.match(Of);)n=n.slice(0,n.length-i[0].length),e[i[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Oi(n.slice(2)),e]}let Kl=0;const ck=Promise.resolve(),ak=()=>Kl||(ck.then(()=>Kl=0),Kl=Date.now());function hk(n,e){const t=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=t.attached)return;vn(uk(i,t.value),e,5,[i])};return t.value=n,t.attached=ak(),t}function uk(n,e){if(le(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const Pf=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,fk=(n,e,t,i,s,r)=>{const o=s==="svg";e==="class"?Q1(n,i,o):e==="style"?ik(n,t,i):ll(e)?Uh(e)||ok(n,e,t,i,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):dk(n,e,i,o))?(Tf(n,e,i),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Df(n,e,i,o,r,e!=="value")):n._isVueCE&&(/[A-Z]/.test(e)||!Ve(i))?Tf(n,qt(e),i,r,e):(e==="true-value"?n._trueValue=i:e==="false-value"&&(n._falseValue=i),Df(n,e,i,o))};function dk(n,e,t,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in n&&Pf(e)&&ue(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=n.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Pf(e)&&Ve(t)?!1:e in n}const Lf=n=>{const e=n.props["onUpdate:modelValue"]||!1;return le(e)?t=>ho(e,t):e};function pk(n){n.target.composing=!0}function Bf(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Gl=Symbol("_assign"),Yl={created(n,{modifiers:{lazy:e,trim:t,number:i}},s){n[Gl]=Lf(s);const r=i||s.props&&s.props.type==="number";$i(n,e?"change":"input",o=>{if(o.target.composing)return;let l=n.value;t&&(l=l.trim()),r&&(l=Ba(l)),n[Gl](l)}),t&&$i(n,"change",()=>{n.value=n.value.trim()}),e||($i(n,"compositionstart",pk),$i(n,"compositionend",Bf),$i(n,"change",Bf))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,oldValue:t,modifiers:{lazy:i,trim:s,number:r}},o){if(n[Gl]=Lf(o),n.composing)return;const l=(r||n.type==="number")&&!/^0\d/.test(n.value)?Ba(n.value):n.value,c=e??"";l!==c&&(document.activeElement===n&&n.type!=="range"&&(i&&e===t||s&&n.value.trim()===c)||(n.value=c))}},mk=["ctrl","shift","alt","meta"],gk={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>mk.some(t=>n[`${t}Key`]&&!e.includes(t))},mo=(n,e)=>{const t=n._withMods||(n._withMods={}),i=e.join(".");return t[i]||(t[i]=(s,...r)=>{for(let o=0;o<e.length;o++){const l=gk[e[o]];if(l&&l(s,e))return}return n(s,...r)})},yk=ct({patchProp:fk},X1);let If;function bk(){return If||(If=k1(yk))}const vk=(...n)=>{const e=bk().createApp(...n),{mount:t}=e;return e.mount=i=>{const s=kk(i);if(!s)return;const r=e._component;!ue(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=t(s,!1,xk(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function xk(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function kk(n){return Ve(n)?document.querySelector(n):n}const Tn=Ye(null),fu=Ye([]),Fr=Ye(""),Wi=Ye(new Map),Fo=Ye({parseFromConsole:!1});function wk(n,e){if(n.size!==e.size)return!1;let t=!0;return n.forEach((i,s)=>{e.get(s)!==i&&(t=!1)}),t}function Ck(n){!n||wk(n,Wi.value)||(Wi.value=n)}function Qi(n,e){Tn.value={origin:e,message:n}}function du(n){Tn.value&&(n&&Tn.value.origin!==n||(Tn.value=null))}function Sk(){fu.value=[]}function Si(n,e,t,i,s){const r=(s!=null&&s.section?e.indexOf(s.section,s.contextIndex??0):0)+((s==null?void 0:s.offset)??0),o=((s==null?void 0:s.section)||e).indexOf(n,(s==null?void 0:s.index)??0);if(r<0||o<0){console.error(`Error not found: %s
	%s`,t,n);return}const l=r+o,c={fromChar:l,toChar:l+n.length,severity:i,message:t};fu.value.push(c)}function Ak(n){Fo.value.parseFromConsole=!Fo.value.parseFromConsole}const _k=Ot({__name:"ErrorNotification",setup(n){return(e,t)=>Me(Tn)?(Ie(),We("aside",{key:0,class:"error",onClick:t[0]||(t[0]=i=>Me(du)())},[ne("pre",null,Jh(Me(Tn).message),1)])):Bo("",!0)}}),Pi=(n,e)=>{const t=n.__vccOpts||n;for(const[i,s]of e)t[i]=s;return t},Ek=Pi(_k,[["__scopeId","data-v-08720b3e"]]),Mk={id:"app"},Dk=Ot({__name:"App",setup(n){return(e,t)=>{const i=hf("router-link"),s=hf("router-view");return Ie(),We("div",Mk,[ne("nav",null,[Ne(i,{to:"/"},{default:$a(()=>t[0]||(t[0]=[sr("Application")])),_:1,__:[0]}),Ne(i,{to:"/about"},{default:$a(()=>t[1]||(t[1]=[sr("About")])),_:1,__:[1]})]),ne("main",null,[Ne(s)]),Ne(Ek)])}}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Hi=typeof document<"u";function u0(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function Tk(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&u0(n.default)}const be=Object.assign;function Jl(n,e){const t={};for(const i in e){const s=e[i];t[i]=Ut(s)?s.map(n):n(s)}return t}const Us=()=>{},Ut=Array.isArray,f0=/#/g,Rk=/&/g,Ok=/\//g,Pk=/=/g,Lk=/\?/g,d0=/\+/g,Bk=/%5B/g,Ik=/%5D/g,p0=/%5E/g,Fk=/%60/g,m0=/%7B/g,Nk=/%7C/g,g0=/%7D/g,qk=/%20/g;function pu(n){return encodeURI(""+n).replace(Nk,"|").replace(Bk,"[").replace(Ik,"]")}function $k(n){return pu(n).replace(m0,"{").replace(g0,"}").replace(p0,"^")}function Ka(n){return pu(n).replace(d0,"%2B").replace(qk,"+").replace(f0,"%23").replace(Rk,"%26").replace(Fk,"`").replace(m0,"{").replace(g0,"}").replace(p0,"^")}function Hk(n){return Ka(n).replace(Pk,"%3D")}function zk(n){return pu(n).replace(f0,"%23").replace(Lk,"%3F")}function Vk(n){return n==null?"":zk(n).replace(Ok,"%2F")}function or(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const Wk=/\/$/,jk=n=>n.replace(Wk,"");function Xl(n,e,t="/"){let i,s={},r="",o="";const l=e.indexOf("#");let c=e.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(i=e.slice(0,c),r=e.slice(c+1,l>-1?l:e.length),s=n(r)),l>-1&&(i=i||e.slice(0,l),o=e.slice(l,e.length)),i=Yk(i??e,t),{fullPath:i+(r&&"?")+r+o,path:i,query:s,hash:or(o)}}function Uk(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function Ff(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function Kk(n,e,t){const i=e.matched.length-1,s=t.matched.length-1;return i>-1&&i===s&&cs(e.matched[i],t.matched[s])&&y0(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function cs(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function y0(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!Gk(n[t],e[t]))return!1;return!0}function Gk(n,e){return Ut(n)?Nf(n,e):Ut(e)?Nf(e,n):n===e}function Nf(n,e){return Ut(e)?n.length===e.length&&n.every((t,i)=>t===e[i]):n.length===1&&n[0]===e}function Yk(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),i=n.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=t.length-1,o,l;for(o=0;o<i.length;o++)if(l=i[o],l!==".")if(l==="..")r>1&&r--;else break;return t.slice(0,r).join("/")+"/"+i.slice(o).join("/")}const qn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var lr;(function(n){n.pop="pop",n.push="push"})(lr||(lr={}));var Ks;(function(n){n.back="back",n.forward="forward",n.unknown=""})(Ks||(Ks={}));function Jk(n){if(!n)if(Hi){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),jk(n)}const Xk=/^[^#]+#/;function Zk(n,e){return n.replace(Xk,"#")+e}function Qk(n,e){const t=document.documentElement.getBoundingClientRect(),i=n.getBoundingClientRect();return{behavior:e.behavior,left:i.left-t.left-(e.left||0),top:i.top-t.top-(e.top||0)}}const xl=()=>({left:window.scrollX,top:window.scrollY});function ew(n){let e;if("el"in n){const t=n.el,i=typeof t=="string"&&t.startsWith("#"),s=typeof t=="string"?i?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!s)return;e=Qk(s,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function qf(n,e){return(history.state?history.state.position-e:-1)+n}const Ga=new Map;function tw(n,e){Ga.set(n,e)}function nw(n){const e=Ga.get(n);return Ga.delete(n),e}let iw=()=>location.protocol+"//"+location.host;function b0(n,e){const{pathname:t,search:i,hash:s}=e,r=n.indexOf("#");if(r>-1){let l=s.includes(n.slice(r))?n.slice(r).length:1,c=s.slice(l);return c[0]!=="/"&&(c="/"+c),Ff(c,"")}return Ff(t,n)+i+s}function sw(n,e,t,i){let s=[],r=[],o=null;const l=({state:f})=>{const d=b0(n,location),p=t.value,m=e.value;let b=0;if(f){if(t.value=d,e.value=f,o&&o===p){o=null;return}b=m?f.position-m.position:0}else i(d);s.forEach(g=>{g(t.value,p,{delta:b,type:lr.pop,direction:b?b>0?Ks.forward:Ks.back:Ks.unknown})})};function c(){o=t.value}function a(f){s.push(f);const d=()=>{const p=s.indexOf(f);p>-1&&s.splice(p,1)};return r.push(d),d}function h(){const{history:f}=window;f.state&&f.replaceState(be({},f.state,{scroll:xl()}),"")}function u(){for(const f of r)f();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:c,listen:a,destroy:u}}function $f(n,e,t,i=!1,s=!1){return{back:n,current:e,forward:t,replaced:i,position:window.history.length,scroll:s?xl():null}}function rw(n){const{history:e,location:t}=window,i={value:b0(n,t)},s={value:e.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(c,a,h){const u=n.indexOf("#"),f=u>-1?(t.host&&document.querySelector("base")?n:n.slice(u))+c:iw()+n+c;try{e[h?"replaceState":"pushState"](a,"",f),s.value=a}catch(d){console.error(d),t[h?"replace":"assign"](f)}}function o(c,a){const h=be({},e.state,$f(s.value.back,c,s.value.forward,!0),a,{position:s.value.position});r(c,h,!0),i.value=c}function l(c,a){const h=be({},s.value,e.state,{forward:c,scroll:xl()});r(h.current,h,!0);const u=be({},$f(i.value,c,null),{position:h.position+1},a);r(c,u,!1),i.value=c}return{location:i,state:s,push:l,replace:o}}function ow(n){n=Jk(n);const e=rw(n),t=sw(n,e.state,e.location,e.replace);function i(r,o=!0){o||t.pauseListeners(),history.go(r)}const s=be({location:"",base:n,go:i,createHref:Zk.bind(null,n)},e,t);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function lw(n){return typeof n=="string"||n&&typeof n=="object"}function v0(n){return typeof n=="string"||typeof n=="symbol"}const x0=Symbol("");var Hf;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(Hf||(Hf={}));function as(n,e){return be(new Error,{type:n,[x0]:!0},e)}function Sn(n,e){return n instanceof Error&&x0 in n&&(e==null||!!(n.type&e))}const zf="[^/]+?",cw={sensitive:!1,strict:!1,start:!0,end:!0},aw=/[.+*?^${}()[\]/\\]/g;function hw(n,e){const t=be({},cw,e),i=[];let s=t.start?"^":"";const r=[];for(const a of n){const h=a.length?[]:[90];t.strict&&!a.length&&(s+="/");for(let u=0;u<a.length;u++){const f=a[u];let d=40+(t.sensitive?.25:0);if(f.type===0)u||(s+="/"),s+=f.value.replace(aw,"\\$&"),d+=40;else if(f.type===1){const{value:p,repeatable:m,optional:b,regexp:g}=f;r.push({name:p,repeatable:m,optional:b});const x=g||zf;if(x!==zf){d+=10;try{new RegExp(`(${x})`)}catch(v){throw new Error(`Invalid custom RegExp for param "${p}" (${x}): `+v.message)}}let y=m?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;u||(y=b&&a.length<2?`(?:/${y})`:"/"+y),b&&(y+="?"),s+=y,d+=20,b&&(d+=-8),m&&(d+=-20),x===".*"&&(d+=-50)}h.push(d)}i.push(h)}if(t.strict&&t.end){const a=i.length-1;i[a][i[a].length-1]+=.7000000000000001}t.strict||(s+="/?"),t.end?s+="$":t.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,t.sensitive?"":"i");function l(a){const h=a.match(o),u={};if(!h)return null;for(let f=1;f<h.length;f++){const d=h[f]||"",p=r[f-1];u[p.name]=d&&p.repeatable?d.split("/"):d}return u}function c(a){let h="",u=!1;for(const f of n){(!u||!h.endsWith("/"))&&(h+="/"),u=!1;for(const d of f)if(d.type===0)h+=d.value;else if(d.type===1){const{value:p,repeatable:m,optional:b}=d,g=p in a?a[p]:"";if(Ut(g)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const x=Ut(g)?g.join("/"):g;if(!x)if(b)f.length<2&&(h.endsWith("/")?h=h.slice(0,-1):u=!0);else throw new Error(`Missing required param "${p}"`);h+=x}}return h||"/"}return{re:o,score:i,keys:r,parse:l,stringify:c}}function uw(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=e[t]-n[t];if(i)return i;t++}return n.length<e.length?n.length===1&&n[0]===80?-1:1:n.length>e.length?e.length===1&&e[0]===80?1:-1:0}function k0(n,e){let t=0;const i=n.score,s=e.score;for(;t<i.length&&t<s.length;){const r=uw(i[t],s[t]);if(r)return r;t++}if(Math.abs(s.length-i.length)===1){if(Vf(i))return 1;if(Vf(s))return-1}return s.length-i.length}function Vf(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const fw={type:0,value:""},dw=/[a-zA-Z0-9_]/;function pw(n){if(!n)return[[]];if(n==="/")return[[fw]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(d){throw new Error(`ERR (${t})/"${a}": ${d}`)}let t=0,i=t;const s=[];let r;function o(){r&&s.push(r),r=[]}let l=0,c,a="",h="";function u(){a&&(t===0?r.push({type:0,value:a}):t===1||t===2||t===3?(r.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${a}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:a,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),a="")}function f(){a+=c}for(;l<n.length;){if(c=n[l++],c==="\\"&&t!==2){i=t,t=4;continue}switch(t){case 0:c==="/"?(a&&u(),o()):c===":"?(u(),t=1):f();break;case 4:f(),t=i;break;case 1:c==="("?t=2:dw.test(c)?f():(u(),t=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:t=3:h+=c;break;case 3:u(),t=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,h="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${a}"`),u(),o(),s}function mw(n,e,t){const i=hw(pw(n.path),t),s=be(i,{record:n,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function gw(n,e){const t=[],i=new Map;e=Kf({strict:!1,end:!0,sensitive:!1},e);function s(u){return i.get(u)}function r(u,f,d){const p=!d,m=jf(u);m.aliasOf=d&&d.record;const b=Kf(e,u),g=[m];if("alias"in u){const v=typeof u.alias=="string"?[u.alias]:u.alias;for(const k of v)g.push(jf(be({},m,{components:d?d.record.components:m.components,path:k,aliasOf:d?d.record:m})))}let x,y;for(const v of g){const{path:k}=v;if(f&&k[0]!=="/"){const C=f.record.path,A=C[C.length-1]==="/"?"":"/";v.path=f.record.path+(k&&A+k)}if(x=mw(v,f,b),d?d.alias.push(x):(y=y||x,y!==x&&y.alias.push(x),p&&u.name&&!Uf(x)&&o(u.name)),w0(x)&&c(x),m.children){const C=m.children;for(let A=0;A<C.length;A++)r(C[A],x,d&&d.children[A])}d=d||x}return y?()=>{o(y)}:Us}function o(u){if(v0(u)){const f=i.get(u);f&&(i.delete(u),t.splice(t.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=t.indexOf(u);f>-1&&(t.splice(f,1),u.record.name&&i.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function l(){return t}function c(u){const f=vw(u,t);t.splice(f,0,u),u.record.name&&!Uf(u)&&i.set(u.record.name,u)}function a(u,f){let d,p={},m,b;if("name"in u&&u.name){if(d=i.get(u.name),!d)throw as(1,{location:u});b=d.record.name,p=be(Wf(f.params,d.keys.filter(y=>!y.optional).concat(d.parent?d.parent.keys.filter(y=>y.optional):[]).map(y=>y.name)),u.params&&Wf(u.params,d.keys.map(y=>y.name))),m=d.stringify(p)}else if(u.path!=null)m=u.path,d=t.find(y=>y.re.test(m)),d&&(p=d.parse(m),b=d.record.name);else{if(d=f.name?i.get(f.name):t.find(y=>y.re.test(f.path)),!d)throw as(1,{location:u,currentLocation:f});b=d.record.name,p=be({},f.params,u.params),m=d.stringify(p)}const g=[];let x=d;for(;x;)g.unshift(x.record),x=x.parent;return{name:b,path:m,params:p,matched:g,meta:bw(g)}}n.forEach(u=>r(u));function h(){t.length=0,i.clear()}return{addRoute:r,resolve:a,removeRoute:o,clearRoutes:h,getRoutes:l,getRecordMatcher:s}}function Wf(n,e){const t={};for(const i of e)i in n&&(t[i]=n[i]);return t}function jf(n){const e={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:yw(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function yw(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const i in n.components)e[i]=typeof t=="object"?t[i]:t;return e}function Uf(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function bw(n){return n.reduce((e,t)=>be(e,t.meta),{})}function Kf(n,e){const t={};for(const i in n)t[i]=i in e?e[i]:n[i];return t}function vw(n,e){let t=0,i=e.length;for(;t!==i;){const r=t+i>>1;k0(n,e[r])<0?i=r:t=r+1}const s=xw(n);return s&&(i=e.lastIndexOf(s,i-1)),i}function xw(n){let e=n;for(;e=e.parent;)if(w0(e)&&k0(n,e)===0)return e}function w0({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function kw(n){const e={};if(n===""||n==="?")return e;const i=(n[0]==="?"?n.slice(1):n).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(d0," "),o=r.indexOf("="),l=or(o<0?r:r.slice(0,o)),c=o<0?null:or(r.slice(o+1));if(l in e){let a=e[l];Ut(a)||(a=e[l]=[a]),a.push(c)}else e[l]=c}return e}function Gf(n){let e="";for(let t in n){const i=n[t];if(t=Hk(t),i==null){i!==void 0&&(e+=(e.length?"&":"")+t);continue}(Ut(i)?i.map(r=>r&&Ka(r)):[i&&Ka(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+t,r!=null&&(e+="="+r))})}return e}function ww(n){const e={};for(const t in n){const i=n[t];i!==void 0&&(e[t]=Ut(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const Cw=Symbol(""),Yf=Symbol(""),mu=Symbol(""),C0=Symbol(""),Ya=Symbol("");function _s(){let n=[];function e(i){return n.push(i),()=>{const s=n.indexOf(i);s>-1&&n.splice(s,1)}}function t(){n=[]}return{add:e,list:()=>n.slice(),reset:t}}function zn(n,e,t,i,s,r=o=>o()){const o=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((l,c)=>{const a=f=>{f===!1?c(as(4,{from:t,to:e})):f instanceof Error?c(f):lw(f)?c(as(2,{from:e,to:f})):(o&&i.enterCallbacks[s]===o&&typeof f=="function"&&o.push(f),l())},h=r(()=>n.call(i&&i.instances[s],e,t,a));let u=Promise.resolve(h);n.length<3&&(u=u.then(a)),u.catch(f=>c(f))})}function Zl(n,e,t,i,s=r=>r()){const r=[];for(const o of n)for(const l in o.components){let c=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(u0(c)){const h=(c.__vccOpts||c)[e];h&&r.push(zn(h,t,i,o,l,s))}else{let a=c();r.push(()=>a.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const u=Tk(h)?h.default:h;o.mods[l]=h,o.components[l]=u;const d=(u.__vccOpts||u)[e];return d&&zn(d,t,i,o,l,s)()}))}}return r}function Jf(n){const e=Dn(mu),t=Dn(C0),i=Fe(()=>{const c=Me(n.to);return e.resolve(c)}),s=Fe(()=>{const{matched:c}=i.value,{length:a}=c,h=c[a-1],u=t.matched;if(!h||!u.length)return-1;const f=u.findIndex(cs.bind(null,h));if(f>-1)return f;const d=Xf(c[a-2]);return a>1&&Xf(h)===d&&u[u.length-1].path!==d?u.findIndex(cs.bind(null,c[a-2])):f}),r=Fe(()=>s.value>-1&&Mw(t.params,i.value.params)),o=Fe(()=>s.value>-1&&s.value===t.matched.length-1&&y0(t.params,i.value.params));function l(c={}){if(Ew(c)){const a=e[Me(n.replace)?"replace":"push"](Me(n.to)).catch(Us);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>a),a}return Promise.resolve()}return{route:i,href:Fe(()=>i.value.href),isActive:r,isExactActive:o,navigate:l}}function Sw(n){return n.length===1?n[0]:n}const Aw=Ot({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Jf,setup(n,{slots:e}){const t=dl(Jf(n)),{options:i}=Dn(mu),s=Fe(()=>({[Zf(n.activeClass,i.linkActiveClass,"router-link-active")]:t.isActive,[Zf(n.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const r=e.default&&Sw(e.default(t));return n.custom?r:vl("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:s.value},r)}}}),_w=Aw;function Ew(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function Mw(n,e){for(const t in e){const i=e[t],s=n[t];if(typeof i=="string"){if(i!==s)return!1}else if(!Ut(s)||s.length!==i.length||i.some((r,o)=>r!==s[o]))return!1}return!0}function Xf(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const Zf=(n,e,t)=>n??e??t,Dw=Ot({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const i=Dn(Ya),s=Fe(()=>n.route||i.value),r=Dn(Yf,0),o=Fe(()=>{let a=Me(r);const{matched:h}=s.value;let u;for(;(u=h[a])&&!u.components;)a++;return a}),l=Fe(()=>s.value.matched[o.value]);uo(Yf,Fe(()=>o.value+1)),uo(Cw,l),uo(Ya,s);const c=Ye();return Zn(()=>[c.value,l.value,n.name],([a,h,u],[f,d,p])=>{h&&(h.instances[u]=a,d&&d!==h&&a&&a===f&&(h.leaveGuards.size||(h.leaveGuards=d.leaveGuards),h.updateGuards.size||(h.updateGuards=d.updateGuards))),a&&h&&(!d||!cs(h,d)||!f)&&(h.enterCallbacks[u]||[]).forEach(m=>m(a))},{flush:"post"}),()=>{const a=s.value,h=n.name,u=l.value,f=u&&u.components[h];if(!f)return Qf(t.default,{Component:f,route:a});const d=u.props[h],p=d?d===!0?a.params:typeof d=="function"?d(a):d:null,b=vl(f,be({},p,e,{onVnodeUnmounted:g=>{g.component.isUnmounted&&(u.instances[h]=null)},ref:c}));return Qf(t.default,{Component:b,route:a})||b}}});function Qf(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const Tw=Dw;function Rw(n){const e=gw(n.routes,n),t=n.parseQuery||kw,i=n.stringifyQuery||Gf,s=n.history,r=_s(),o=_s(),l=_s(),c=Rg(qn);let a=qn;Hi&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Jl.bind(null,O=>""+O),u=Jl.bind(null,Vk),f=Jl.bind(null,or);function d(O,Z){let K,te;return v0(O)?(K=e.getRecordMatcher(O),te=Z):te=O,e.addRoute(te,K)}function p(O){const Z=e.getRecordMatcher(O);Z&&e.removeRoute(Z)}function m(){return e.getRoutes().map(O=>O.record)}function b(O){return!!e.getRecordMatcher(O)}function g(O,Z){if(Z=be({},Z||c.value),typeof O=="string"){const E=Xl(t,O,Z.path),L=e.resolve({path:E.path},Z),F=s.createHref(E.fullPath);return be(E,L,{params:f(L.params),hash:or(E.hash),redirectedFrom:void 0,href:F})}let K;if(O.path!=null)K=be({},O,{path:Xl(t,O.path,Z.path).path});else{const E=be({},O.params);for(const L in E)E[L]==null&&delete E[L];K=be({},O,{params:u(E)}),Z.params=u(Z.params)}const te=e.resolve(K,Z),Se=O.hash||"";te.params=h(f(te.params));const w=Uk(i,be({},O,{hash:$k(Se),path:te.path})),S=s.createHref(w);return be({fullPath:w,hash:Se,query:i===Gf?ww(O.query):O.query||{}},te,{redirectedFrom:void 0,href:S})}function x(O){return typeof O=="string"?Xl(t,O,c.value.path):be({},O)}function y(O,Z){if(a!==O)return as(8,{from:Z,to:O})}function v(O){return A(O)}function k(O){return v(be(x(O),{replace:!0}))}function C(O){const Z=O.matched[O.matched.length-1];if(Z&&Z.redirect){const{redirect:K}=Z;let te=typeof K=="function"?K(O):K;return typeof te=="string"&&(te=te.includes("?")||te.includes("#")?te=x(te):{path:te},te.params={}),be({query:O.query,hash:O.hash,params:te.path!=null?{}:O.params},te)}}function A(O,Z){const K=a=g(O),te=c.value,Se=O.state,w=O.force,S=O.replace===!0,E=C(K);if(E)return A(be(x(E),{state:typeof E=="object"?be({},Se,E.state):Se,force:w,replace:S}),Z||K);const L=K;L.redirectedFrom=Z;let F;return!w&&Kk(i,te,K)&&(F=as(16,{to:L,from:te}),Ce(te,te,!0,!1)),(F?Promise.resolve(F):T(L,te)).catch(B=>Sn(B)?Sn(B,2)?B:Q(B):oe(B,L,te)).then(B=>{if(B){if(Sn(B,2))return A(be({replace:S},x(B.to),{state:typeof B.to=="object"?be({},Se,B.to.state):Se,force:w}),Z||L)}else B=N(L,te,!0,S,Se);return I(L,te,B),B})}function M(O,Z){const K=y(O,Z);return K?Promise.reject(K):Promise.resolve()}function R(O){const Z=yt.values().next().value;return Z&&typeof Z.runWithContext=="function"?Z.runWithContext(O):O()}function T(O,Z){let K;const[te,Se,w]=Ow(O,Z);K=Zl(te.reverse(),"beforeRouteLeave",O,Z);for(const E of te)E.leaveGuards.forEach(L=>{K.push(zn(L,O,Z))});const S=M.bind(null,O,Z);return K.push(S),Je(K).then(()=>{K=[];for(const E of r.list())K.push(zn(E,O,Z));return K.push(S),Je(K)}).then(()=>{K=Zl(Se,"beforeRouteUpdate",O,Z);for(const E of Se)E.updateGuards.forEach(L=>{K.push(zn(L,O,Z))});return K.push(S),Je(K)}).then(()=>{K=[];for(const E of w)if(E.beforeEnter)if(Ut(E.beforeEnter))for(const L of E.beforeEnter)K.push(zn(L,O,Z));else K.push(zn(E.beforeEnter,O,Z));return K.push(S),Je(K)}).then(()=>(O.matched.forEach(E=>E.enterCallbacks={}),K=Zl(w,"beforeRouteEnter",O,Z,R),K.push(S),Je(K))).then(()=>{K=[];for(const E of o.list())K.push(zn(E,O,Z));return K.push(S),Je(K)}).catch(E=>Sn(E,8)?E:Promise.reject(E))}function I(O,Z,K){l.list().forEach(te=>R(()=>te(O,Z,K)))}function N(O,Z,K,te,Se){const w=y(O,Z);if(w)return w;const S=Z===qn,E=Hi?history.state:{};K&&(te||S?s.replace(O.fullPath,be({scroll:S&&E&&E.scroll},Se)):s.push(O.fullPath,Se)),c.value=O,Ce(O,Z,K,S),Q()}let D;function _(){D||(D=s.listen((O,Z,K)=>{if(!Vt.listening)return;const te=g(O),Se=C(te);if(Se){A(be(Se,{replace:!0,force:!0}),te).catch(Us);return}a=te;const w=c.value;Hi&&tw(qf(w.fullPath,K.delta),xl()),T(te,w).catch(S=>Sn(S,12)?S:Sn(S,2)?(A(be(x(S.to),{force:!0}),te).then(E=>{Sn(E,20)&&!K.delta&&K.type===lr.pop&&s.go(-1,!1)}).catch(Us),Promise.reject()):(K.delta&&s.go(-K.delta,!1),oe(S,te,w))).then(S=>{S=S||N(te,w,!1),S&&(K.delta&&!Sn(S,8)?s.go(-K.delta,!1):K.type===lr.pop&&Sn(S,20)&&s.go(-1,!1)),I(te,w,S)}).catch(Us)}))}let $=_s(),Y=_s(),ee;function oe(O,Z,K){Q(O);const te=Y.list();return te.length?te.forEach(Se=>Se(O,Z,K)):console.error(O),Promise.reject(O)}function ce(){return ee&&c.value!==qn?Promise.resolve():new Promise((O,Z)=>{$.add([O,Z])})}function Q(O){return ee||(ee=!O,_(),$.list().forEach(([Z,K])=>O?K(O):Z()),$.reset()),O}function Ce(O,Z,K,te){const{scrollBehavior:Se}=n;if(!Hi||!Se)return Promise.resolve();const w=!K&&nw(qf(O.fullPath,0))||(te||!K)&&history.state&&history.state.scroll||null;return su().then(()=>Se(O,Z,w)).then(S=>S&&ew(S)).catch(S=>oe(S,O,Z))}const me=O=>s.go(O);let $e;const yt=new Set,Vt={currentRoute:c,listening:!0,addRoute:d,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:b,getRoutes:m,resolve:g,options:n,push:v,replace:k,go:me,back:()=>me(-1),forward:()=>me(1),beforeEach:r.add,beforeResolve:o.add,afterEach:l.add,onError:Y.add,isReady:ce,install(O){const Z=this;O.component("RouterLink",_w),O.component("RouterView",Tw),O.config.globalProperties.$router=Z,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>Me(c)}),Hi&&!$e&&c.value===qn&&($e=!0,v(s.location).catch(Se=>{}));const K={};for(const Se in qn)Object.defineProperty(K,Se,{get:()=>c.value[Se],enumerable:!0});O.provide(mu,Z),O.provide(C0,Dg(K)),O.provide(Ya,c);const te=O.unmount;yt.add(O),O.unmount=function(){yt.delete(O),yt.size<1&&(a=qn,D&&D(),D=null,c.value=qn,$e=!1,ee=!1),te()}}};function Je(O){return O.reduce((Z,K)=>Z.then(()=>R(K)),Promise.resolve())}return Vt}function Ow(n,e){const t=[],i=[],s=[],r=Math.max(e.matched.length,n.matched.length);for(let o=0;o<r;o++){const l=e.matched[o];l&&(n.matched.find(a=>cs(a,l))?i.push(l):t.push(l));const c=n.matched[o];c&&(e.matched.find(a=>cs(a,c))||s.push(c))}return[t,i,s]}function Pw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Lw(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var s=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:function(){return n[i]}})}),t}var Ql={};const Bw="",Iw="",Fw="",Nw="",qw="",$w="",Hw="",zw="",Vw="",Ww="",jw="",Uw="",Kw="",Gw="",Yw="",Jw="",Xw="",Zw="",Qw="",eC="",tC="",nC="",iC="",sC="",rC="",oC="",lC="&",cC="&",aC="",hC="",uC="",fC="",dC="",pC="",mC="",gC="",yC="",bC="",vC="",xC="",kC="",wC="",CC="",SC="",AC="",_C="",EC="",MC="",DC="",TC="",RC="",OC="",PC="",LC="",BC="",IC="",FC="",NC="",qC="",$C="",HC="",zC="'",VC="",WC="",jC="",UC="",KC="",GC="",YC="",JC="",XC="*",ZC="",QC="",eS="",tS="",nS="",iS="",sS="",rS="",oS="",lS="",cS="",aS="",hS="",uS="",fS="",dS="",pS="",mS="",gS="",yS="",bS="",vS="",xS="",kS="",wS="",CS="",SS="",AS="",_S="",ES="",MS="",DS="",TS="",RS="",OS="",PS="",LS="",BS="",IS="",FS="",NS="",qS="",$S="",HS="",zS="",VS="",WS="",jS="",US="",KS="",GS="",YS="",JS="",XS="",ZS="",QS="",eA="",tA="",nA="",iA="",sA="",rA="",oA="",lA="=",cA="",aA="",hA="",uA="",fA="",dA="",pA="",mA="",gA="",yA="",bA="",vA="",xA="",kA="",wA="",CA="",SA="",AA="",_A="",EA="",MA="",DA="",TA="",RA="",OA="",PA="",LA="",BA="",IA="",FA="",NA="",qA="",$A="",HA="",zA="",VA="",WA="",jA="",UA="",KA="",GA="",YA="",JA="",XA="",ZA="",QA="",e_="",t_="",n_="",i_="",s_="",r_="",o_="",l_="",c_="",a_="",h_="",u_="",f_="",d_="",p_="",m_="",g_="\\",y_="",b_="",v_="",x_="",k_="",w_="",C_="",S_="",A_="",__="",E_="",M_="",D_="",T_="",R_="",O_="",P_="",L_="",B_="",I_="",F_="",N_="",q_="",$_="",H_="",z_="",V_="",W_="",j_="",U_="",K_="",G_="",Y_="",J_="",X_="",Z_="",Q_="",eE="",tE="",nE="",iE="",sE="",rE="",oE="",lE="",cE="",aE="",hE="",uE="",fE="",dE="",pE="",mE="",gE="",yE="",bE="",vE="",xE="",kE="",wE="",CE="",SE="",AE="",_E="",EE="",ME="",DE="",TE="",RE="",OE="",PE="",LE="",BE=":",IE="",FE="",NE="",qE="",$E=",",HE="@",zE="",VE="",WE="",jE="",UE="",KE="",GE="",YE="",JE="",XE="",ZE="",QE="",eM="",tM="",nM="",iM="",sM="",rM="",oM="",lM="",cM="",aM="",hM="",uM="",fM="",dM="",pM="",mM="",gM="",yM="",bM="",vM="",xM="",kM="",wM="",CM="",SM="",AM="",_M="",EM="",MM="",DM="",TM="",RM="",OM="",PM="",LM="",BM="",IM="",FM="",NM="",qM="",$M="",HM="",zM="",VM="",WM="",jM="",UM="",KM="",GM="",YM="",JM="",XM="",ZM="",QM="",eD="",tD="",nD="",iD="",sD="",rD="",oD="",lD="",cD="",aD="",hD="",uD="",fD="",dD="",pD="",mD="",gD="",yD="",bD="",vD="",xD="",kD="",wD="",CD="",SD="",AD="",_D="`",ED="",MD="",DD="",TD="",RD="",OD="",PD="",LD="",BD="",ID="",FD="",ND="",qD="",$D="",HD="",zD="",VD="",WD="",jD="$",UD="",KD="",GD="",YD="",JD="",XD="",ZD="",QD="",eT="",tT="",nT="",iT="",sT="",rT="",oT="",lT="",cT="",aT="",hT="",uT="",fT="",dT="",pT="",mT="",gT="",yT="",bT="",vT="",xT="",kT="",wT="",CT="",ST="",AT="",_T="",ET="",MT="",DT="",TT="",RT="",OT="",PT="",LT="",BT="",IT="",FT="",NT="",qT="",$T="",HT="",zT="",VT="",WT="",jT="",UT="",KT="",GT="",YT="",JT="",XT="",ZT="",QT="",e2="",t2="",n2="",i2="",s2="",r2="",o2="",l2="",c2="",a2="",h2="",u2="",f2="",d2="",p2="",m2="",g2="",y2="",b2="",v2="",x2="",k2="",w2="",C2="",S2="",A2="",_2="",E2="",M2="",D2="",T2="",R2="",O2="",P2="",L2="",B2="",I2="",F2="",N2="",q2="",$2="",H2="",z2="",V2="",W2="",j2="",U2="",K2="",G2="",Y2="",J2="",X2="",Z2="",Q2="",eR="",tR="",nR="",iR="",sR="",rR="",oR="",lR="=",cR="",aR="",hR="",uR="",fR="",dR="",pR="",mR="",gR="",yR="",bR="",vR="",xR="",kR="",wR="",CR="",SR="",AR="",_R="",ER="",MR="!",DR="",TR="",RR="",OR="",PR="",LR="",BR="",IR="",FR="",NR="",qR="",$R="",HR="",zR="",VR="",WR="",jR="",UR="fj",KR="",GR="",YR="",JR="",XR="",ZR="",QR="",eO="",tO="",nO="",iO="",sO="",rO="",oO="",lO="",cO="",aO="",hO="",uO="",fO="",dO="",pO="",mO="",gO="",yO="",bO="",vO="",xO="",kO="",wO="",CO="",SO="",AO="",_O="",EO="",MO="",DO="",TO="",RO="",OO="",PO="",LO="",BO="",IO="",FO="",NO="",qO="",$O="",HO="",zO="",VO="",WO="",jO="",UO="",KO="",GO="",YO="",JO="",XO="",ZO="",QO="",eP="",tP="",nP="",iP="",sP="",rP="",oP="",lP="",cP="",aP="",hP="",uP="",fP="",dP="",pP="",mP="",gP="",yP="",bP="",vP="",xP="`",kP="",wP="",CP="",SP="",AP="",_P="",EP="",MP="",DP="",TP="",RP="",OP="",PP="",LP="",BP=">",IP=">",FP="",NP="",qP="",$P="",HP="",zP="",VP="",WP="",jP="",UP="",KP="",GP="",YP="",JP="",XP="",ZP="",QP="",eL="",tL="",nL="",iL="",sL="",rL="",oL="^",lL="",cL="",aL="",hL="",uL="",fL="",dL="",pL="",mL="",gL="",yL="",bL="",vL="",xL="",kL="",wL="",CL="",SL="",AL="",_L="",EL="",ML="",DL="",TL="",RL="",OL="",PL="",LL="",BL="",IL="",FL="",NL="",qL="",$L="",HL="",zL="",VL="",WL="",jL="",UL="",KL="",GL="",YL="",JL="",XL="",ZL="",QL="",eB="",tB="",nB="",iB="",sB="",rB="",oB="",lB="",cB="",aB="",hB="",uB="",fB="",dB="",pB="",mB="",gB="",yB="",bB="",vB="",xB="",kB="",wB="",CB="",SB="",AB="",_B="",EB="",MB="",DB="",TB="",RB="",OB="",PB="",LB="",BB="",IB="",FB="",NB="",qB="",$B="",HB="",zB="",VB="",WB="",jB="",UB="",KB="",GB="",YB="",JB="",XB="",ZB="",QB="",eI="",tI="",nI="",iI="",sI="",rI="",oI="",lI="",cI="",aI="",hI="",uI="",fI="",dI="",pI="",mI="",gI="",yI="",bI="",vI="",xI="",kI="",wI="",CI="",SI="",AI="",_I="",EI="",MI="",DI="",TI="",RI="",OI="",PI="",LI="",BI="",II="",FI="",NI="",qI="",$I="",HI="",zI="",VI="",WI="",jI="",UI="",KI="",GI="",YI="",JI="",XI="",ZI="",QI="",eF="",tF="",nF="",iF="",sF="",rF="",oF="",lF="",cF="",aF="",hF="",uF="",fF="",dF="",pF="{",mF="[",gF="",yF="",bF="",vF="",xF="",kF="",wF="",CF="",SF="{",AF="",_F="",EF="",MF="",DF="",TF="",RF="",OF="",PF="",LF="",BF="",IF="",FF="",NF="",qF="",$F="",HF="",zF="",VF="",WF="",jF="",UF="",KF="",GF="",YF="",JF="",XF="",ZF="",QF="",eN="",tN="",nN="",iN="",sN="",rN="",oN="",lN="",cN="",aN="",hN="",uN="",fN="",dN="",pN="",mN="",gN="",yN="",bN="",vN="",xN="",kN="",wN="",CN="",SN="",AN="",_N="",EN="",MN="",DN="",TN="",RN="",ON="",PN="",LN="",BN="",IN="",FN="",NN="",qN="",$N="",HN="",zN="",VN="",WN="",jN="",UN="",KN="",GN="",YN="",JN="",XN="",ZN="",QN="",eq="",tq="",nq="",iq="",sq="",rq="",oq="",lq="",cq="",aq="",hq="",uq="",fq="",dq="",pq="",mq="",gq="",yq="",bq="",vq="",xq="",kq="",wq="",Cq="",Sq="",Aq="",_q="",Eq="",Mq="",Dq="",Tq="",Rq="",Oq="",Pq="",Lq="",Bq="",Iq="",Fq="",Nq="",qq="_",$q="",Hq="",zq="",Vq="",Wq="",jq="(",Uq="",Kq="",Gq="",Yq="",Jq="",Xq="",Zq="",Qq="",e3="",t3="",n3="",i3="",s3="",r3="",o3="",l3="[",c3="",a3="",h3="",u3="",f3="",d3="",p3="<",m3="<",g3="",y3="",b3="",v3="",x3="",k3="",w3="",C3="",S3="",A3="",_3="",E3="",M3="",D3="",T3="",R3="",O3="",P3="",L3="",B3="",I3="",F3="",N3="",q3="",$3="",H3="",z3="",V3="",W3="",j3="",U3="",K3="",G3="",Y3="",J3="",X3="",Z3="*",Q3="",e$="",t$="",n$="",i$="",s$="",r$="",o$="",l$="",c$="",a$="",h$="",u$="",f$="",d$="",p$="",m$="",g$="",y$="",b$="",v$="",x$="",k$="",w$="",C$="",S$="",A$="",_$="",E$="",M$="",D$="",T$="",R$="",O$="",P$="",L$="",B$="",I$="",F$="",N$="",q$="",$$="",H$="",z$="",V$="",W$="",j$="",U$="",K$="",G$="",Y$="",J$="",X$="",Z$="",Q$="",eH="",tH="",nH="",iH="",sH="",rH="",oH="",lH="",cH=`
`,aH="",hH="",uH="",fH="",dH="",pH="",mH="",gH="",yH="",bH="",vH="",xH="",kH="",wH="",CH="",SH="",AH="",_H="",EH="",MH="",DH="",TH="",RH="",OH="",PH="",LH="",BH="",IH="",FH="",NH="",qH="",$H="",HH="",zH="",VH="",WH="",jH="",UH="",KH="",GH="",YH="",JH="",XH="",ZH="",QH="",e8="",t8="",n8="",i8="",s8="",r8="",o8="",l8="",c8="",a8="",h8="",u8="",f8="",d8="",p8="",m8="",g8="",y8="",b8="",v8="",x8="",k8="",w8="",C8="",S8="",A8="",_8="",E8="",M8="",D8="",T8="",R8="",O8="",P8="",L8="",B8="",I8="",F8="",N8="",q8="",$8="",H8="",z8="",V8="",W8="",j8="",U8="",K8="",G8="",Y8="",J8="",X8="",Z8="",Q8="",ez="",tz="",nz="",iz="",sz="",rz="",oz="",lz="",cz="",az="",hz="",uz="",fz="",dz="",pz="",mz="",gz="",yz="",bz="",vz="",xz="",kz="",wz="",Cz="",Sz="",Az="",_z="",Ez="",Mz="",Dz="",Tz="",Rz="",Oz="",Pz="",Lz="",Bz="",Iz="",Fz="",Nz="",qz="",$z="",Hz="",zz="",Vz="",Wz="",jz="",Uz="",Kz="",Gz="",Yz="",Jz="",Xz="",Zz="",Qz="",e4="",t4="",n4="",i4="",s4="",r4="",o4="",l4="",c4="",a4="",h4="",u4="",f4="",d4="",p4="",m4="",g4="",y4="#",b4="",v4="",x4="",k4="",w4="",C4="",S4="",A4="",_4=">",E4="",M4="",D4="",T4="",R4="<",O4="",P4="",L4="",B4="",I4="",F4="",N4="",q4="",$4="",H4="",z4="",V4="",W4="",j4="",U4="",K4="",G4="",Y4="",J4="",X4="",Z4="",Q4="",eV="",tV="",nV="",iV="",sV="",rV="",oV="",lV="",cV="",aV="",hV="",uV="",fV="",dV="",pV="",mV="",gV="",yV="",bV="",vV="",xV="",kV="",wV="",CV="",SV="",AV="",_V="",EV="",MV="",DV="",TV="",RV="",OV="",PV="",LV="",BV="",IV="",FV="",NV="",qV="",$V="",HV="",zV="",VV="",WV="",jV="",UV="",KV="",GV="",YV="",JV="",XV="",ZV="",QV="",e5="",t5="",n5="",i5="",s5="",r5="",o5="",l5="",c5="",a5="",h5="",u5="",f5="",d5="",p5="",m5="",g5="",y5="",b5="%",v5=".",x5="",k5="",w5="",C5="",S5="",A5="",_5="",E5="",M5="",D5="",T5="",R5="",O5="",P5="",L5="",B5="",I5="",F5="",N5="",q5="",$5="+",H5="",z5="",V5="",W5="",j5="",U5="",K5="",G5="",Y5="",J5="",X5="",Z5="",Q5="",e6="",t6="",n6="",i6="",s6="",r6="",o6="",l6="",c6="",a6="",h6="",u6="",f6="",d6="",p6="",m6="",g6="",y6="",b6="",v6="",x6="",k6="",w6="",C6="",S6="",A6="",_6="",E6="",M6="",D6="",T6="",R6="",O6="",P6="",L6="",B6="",I6="",F6="",N6="",q6="",$6="",H6="",z6="",V6="",W6="",j6="",U6="",K6="",G6="",Y6="",J6="?",X6="",Z6='"',Q6='"',e9="",t9="",n9="",i9="",s9="",r9="",o9="",l9="",c9="",a9="",h9="",u9="",f9="",d9="",p9="",m9="",g9="",y9="",b9="",v9="",x9="",k9="",w9="",C9="",S9="",A9="",_9="",E9="",M9="",D9="",T9="",R9="",O9="",P9="",L9="",B9="}",I9="]",F9="",N9="",q9="",$9="",H9="",z9="",V9="",W9="",j9="}",U9="",K9="",G9="",Y9="",J9="",X9="",Z9="",Q9="",eW="",tW="",nW="",iW="",sW="",rW="",oW="",lW="",cW="",aW="",hW="",uW="",fW="",dW="",pW="",mW="",gW="",yW="",bW="",vW="",xW="",kW="",wW="",CW="",SW="",AW="",_W="",EW="",MW="",DW="",TW="",RW="",OW="",PW="",LW="",BW="",IW="",FW="",NW="",qW="",$W="",HW="",zW="",VW="",WW="",jW="",UW="",KW="",GW="",YW="",JW="",XW="",ZW="",QW="",ej="",tj="",nj="",ij="",sj="",rj="",oj="",lj="",cj="",aj="",hj="",uj="",fj="",dj="",pj="",mj="",gj=")",yj="",bj="",vj="",xj="",kj="",wj="",Cj="",Sj="",Aj="",_j="]",Ej="",Mj="",Dj="",Tj="",Rj="",Oj="",Pj="",Lj="",Bj="",Ij="",Fj="",Nj="",qj="",$j="",Hj="",zj="",Vj="",Wj="",jj="",Uj="",Kj="",Gj="",Yj="",Jj="",Xj="",Zj="",Qj="",e7="",t7="",n7="",i7="",s7="",r7="",o7="",l7="",c7="",a7="",h7="",u7="",f7="",d7="",p7=";",m7="",g7="",y7="",b7="",v7="",x7="",k7="",w7="",C7="",S7="",A7="",_7="",E7="",M7="",D7="",T7="",R7="",O7="",P7="",L7="",B7="",I7="",F7="",N7="",q7="",$7="",H7="",z7="",V7="",W7="",j7="",U7="",K7="",G7="",Y7="",J7="",X7="",Z7="",Q7="",eU="",tU="",nU="",iU="",sU="",rU="",oU="",lU="",cU="",aU="/",hU="",uU="",fU="",dU="",pU="",mU="",gU="",yU="",bU="",vU="",xU="",kU="",wU="",CU="",SU="",AU="",_U="",EU="",MU="",DU="",TU="",RU="",OU="",PU="",LU="",BU="",IU="",FU="",NU="",qU="",$U="",HU="",zU="",VU="",WU="",jU="",UU="",KU="",GU="",YU="",JU="",XU="",ZU="",QU="",eK="",tK="",nK="",iK="",sK="",rK="",oK="",lK="",cK="",aK="",hK="",uK="",fK="",dK="",pK="",mK="",gK="",yK="",bK="",vK="",xK="",kK="",wK="",CK="",SK="",AK="",_K="",EK="",MK="",DK="",TK="",RK="",OK="",PK="",LK="",BK="",IK="",FK="",NK="",qK="",$K="",HK="",zK="",VK="",WK="",jK="",UK="",KK="",GK="",YK="",JK="",XK="",ZK="",QK="",eG="",tG="",nG="",iG="",sG="",rG="",oG="",lG="",cG="",aG="",hG="",uG="",fG="",dG="",pG="	",mG="",gG="",yG="",bG="",vG="",xG="",kG="",wG="",CG="",SG="",AG="",_G="",EG="",MG="",DG="",TG="",RG="",OG="",PG="",LG="",BG="",IG="",FG="",NG="",qG="",$G="",HG="",zG="",VG="",WG="",jG="",UG="",KG="",GG="",YG="",JG="",XG="",ZG="",QG="",eY="",tY="",nY="",iY="",sY="",rY="",oY="",lY="",cY="",aY="",hY="",uY="",fY="",dY="",pY="",mY="",gY="",yY="",bY="",vY="",xY="",kY="",wY="",CY="",SY="",AY="",_Y="",EY="",MY="",DY="",TY="",RY="",OY="",PY="",LY="",BY="",IY="",FY="",NY="",qY="",$Y="",HY="",zY="",VY="",WY="",jY="",UY="",KY="",GY="",YY="",JY="",XY="",ZY="",QY="",eJ="",tJ="",nJ="",iJ="",sJ="",rJ="",oJ="",lJ="",cJ="",aJ="",hJ="",uJ="",fJ="",dJ="",pJ="",mJ="",gJ="",yJ="",bJ="_",vJ="",xJ="",kJ="",wJ="",CJ="",SJ="",AJ="",_J="",EJ="",MJ="",DJ="",TJ="",RJ="",OJ="",PJ="",LJ="",BJ="",IJ="",FJ="",NJ="",qJ="",$J="",HJ="",zJ="",VJ="",WJ="",jJ="",UJ="",KJ="",GJ="",YJ="",JJ="",XJ="",ZJ="",QJ="",eX="",tX="",nX="",iX="",sX="",rX="",oX="",lX="",cX="",aX="",hX="",uX="",fX="",dX="",pX="",mX="",gX="",yX="",bX="",vX="",xX="",kX="",wX="",CX="",SX="",AX="",_X="",EX="",MX="",DX="",TX="",RX="",OX="",PX="",LX="",BX="",IX="",FX="",NX="",qX="",$X="",HX="",zX="",VX="",WX="",jX="",UX="|",KX="",GX="|",YX="",JX="",XX="|",ZX="",QX="",eZ="",tZ="",nZ="",iZ="",sZ="",rZ="",oZ="",lZ="",cZ="",aZ="",hZ="",uZ="",fZ="",dZ="",pZ="",mZ="",gZ="",yZ="",bZ="",vZ="",xZ="",kZ="",wZ="",CZ="",SZ="",AZ="",_Z="",EZ="",MZ="",DZ="",TZ="",RZ="",OZ="",PZ="",LZ="",BZ="",IZ="",FZ="",NZ="",qZ="",$Z="",HZ="",zZ="",VZ="",WZ="",jZ="",UZ="",KZ="",GZ="",YZ="",JZ="",XZ="",ZZ="",QZ="",eQ="",tQ="",nQ="",iQ="",sQ="",rQ="",oQ="",lQ="",cQ="",aQ="",hQ="",uQ="",fQ="",dQ="",pQ="",mQ="",gQ="",yQ="",bQ="",vQ="",xQ="",kQ="",wQ="",CQ="",SQ="",AQ="",_Q="",EQ="",MQ="",DQ="",TQ="",RQ="",OQ="",PQ="",LQ="",BQ="",IQ="",FQ="",NQ="",qQ="",$Q="",HQ="",zQ="",VQ="",WQ="",jQ="",UQ="",KQ="",GQ="",YQ="",JQ="",XQ="",ZQ={Aacute:Bw,aacute:Iw,Abreve:Fw,abreve:Nw,ac:qw,acd:$w,acE:Hw,Acirc:zw,acirc:Vw,acute:Ww,Acy:jw,acy:Uw,AElig:Kw,aelig:Gw,af:Yw,Afr:Jw,afr:Xw,Agrave:Zw,agrave:Qw,alefsym:eC,aleph:tC,Alpha:nC,alpha:iC,Amacr:sC,amacr:rC,amalg:oC,amp:lC,AMP:cC,andand:aC,And:hC,and:uC,andd:fC,andslope:dC,andv:pC,ang:mC,ange:gC,angle:yC,angmsdaa:bC,angmsdab:vC,angmsdac:xC,angmsdad:kC,angmsdae:wC,angmsdaf:CC,angmsdag:SC,angmsdah:AC,angmsd:_C,angrt:EC,angrtvb:MC,angrtvbd:DC,angsph:TC,angst:RC,angzarr:OC,Aogon:PC,aogon:LC,Aopf:BC,aopf:IC,apacir:FC,ap:NC,apE:qC,ape:$C,apid:HC,apos:zC,ApplyFunction:VC,approx:WC,approxeq:jC,Aring:UC,aring:KC,Ascr:GC,ascr:YC,Assign:JC,ast:XC,asymp:ZC,asympeq:QC,Atilde:eS,atilde:tS,Auml:nS,auml:iS,awconint:sS,awint:rS,backcong:oS,backepsilon:lS,backprime:cS,backsim:aS,backsimeq:hS,Backslash:uS,Barv:fS,barvee:dS,barwed:pS,Barwed:mS,barwedge:gS,bbrk:yS,bbrktbrk:bS,bcong:vS,Bcy:xS,bcy:kS,bdquo:wS,becaus:CS,because:SS,Because:AS,bemptyv:_S,bepsi:ES,bernou:MS,Bernoullis:DS,Beta:TS,beta:RS,beth:OS,between:PS,Bfr:LS,bfr:BS,bigcap:IS,bigcirc:FS,bigcup:NS,bigodot:qS,bigoplus:$S,bigotimes:HS,bigsqcup:zS,bigstar:VS,bigtriangledown:WS,bigtriangleup:jS,biguplus:US,bigvee:KS,bigwedge:GS,bkarow:YS,blacklozenge:JS,blacksquare:XS,blacktriangle:ZS,blacktriangledown:QS,blacktriangleleft:eA,blacktriangleright:tA,blank:nA,blk12:iA,blk14:sA,blk34:rA,block:oA,bne:lA,bnequiv:cA,bNot:aA,bnot:hA,Bopf:uA,bopf:fA,bot:dA,bottom:pA,bowtie:mA,boxbox:gA,boxdl:yA,boxdL:bA,boxDl:vA,boxDL:xA,boxdr:kA,boxdR:wA,boxDr:CA,boxDR:SA,boxh:AA,boxH:_A,boxhd:EA,boxHd:MA,boxhD:DA,boxHD:TA,boxhu:RA,boxHu:OA,boxhU:PA,boxHU:LA,boxminus:BA,boxplus:IA,boxtimes:FA,boxul:NA,boxuL:qA,boxUl:$A,boxUL:HA,boxur:zA,boxuR:VA,boxUr:WA,boxUR:jA,boxv:UA,boxV:KA,boxvh:GA,boxvH:YA,boxVh:JA,boxVH:XA,boxvl:ZA,boxvL:QA,boxVl:e_,boxVL:t_,boxvr:n_,boxvR:i_,boxVr:s_,boxVR:r_,bprime:o_,breve:l_,Breve:c_,brvbar:a_,bscr:h_,Bscr:u_,bsemi:f_,bsim:d_,bsime:p_,bsolb:m_,bsol:g_,bsolhsub:y_,bull:b_,bullet:v_,bump:x_,bumpE:k_,bumpe:w_,Bumpeq:C_,bumpeq:S_,Cacute:A_,cacute:__,capand:E_,capbrcup:M_,capcap:D_,cap:T_,Cap:R_,capcup:O_,capdot:P_,CapitalDifferentialD:L_,caps:B_,caret:I_,caron:F_,Cayleys:N_,ccaps:q_,Ccaron:$_,ccaron:H_,Ccedil:z_,ccedil:V_,Ccirc:W_,ccirc:j_,Cconint:U_,ccups:K_,ccupssm:G_,Cdot:Y_,cdot:J_,cedil:X_,Cedilla:Z_,cemptyv:Q_,cent:eE,centerdot:tE,CenterDot:nE,cfr:iE,Cfr:sE,CHcy:rE,chcy:oE,check:lE,checkmark:cE,Chi:aE,chi:hE,circ:uE,circeq:fE,circlearrowleft:dE,circlearrowright:pE,circledast:mE,circledcirc:gE,circleddash:yE,CircleDot:bE,circledR:vE,circledS:xE,CircleMinus:kE,CirclePlus:wE,CircleTimes:CE,cir:SE,cirE:AE,cire:_E,cirfnint:EE,cirmid:ME,cirscir:DE,ClockwiseContourIntegral:TE,CloseCurlyDoubleQuote:RE,CloseCurlyQuote:OE,clubs:PE,clubsuit:LE,colon:BE,Colon:IE,Colone:FE,colone:NE,coloneq:qE,comma:$E,commat:HE,comp:zE,compfn:VE,complement:WE,complexes:jE,cong:UE,congdot:KE,Congruent:GE,conint:YE,Conint:JE,ContourIntegral:XE,copf:ZE,Copf:QE,coprod:eM,Coproduct:tM,copy:nM,COPY:iM,copysr:sM,CounterClockwiseContourIntegral:rM,crarr:oM,cross:lM,Cross:cM,Cscr:aM,cscr:hM,csub:uM,csube:fM,csup:dM,csupe:pM,ctdot:mM,cudarrl:gM,cudarrr:yM,cuepr:bM,cuesc:vM,cularr:xM,cularrp:kM,cupbrcap:wM,cupcap:CM,CupCap:SM,cup:AM,Cup:_M,cupcup:EM,cupdot:MM,cupor:DM,cups:TM,curarr:RM,curarrm:OM,curlyeqprec:PM,curlyeqsucc:LM,curlyvee:BM,curlywedge:IM,curren:FM,curvearrowleft:NM,curvearrowright:qM,cuvee:$M,cuwed:HM,cwconint:zM,cwint:VM,cylcty:WM,dagger:jM,Dagger:UM,daleth:KM,darr:GM,Darr:YM,dArr:JM,dash:XM,Dashv:ZM,dashv:QM,dbkarow:eD,dblac:tD,Dcaron:nD,dcaron:iD,Dcy:sD,dcy:rD,ddagger:oD,ddarr:lD,DD:cD,dd:aD,DDotrahd:hD,ddotseq:uD,deg:fD,Del:dD,Delta:pD,delta:mD,demptyv:gD,dfisht:yD,Dfr:bD,dfr:vD,dHar:xD,dharl:kD,dharr:wD,DiacriticalAcute:CD,DiacriticalDot:SD,DiacriticalDoubleAcute:AD,DiacriticalGrave:_D,DiacriticalTilde:ED,diam:MD,diamond:DD,Diamond:TD,diamondsuit:RD,diams:OD,die:PD,DifferentialD:LD,digamma:BD,disin:ID,div:FD,divide:ND,divideontimes:qD,divonx:$D,DJcy:HD,djcy:zD,dlcorn:VD,dlcrop:WD,dollar:jD,Dopf:UD,dopf:KD,Dot:GD,dot:YD,DotDot:JD,doteq:XD,doteqdot:ZD,DotEqual:QD,dotminus:eT,dotplus:tT,dotsquare:nT,doublebarwedge:iT,DoubleContourIntegral:sT,DoubleDot:rT,DoubleDownArrow:oT,DoubleLeftArrow:lT,DoubleLeftRightArrow:cT,DoubleLeftTee:aT,DoubleLongLeftArrow:hT,DoubleLongLeftRightArrow:uT,DoubleLongRightArrow:fT,DoubleRightArrow:dT,DoubleRightTee:pT,DoubleUpArrow:mT,DoubleUpDownArrow:gT,DoubleVerticalBar:yT,DownArrowBar:bT,downarrow:vT,DownArrow:xT,Downarrow:kT,DownArrowUpArrow:wT,DownBreve:CT,downdownarrows:ST,downharpoonleft:AT,downharpoonright:_T,DownLeftRightVector:ET,DownLeftTeeVector:MT,DownLeftVectorBar:DT,DownLeftVector:TT,DownRightTeeVector:RT,DownRightVectorBar:OT,DownRightVector:PT,DownTeeArrow:LT,DownTee:BT,drbkarow:IT,drcorn:FT,drcrop:NT,Dscr:qT,dscr:$T,DScy:HT,dscy:zT,dsol:VT,Dstrok:WT,dstrok:jT,dtdot:UT,dtri:KT,dtrif:GT,duarr:YT,duhar:JT,dwangle:XT,DZcy:ZT,dzcy:QT,dzigrarr:e2,Eacute:t2,eacute:n2,easter:i2,Ecaron:s2,ecaron:r2,Ecirc:o2,ecirc:l2,ecir:c2,ecolon:a2,Ecy:h2,ecy:u2,eDDot:f2,Edot:d2,edot:p2,eDot:m2,ee:g2,efDot:y2,Efr:b2,efr:v2,eg:x2,Egrave:k2,egrave:w2,egs:C2,egsdot:S2,el:A2,Element:_2,elinters:E2,ell:M2,els:D2,elsdot:T2,Emacr:R2,emacr:O2,empty:P2,emptyset:L2,EmptySmallSquare:B2,emptyv:I2,EmptyVerySmallSquare:F2,emsp13:N2,emsp14:q2,emsp:$2,ENG:H2,eng:z2,ensp:V2,Eogon:W2,eogon:j2,Eopf:U2,eopf:K2,epar:G2,eparsl:Y2,eplus:J2,epsi:X2,Epsilon:Z2,epsilon:Q2,epsiv:eR,eqcirc:tR,eqcolon:nR,eqsim:iR,eqslantgtr:sR,eqslantless:rR,Equal:oR,equals:lR,EqualTilde:cR,equest:aR,Equilibrium:hR,equiv:uR,equivDD:fR,eqvparsl:dR,erarr:pR,erDot:mR,escr:gR,Escr:yR,esdot:bR,Esim:vR,esim:xR,Eta:kR,eta:wR,ETH:CR,eth:SR,Euml:AR,euml:_R,euro:ER,excl:MR,exist:DR,Exists:TR,expectation:RR,exponentiale:OR,ExponentialE:PR,fallingdotseq:LR,Fcy:BR,fcy:IR,female:FR,ffilig:NR,fflig:qR,ffllig:$R,Ffr:HR,ffr:zR,filig:VR,FilledSmallSquare:WR,FilledVerySmallSquare:jR,fjlig:UR,flat:KR,fllig:GR,fltns:YR,fnof:JR,Fopf:XR,fopf:ZR,forall:QR,ForAll:eO,fork:tO,forkv:nO,Fouriertrf:iO,fpartint:sO,frac12:rO,frac13:oO,frac14:lO,frac15:cO,frac16:aO,frac18:hO,frac23:uO,frac25:fO,frac34:dO,frac35:pO,frac38:mO,frac45:gO,frac56:yO,frac58:bO,frac78:vO,frasl:xO,frown:kO,fscr:wO,Fscr:CO,gacute:SO,Gamma:AO,gamma:_O,Gammad:EO,gammad:MO,gap:DO,Gbreve:TO,gbreve:RO,Gcedil:OO,Gcirc:PO,gcirc:LO,Gcy:BO,gcy:IO,Gdot:FO,gdot:NO,ge:qO,gE:$O,gEl:HO,gel:zO,geq:VO,geqq:WO,geqslant:jO,gescc:UO,ges:KO,gesdot:GO,gesdoto:YO,gesdotol:JO,gesl:XO,gesles:ZO,Gfr:QO,gfr:eP,gg:tP,Gg:nP,ggg:iP,gimel:sP,GJcy:rP,gjcy:oP,gla:lP,gl:cP,glE:aP,glj:hP,gnap:uP,gnapprox:fP,gne:dP,gnE:pP,gneq:mP,gneqq:gP,gnsim:yP,Gopf:bP,gopf:vP,grave:xP,GreaterEqual:kP,GreaterEqualLess:wP,GreaterFullEqual:CP,GreaterGreater:SP,GreaterLess:AP,GreaterSlantEqual:_P,GreaterTilde:EP,Gscr:MP,gscr:DP,gsim:TP,gsime:RP,gsiml:OP,gtcc:PP,gtcir:LP,gt:BP,GT:IP,Gt:FP,gtdot:NP,gtlPar:qP,gtquest:$P,gtrapprox:HP,gtrarr:zP,gtrdot:VP,gtreqless:WP,gtreqqless:jP,gtrless:UP,gtrsim:KP,gvertneqq:GP,gvnE:YP,Hacek:JP,hairsp:XP,half:ZP,hamilt:QP,HARDcy:eL,hardcy:tL,harrcir:nL,harr:iL,hArr:sL,harrw:rL,Hat:oL,hbar:lL,Hcirc:cL,hcirc:aL,hearts:hL,heartsuit:uL,hellip:fL,hercon:dL,hfr:pL,Hfr:mL,HilbertSpace:gL,hksearow:yL,hkswarow:bL,hoarr:vL,homtht:xL,hookleftarrow:kL,hookrightarrow:wL,hopf:CL,Hopf:SL,horbar:AL,HorizontalLine:_L,hscr:EL,Hscr:ML,hslash:DL,Hstrok:TL,hstrok:RL,HumpDownHump:OL,HumpEqual:PL,hybull:LL,hyphen:BL,Iacute:IL,iacute:FL,ic:NL,Icirc:qL,icirc:$L,Icy:HL,icy:zL,Idot:VL,IEcy:WL,iecy:jL,iexcl:UL,iff:KL,ifr:GL,Ifr:YL,Igrave:JL,igrave:XL,ii:ZL,iiiint:QL,iiint:eB,iinfin:tB,iiota:nB,IJlig:iB,ijlig:sB,Imacr:rB,imacr:oB,image:lB,ImaginaryI:cB,imagline:aB,imagpart:hB,imath:uB,Im:fB,imof:dB,imped:pB,Implies:mB,incare:gB,in:"",infin:yB,infintie:bB,inodot:vB,intcal:xB,int:kB,Int:wB,integers:CB,Integral:SB,intercal:AB,Intersection:_B,intlarhk:EB,intprod:MB,InvisibleComma:DB,InvisibleTimes:TB,IOcy:RB,iocy:OB,Iogon:PB,iogon:LB,Iopf:BB,iopf:IB,Iota:FB,iota:NB,iprod:qB,iquest:$B,iscr:HB,Iscr:zB,isin:VB,isindot:WB,isinE:jB,isins:UB,isinsv:KB,isinv:GB,it:YB,Itilde:JB,itilde:XB,Iukcy:ZB,iukcy:QB,Iuml:eI,iuml:tI,Jcirc:nI,jcirc:iI,Jcy:sI,jcy:rI,Jfr:oI,jfr:lI,jmath:cI,Jopf:aI,jopf:hI,Jscr:uI,jscr:fI,Jsercy:dI,jsercy:pI,Jukcy:mI,jukcy:gI,Kappa:yI,kappa:bI,kappav:vI,Kcedil:xI,kcedil:kI,Kcy:wI,kcy:CI,Kfr:SI,kfr:AI,kgreen:_I,KHcy:EI,khcy:MI,KJcy:DI,kjcy:TI,Kopf:RI,kopf:OI,Kscr:PI,kscr:LI,lAarr:BI,Lacute:II,lacute:FI,laemptyv:NI,lagran:qI,Lambda:$I,lambda:HI,lang:zI,Lang:VI,langd:WI,langle:jI,lap:UI,Laplacetrf:KI,laquo:GI,larrb:YI,larrbfs:JI,larr:XI,Larr:ZI,lArr:QI,larrfs:eF,larrhk:tF,larrlp:nF,larrpl:iF,larrsim:sF,larrtl:rF,latail:oF,lAtail:lF,lat:cF,late:aF,lates:hF,lbarr:uF,lBarr:fF,lbbrk:dF,lbrace:pF,lbrack:mF,lbrke:gF,lbrksld:yF,lbrkslu:bF,Lcaron:vF,lcaron:xF,Lcedil:kF,lcedil:wF,lceil:CF,lcub:SF,Lcy:AF,lcy:_F,ldca:EF,ldquo:MF,ldquor:DF,ldrdhar:TF,ldrushar:RF,ldsh:OF,le:PF,lE:LF,LeftAngleBracket:BF,LeftArrowBar:IF,leftarrow:FF,LeftArrow:NF,Leftarrow:qF,LeftArrowRightArrow:$F,leftarrowtail:HF,LeftCeiling:zF,LeftDoubleBracket:VF,LeftDownTeeVector:WF,LeftDownVectorBar:jF,LeftDownVector:UF,LeftFloor:KF,leftharpoondown:GF,leftharpoonup:YF,leftleftarrows:JF,leftrightarrow:XF,LeftRightArrow:ZF,Leftrightarrow:QF,leftrightarrows:eN,leftrightharpoons:tN,leftrightsquigarrow:nN,LeftRightVector:iN,LeftTeeArrow:sN,LeftTee:rN,LeftTeeVector:oN,leftthreetimes:lN,LeftTriangleBar:cN,LeftTriangle:aN,LeftTriangleEqual:hN,LeftUpDownVector:uN,LeftUpTeeVector:fN,LeftUpVectorBar:dN,LeftUpVector:pN,LeftVectorBar:mN,LeftVector:gN,lEg:yN,leg:bN,leq:vN,leqq:xN,leqslant:kN,lescc:wN,les:CN,lesdot:SN,lesdoto:AN,lesdotor:_N,lesg:EN,lesges:MN,lessapprox:DN,lessdot:TN,lesseqgtr:RN,lesseqqgtr:ON,LessEqualGreater:PN,LessFullEqual:LN,LessGreater:BN,lessgtr:IN,LessLess:FN,lesssim:NN,LessSlantEqual:qN,LessTilde:$N,lfisht:HN,lfloor:zN,Lfr:VN,lfr:WN,lg:jN,lgE:UN,lHar:KN,lhard:GN,lharu:YN,lharul:JN,lhblk:XN,LJcy:ZN,ljcy:QN,llarr:eq,ll:tq,Ll:nq,llcorner:iq,Lleftarrow:sq,llhard:rq,lltri:oq,Lmidot:lq,lmidot:cq,lmoustache:aq,lmoust:hq,lnap:uq,lnapprox:fq,lne:dq,lnE:pq,lneq:mq,lneqq:gq,lnsim:yq,loang:bq,loarr:vq,lobrk:xq,longleftarrow:kq,LongLeftArrow:wq,Longleftarrow:Cq,longleftrightarrow:Sq,LongLeftRightArrow:Aq,Longleftrightarrow:_q,longmapsto:Eq,longrightarrow:Mq,LongRightArrow:Dq,Longrightarrow:Tq,looparrowleft:Rq,looparrowright:Oq,lopar:Pq,Lopf:Lq,lopf:Bq,loplus:Iq,lotimes:Fq,lowast:Nq,lowbar:qq,LowerLeftArrow:$q,LowerRightArrow:Hq,loz:zq,lozenge:Vq,lozf:Wq,lpar:jq,lparlt:Uq,lrarr:Kq,lrcorner:Gq,lrhar:Yq,lrhard:Jq,lrm:Xq,lrtri:Zq,lsaquo:Qq,lscr:e3,Lscr:t3,lsh:n3,Lsh:i3,lsim:s3,lsime:r3,lsimg:o3,lsqb:l3,lsquo:c3,lsquor:a3,Lstrok:h3,lstrok:u3,ltcc:f3,ltcir:d3,lt:p3,LT:m3,Lt:g3,ltdot:y3,lthree:b3,ltimes:v3,ltlarr:x3,ltquest:k3,ltri:w3,ltrie:C3,ltrif:S3,ltrPar:A3,lurdshar:_3,luruhar:E3,lvertneqq:M3,lvnE:D3,macr:T3,male:R3,malt:O3,maltese:P3,Map:"",map:L3,mapsto:B3,mapstodown:I3,mapstoleft:F3,mapstoup:N3,marker:q3,mcomma:$3,Mcy:H3,mcy:z3,mdash:V3,mDDot:W3,measuredangle:j3,MediumSpace:U3,Mellintrf:K3,Mfr:G3,mfr:Y3,mho:J3,micro:X3,midast:Z3,midcir:Q3,mid:e$,middot:t$,minusb:n$,minus:i$,minusd:s$,minusdu:r$,MinusPlus:o$,mlcp:l$,mldr:c$,mnplus:a$,models:h$,Mopf:u$,mopf:f$,mp:d$,mscr:p$,Mscr:m$,mstpos:g$,Mu:y$,mu:b$,multimap:v$,mumap:x$,nabla:k$,Nacute:w$,nacute:C$,nang:S$,nap:A$,napE:_$,napid:E$,napos:M$,napprox:D$,natural:T$,naturals:R$,natur:O$,nbsp:P$,nbump:L$,nbumpe:B$,ncap:I$,Ncaron:F$,ncaron:N$,Ncedil:q$,ncedil:$$,ncong:H$,ncongdot:z$,ncup:V$,Ncy:W$,ncy:j$,ndash:U$,nearhk:K$,nearr:G$,neArr:Y$,nearrow:J$,ne:X$,nedot:Z$,NegativeMediumSpace:Q$,NegativeThickSpace:eH,NegativeThinSpace:tH,NegativeVeryThinSpace:nH,nequiv:iH,nesear:sH,nesim:rH,NestedGreaterGreater:oH,NestedLessLess:lH,NewLine:cH,nexist:aH,nexists:hH,Nfr:uH,nfr:fH,ngE:dH,nge:pH,ngeq:mH,ngeqq:gH,ngeqslant:yH,nges:bH,nGg:vH,ngsim:xH,nGt:kH,ngt:wH,ngtr:CH,nGtv:SH,nharr:AH,nhArr:_H,nhpar:EH,ni:MH,nis:DH,nisd:TH,niv:RH,NJcy:OH,njcy:PH,nlarr:LH,nlArr:BH,nldr:IH,nlE:FH,nle:NH,nleftarrow:qH,nLeftarrow:$H,nleftrightarrow:HH,nLeftrightarrow:zH,nleq:VH,nleqq:WH,nleqslant:jH,nles:UH,nless:KH,nLl:GH,nlsim:YH,nLt:JH,nlt:XH,nltri:ZH,nltrie:QH,nLtv:e8,nmid:t8,NoBreak:n8,NonBreakingSpace:i8,nopf:s8,Nopf:r8,Not:o8,not:l8,NotCongruent:c8,NotCupCap:a8,NotDoubleVerticalBar:h8,NotElement:u8,NotEqual:f8,NotEqualTilde:d8,NotExists:p8,NotGreater:m8,NotGreaterEqual:g8,NotGreaterFullEqual:y8,NotGreaterGreater:b8,NotGreaterLess:v8,NotGreaterSlantEqual:x8,NotGreaterTilde:k8,NotHumpDownHump:w8,NotHumpEqual:C8,notin:S8,notindot:A8,notinE:_8,notinva:E8,notinvb:M8,notinvc:D8,NotLeftTriangleBar:T8,NotLeftTriangle:R8,NotLeftTriangleEqual:O8,NotLess:P8,NotLessEqual:L8,NotLessGreater:B8,NotLessLess:I8,NotLessSlantEqual:F8,NotLessTilde:N8,NotNestedGreaterGreater:q8,NotNestedLessLess:$8,notni:H8,notniva:z8,notnivb:V8,notnivc:W8,NotPrecedes:j8,NotPrecedesEqual:U8,NotPrecedesSlantEqual:K8,NotReverseElement:G8,NotRightTriangleBar:Y8,NotRightTriangle:J8,NotRightTriangleEqual:X8,NotSquareSubset:Z8,NotSquareSubsetEqual:Q8,NotSquareSuperset:ez,NotSquareSupersetEqual:tz,NotSubset:nz,NotSubsetEqual:iz,NotSucceeds:sz,NotSucceedsEqual:rz,NotSucceedsSlantEqual:oz,NotSucceedsTilde:lz,NotSuperset:cz,NotSupersetEqual:az,NotTilde:hz,NotTildeEqual:uz,NotTildeFullEqual:fz,NotTildeTilde:dz,NotVerticalBar:pz,nparallel:mz,npar:gz,nparsl:yz,npart:bz,npolint:vz,npr:xz,nprcue:kz,nprec:wz,npreceq:Cz,npre:Sz,nrarrc:Az,nrarr:_z,nrArr:Ez,nrarrw:Mz,nrightarrow:Dz,nRightarrow:Tz,nrtri:Rz,nrtrie:Oz,nsc:Pz,nsccue:Lz,nsce:Bz,Nscr:Iz,nscr:Fz,nshortmid:Nz,nshortparallel:qz,nsim:$z,nsime:Hz,nsimeq:zz,nsmid:Vz,nspar:Wz,nsqsube:jz,nsqsupe:Uz,nsub:Kz,nsubE:Gz,nsube:Yz,nsubset:Jz,nsubseteq:Xz,nsubseteqq:Zz,nsucc:Qz,nsucceq:e4,nsup:t4,nsupE:n4,nsupe:i4,nsupset:s4,nsupseteq:r4,nsupseteqq:o4,ntgl:l4,Ntilde:c4,ntilde:a4,ntlg:h4,ntriangleleft:u4,ntrianglelefteq:f4,ntriangleright:d4,ntrianglerighteq:p4,Nu:m4,nu:g4,num:y4,numero:b4,numsp:v4,nvap:x4,nvdash:k4,nvDash:w4,nVdash:C4,nVDash:S4,nvge:A4,nvgt:_4,nvHarr:E4,nvinfin:M4,nvlArr:D4,nvle:T4,nvlt:R4,nvltrie:O4,nvrArr:P4,nvrtrie:L4,nvsim:B4,nwarhk:I4,nwarr:F4,nwArr:N4,nwarrow:q4,nwnear:$4,Oacute:H4,oacute:z4,oast:V4,Ocirc:W4,ocirc:j4,ocir:U4,Ocy:K4,ocy:G4,odash:Y4,Odblac:J4,odblac:X4,odiv:Z4,odot:Q4,odsold:eV,OElig:tV,oelig:nV,ofcir:iV,Ofr:sV,ofr:rV,ogon:oV,Ograve:lV,ograve:cV,ogt:aV,ohbar:hV,ohm:uV,oint:fV,olarr:dV,olcir:pV,olcross:mV,oline:gV,olt:yV,Omacr:bV,omacr:vV,Omega:xV,omega:kV,Omicron:wV,omicron:CV,omid:SV,ominus:AV,Oopf:_V,oopf:EV,opar:MV,OpenCurlyDoubleQuote:DV,OpenCurlyQuote:TV,operp:RV,oplus:OV,orarr:PV,Or:LV,or:BV,ord:IV,order:FV,orderof:NV,ordf:qV,ordm:$V,origof:HV,oror:zV,orslope:VV,orv:WV,oS:jV,Oscr:UV,oscr:KV,Oslash:GV,oslash:YV,osol:JV,Otilde:XV,otilde:ZV,otimesas:QV,Otimes:e5,otimes:t5,Ouml:n5,ouml:i5,ovbar:s5,OverBar:r5,OverBrace:o5,OverBracket:l5,OverParenthesis:c5,para:a5,parallel:h5,par:u5,parsim:f5,parsl:d5,part:p5,PartialD:m5,Pcy:g5,pcy:y5,percnt:b5,period:v5,permil:x5,perp:k5,pertenk:w5,Pfr:C5,pfr:S5,Phi:A5,phi:_5,phiv:E5,phmmat:M5,phone:D5,Pi:T5,pi:R5,pitchfork:O5,piv:P5,planck:L5,planckh:B5,plankv:I5,plusacir:F5,plusb:N5,pluscir:q5,plus:$5,plusdo:H5,plusdu:z5,pluse:V5,PlusMinus:W5,plusmn:j5,plussim:U5,plustwo:K5,pm:G5,Poincareplane:Y5,pointint:J5,popf:X5,Popf:Z5,pound:Q5,prap:e6,Pr:t6,pr:n6,prcue:i6,precapprox:s6,prec:r6,preccurlyeq:o6,Precedes:l6,PrecedesEqual:c6,PrecedesSlantEqual:a6,PrecedesTilde:h6,preceq:u6,precnapprox:f6,precneqq:d6,precnsim:p6,pre:m6,prE:g6,precsim:y6,prime:b6,Prime:v6,primes:x6,prnap:k6,prnE:w6,prnsim:C6,prod:S6,Product:A6,profalar:_6,profline:E6,profsurf:M6,prop:D6,Proportional:T6,Proportion:R6,propto:O6,prsim:P6,prurel:L6,Pscr:B6,pscr:I6,Psi:F6,psi:N6,puncsp:q6,Qfr:$6,qfr:H6,qint:z6,qopf:V6,Qopf:W6,qprime:j6,Qscr:U6,qscr:K6,quaternions:G6,quatint:Y6,quest:J6,questeq:X6,quot:Z6,QUOT:Q6,rAarr:e9,race:t9,Racute:n9,racute:i9,radic:s9,raemptyv:r9,rang:o9,Rang:l9,rangd:c9,range:a9,rangle:h9,raquo:u9,rarrap:f9,rarrb:d9,rarrbfs:p9,rarrc:m9,rarr:g9,Rarr:y9,rArr:b9,rarrfs:v9,rarrhk:x9,rarrlp:k9,rarrpl:w9,rarrsim:C9,Rarrtl:S9,rarrtl:A9,rarrw:_9,ratail:E9,rAtail:M9,ratio:D9,rationals:T9,rbarr:R9,rBarr:O9,RBarr:P9,rbbrk:L9,rbrace:B9,rbrack:I9,rbrke:F9,rbrksld:N9,rbrkslu:q9,Rcaron:$9,rcaron:H9,Rcedil:z9,rcedil:V9,rceil:W9,rcub:j9,Rcy:U9,rcy:K9,rdca:G9,rdldhar:Y9,rdquo:J9,rdquor:X9,rdsh:Z9,real:Q9,realine:eW,realpart:tW,reals:nW,Re:iW,rect:sW,reg:rW,REG:oW,ReverseElement:lW,ReverseEquilibrium:cW,ReverseUpEquilibrium:aW,rfisht:hW,rfloor:uW,rfr:fW,Rfr:dW,rHar:pW,rhard:mW,rharu:gW,rharul:yW,Rho:bW,rho:vW,rhov:xW,RightAngleBracket:kW,RightArrowBar:wW,rightarrow:CW,RightArrow:SW,Rightarrow:AW,RightArrowLeftArrow:_W,rightarrowtail:EW,RightCeiling:MW,RightDoubleBracket:DW,RightDownTeeVector:TW,RightDownVectorBar:RW,RightDownVector:OW,RightFloor:PW,rightharpoondown:LW,rightharpoonup:BW,rightleftarrows:IW,rightleftharpoons:FW,rightrightarrows:NW,rightsquigarrow:qW,RightTeeArrow:$W,RightTee:HW,RightTeeVector:zW,rightthreetimes:VW,RightTriangleBar:WW,RightTriangle:jW,RightTriangleEqual:UW,RightUpDownVector:KW,RightUpTeeVector:GW,RightUpVectorBar:YW,RightUpVector:JW,RightVectorBar:XW,RightVector:ZW,ring:QW,risingdotseq:ej,rlarr:tj,rlhar:nj,rlm:ij,rmoustache:sj,rmoust:rj,rnmid:oj,roang:lj,roarr:cj,robrk:aj,ropar:hj,ropf:uj,Ropf:fj,roplus:dj,rotimes:pj,RoundImplies:mj,rpar:gj,rpargt:yj,rppolint:bj,rrarr:vj,Rrightarrow:xj,rsaquo:kj,rscr:wj,Rscr:Cj,rsh:Sj,Rsh:Aj,rsqb:_j,rsquo:Ej,rsquor:Mj,rthree:Dj,rtimes:Tj,rtri:Rj,rtrie:Oj,rtrif:Pj,rtriltri:Lj,RuleDelayed:Bj,ruluhar:Ij,rx:Fj,Sacute:Nj,sacute:qj,sbquo:$j,scap:Hj,Scaron:zj,scaron:Vj,Sc:Wj,sc:jj,sccue:Uj,sce:Kj,scE:Gj,Scedil:Yj,scedil:Jj,Scirc:Xj,scirc:Zj,scnap:Qj,scnE:e7,scnsim:t7,scpolint:n7,scsim:i7,Scy:s7,scy:r7,sdotb:o7,sdot:l7,sdote:c7,searhk:a7,searr:h7,seArr:u7,searrow:f7,sect:d7,semi:p7,seswar:m7,setminus:g7,setmn:y7,sext:b7,Sfr:v7,sfr:x7,sfrown:k7,sharp:w7,SHCHcy:C7,shchcy:S7,SHcy:A7,shcy:_7,ShortDownArrow:E7,ShortLeftArrow:M7,shortmid:D7,shortparallel:T7,ShortRightArrow:R7,ShortUpArrow:O7,shy:P7,Sigma:L7,sigma:B7,sigmaf:I7,sigmav:F7,sim:N7,simdot:q7,sime:$7,simeq:H7,simg:z7,simgE:V7,siml:W7,simlE:j7,simne:U7,simplus:K7,simrarr:G7,slarr:Y7,SmallCircle:J7,smallsetminus:X7,smashp:Z7,smeparsl:Q7,smid:eU,smile:tU,smt:nU,smte:iU,smtes:sU,SOFTcy:rU,softcy:oU,solbar:lU,solb:cU,sol:aU,Sopf:hU,sopf:uU,spades:fU,spadesuit:dU,spar:pU,sqcap:mU,sqcaps:gU,sqcup:yU,sqcups:bU,Sqrt:vU,sqsub:xU,sqsube:kU,sqsubset:wU,sqsubseteq:CU,sqsup:SU,sqsupe:AU,sqsupset:_U,sqsupseteq:EU,square:MU,Square:DU,SquareIntersection:TU,SquareSubset:RU,SquareSubsetEqual:OU,SquareSuperset:PU,SquareSupersetEqual:LU,SquareUnion:BU,squarf:IU,squ:FU,squf:NU,srarr:qU,Sscr:$U,sscr:HU,ssetmn:zU,ssmile:VU,sstarf:WU,Star:jU,star:UU,starf:KU,straightepsilon:GU,straightphi:YU,strns:JU,sub:XU,Sub:ZU,subdot:QU,subE:eK,sube:tK,subedot:nK,submult:iK,subnE:sK,subne:rK,subplus:oK,subrarr:lK,subset:cK,Subset:aK,subseteq:hK,subseteqq:uK,SubsetEqual:fK,subsetneq:dK,subsetneqq:pK,subsim:mK,subsub:gK,subsup:yK,succapprox:bK,succ:vK,succcurlyeq:xK,Succeeds:kK,SucceedsEqual:wK,SucceedsSlantEqual:CK,SucceedsTilde:SK,succeq:AK,succnapprox:_K,succneqq:EK,succnsim:MK,succsim:DK,SuchThat:TK,sum:RK,Sum:OK,sung:PK,sup1:LK,sup2:BK,sup3:IK,sup:FK,Sup:NK,supdot:qK,supdsub:$K,supE:HK,supe:zK,supedot:VK,Superset:WK,SupersetEqual:jK,suphsol:UK,suphsub:KK,suplarr:GK,supmult:YK,supnE:JK,supne:XK,supplus:ZK,supset:QK,Supset:eG,supseteq:tG,supseteqq:nG,supsetneq:iG,supsetneqq:sG,supsim:rG,supsub:oG,supsup:lG,swarhk:cG,swarr:aG,swArr:hG,swarrow:uG,swnwar:fG,szlig:dG,Tab:pG,target:mG,Tau:gG,tau:yG,tbrk:bG,Tcaron:vG,tcaron:xG,Tcedil:kG,tcedil:wG,Tcy:CG,tcy:SG,tdot:AG,telrec:_G,Tfr:EG,tfr:MG,there4:DG,therefore:TG,Therefore:RG,Theta:OG,theta:PG,thetasym:LG,thetav:BG,thickapprox:IG,thicksim:FG,ThickSpace:NG,ThinSpace:qG,thinsp:$G,thkap:HG,thksim:zG,THORN:VG,thorn:WG,tilde:jG,Tilde:UG,TildeEqual:KG,TildeFullEqual:GG,TildeTilde:YG,timesbar:JG,timesb:XG,times:ZG,timesd:QG,tint:eY,toea:tY,topbot:nY,topcir:iY,top:sY,Topf:rY,topf:oY,topfork:lY,tosa:cY,tprime:aY,trade:hY,TRADE:uY,triangle:fY,triangledown:dY,triangleleft:pY,trianglelefteq:mY,triangleq:gY,triangleright:yY,trianglerighteq:bY,tridot:vY,trie:xY,triminus:kY,TripleDot:wY,triplus:CY,trisb:SY,tritime:AY,trpezium:_Y,Tscr:EY,tscr:MY,TScy:DY,tscy:TY,TSHcy:RY,tshcy:OY,Tstrok:PY,tstrok:LY,twixt:BY,twoheadleftarrow:IY,twoheadrightarrow:FY,Uacute:NY,uacute:qY,uarr:$Y,Uarr:HY,uArr:zY,Uarrocir:VY,Ubrcy:WY,ubrcy:jY,Ubreve:UY,ubreve:KY,Ucirc:GY,ucirc:YY,Ucy:JY,ucy:XY,udarr:ZY,Udblac:QY,udblac:eJ,udhar:tJ,ufisht:nJ,Ufr:iJ,ufr:sJ,Ugrave:rJ,ugrave:oJ,uHar:lJ,uharl:cJ,uharr:aJ,uhblk:hJ,ulcorn:uJ,ulcorner:fJ,ulcrop:dJ,ultri:pJ,Umacr:mJ,umacr:gJ,uml:yJ,UnderBar:bJ,UnderBrace:vJ,UnderBracket:xJ,UnderParenthesis:kJ,Union:wJ,UnionPlus:CJ,Uogon:SJ,uogon:AJ,Uopf:_J,uopf:EJ,UpArrowBar:MJ,uparrow:DJ,UpArrow:TJ,Uparrow:RJ,UpArrowDownArrow:OJ,updownarrow:PJ,UpDownArrow:LJ,Updownarrow:BJ,UpEquilibrium:IJ,upharpoonleft:FJ,upharpoonright:NJ,uplus:qJ,UpperLeftArrow:$J,UpperRightArrow:HJ,upsi:zJ,Upsi:VJ,upsih:WJ,Upsilon:jJ,upsilon:UJ,UpTeeArrow:KJ,UpTee:GJ,upuparrows:YJ,urcorn:JJ,urcorner:XJ,urcrop:ZJ,Uring:QJ,uring:eX,urtri:tX,Uscr:nX,uscr:iX,utdot:sX,Utilde:rX,utilde:oX,utri:lX,utrif:cX,uuarr:aX,Uuml:hX,uuml:uX,uwangle:fX,vangrt:dX,varepsilon:pX,varkappa:mX,varnothing:gX,varphi:yX,varpi:bX,varpropto:vX,varr:xX,vArr:kX,varrho:wX,varsigma:CX,varsubsetneq:SX,varsubsetneqq:AX,varsupsetneq:_X,varsupsetneqq:EX,vartheta:MX,vartriangleleft:DX,vartriangleright:TX,vBar:RX,Vbar:OX,vBarv:PX,Vcy:LX,vcy:BX,vdash:IX,vDash:FX,Vdash:NX,VDash:qX,Vdashl:$X,veebar:HX,vee:zX,Vee:VX,veeeq:WX,vellip:jX,verbar:UX,Verbar:KX,vert:GX,Vert:YX,VerticalBar:JX,VerticalLine:XX,VerticalSeparator:ZX,VerticalTilde:QX,VeryThinSpace:eZ,Vfr:tZ,vfr:nZ,vltri:iZ,vnsub:sZ,vnsup:rZ,Vopf:oZ,vopf:lZ,vprop:cZ,vrtri:aZ,Vscr:hZ,vscr:uZ,vsubnE:fZ,vsubne:dZ,vsupnE:pZ,vsupne:mZ,Vvdash:gZ,vzigzag:yZ,Wcirc:bZ,wcirc:vZ,wedbar:xZ,wedge:kZ,Wedge:wZ,wedgeq:CZ,weierp:SZ,Wfr:AZ,wfr:_Z,Wopf:EZ,wopf:MZ,wp:DZ,wr:TZ,wreath:RZ,Wscr:OZ,wscr:PZ,xcap:LZ,xcirc:BZ,xcup:IZ,xdtri:FZ,Xfr:NZ,xfr:qZ,xharr:$Z,xhArr:HZ,Xi:zZ,xi:VZ,xlarr:WZ,xlArr:jZ,xmap:UZ,xnis:KZ,xodot:GZ,Xopf:YZ,xopf:JZ,xoplus:XZ,xotime:ZZ,xrarr:QZ,xrArr:eQ,Xscr:tQ,xscr:nQ,xsqcup:iQ,xuplus:sQ,xutri:rQ,xvee:oQ,xwedge:lQ,Yacute:cQ,yacute:aQ,YAcy:hQ,yacy:uQ,Ycirc:fQ,ycirc:dQ,Ycy:pQ,ycy:mQ,yen:gQ,Yfr:yQ,yfr:bQ,YIcy:vQ,yicy:xQ,Yopf:kQ,yopf:wQ,Yscr:CQ,yscr:SQ,YUcy:AQ,yucy:_Q,yuml:EQ,Yuml:MQ,Zacute:DQ,zacute:TQ,Zcaron:RQ,zcaron:OQ,Zcy:PQ,zcy:LQ,Zdot:BQ,zdot:IQ,zeetrf:FQ,ZeroWidthSpace:NQ,Zeta:qQ,zeta:$Q,zfr:HQ,Zfr:zQ,ZHcy:VQ,zhcy:WQ,zigrarr:jQ,zopf:UQ,Zopf:KQ,Zscr:GQ,zscr:YQ,zwj:JQ,zwnj:XQ};var ec,ed;function S0(){return ed||(ed=1,ec=ZQ),ec}var tc,td;function gu(){return td||(td=1,tc=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/),tc}var Ii={},nc,nd;function QQ(){if(nd)return nc;nd=1;var n={};function e(i){var s,r,o=n[i];if(o)return o;for(o=n[i]=[],s=0;s<128;s++)r=String.fromCharCode(s),/^[0-9a-z]$/i.test(r)?o.push(r):o.push("%"+("0"+s.toString(16).toUpperCase()).slice(-2));for(s=0;s<i.length;s++)o[i.charCodeAt(s)]=i[s];return o}function t(i,s,r){var o,l,c,a,h,u="";for(typeof s!="string"&&(r=s,s=t.defaultChars),typeof r>"u"&&(r=!0),h=e(s),o=0,l=i.length;o<l;o++){if(c=i.charCodeAt(o),r&&c===37&&o+2<l&&/^[0-9a-f]{2}$/i.test(i.slice(o+1,o+3))){u+=i.slice(o,o+3),o+=2;continue}if(c<128){u+=h[c];continue}if(c>=55296&&c<=57343){if(c>=55296&&c<=56319&&o+1<l&&(a=i.charCodeAt(o+1),a>=56320&&a<=57343)){u+=encodeURIComponent(i[o]+i[o+1]),o++;continue}u+="%EF%BF%BD";continue}u+=encodeURIComponent(i[o])}return u}return t.defaultChars=";/?:@&=+$,-_.!~*'()#",t.componentChars="-_.!~*'()",nc=t,nc}var ic,id;function eee(){if(id)return ic;id=1;var n={};function e(i){var s,r,o=n[i];if(o)return o;for(o=n[i]=[],s=0;s<128;s++)r=String.fromCharCode(s),o.push(r);for(s=0;s<i.length;s++)r=i.charCodeAt(s),o[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2);return o}function t(i,s){var r;return typeof s!="string"&&(s=t.defaultChars),r=e(s),i.replace(/(%[a-f0-9]{2})+/gi,function(o){var l,c,a,h,u,f,d,p="";for(l=0,c=o.length;l<c;l+=3){if(a=parseInt(o.slice(l+1,l+3),16),a<128){p+=r[a];continue}if((a&224)===192&&l+3<c&&(h=parseInt(o.slice(l+4,l+6),16),(h&192)===128)){d=a<<6&1984|h&63,d<128?p+="":p+=String.fromCharCode(d),l+=3;continue}if((a&240)===224&&l+6<c&&(h=parseInt(o.slice(l+4,l+6),16),u=parseInt(o.slice(l+7,l+9),16),(h&192)===128&&(u&192)===128)){d=a<<12&61440|h<<6&4032|u&63,d<2048||d>=55296&&d<=57343?p+="":p+=String.fromCharCode(d),l+=6;continue}if((a&248)===240&&l+9<c&&(h=parseInt(o.slice(l+4,l+6),16),u=parseInt(o.slice(l+7,l+9),16),f=parseInt(o.slice(l+10,l+12),16),(h&192)===128&&(u&192)===128&&(f&192)===128)){d=a<<18&1835008|h<<12&258048|u<<6&4032|f&63,d<65536||d>1114111?p+="":(d-=65536,p+=String.fromCharCode(55296+(d>>10),56320+(d&1023))),l+=9;continue}p+=""}return p})}return t.defaultChars=";/?:@&=+$,#",t.componentChars="",ic=t,ic}var sc,sd;function tee(){return sd||(sd=1,sc=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}),sc}var rc,rd;function nee(){if(rd)return rc;rd=1;function n(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var e=/^([a-z0-9.+-]+:)/i,t=/:[0-9]*$/,i=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,s=["<",">",'"',"`"," ","\r",`
`,"	"],r=["{","}","|","\\","^","`"].concat(s),o=["'"].concat(r),l=["%","/","?",";","#"].concat(o),c=["/","?","#"],a=255,h=/^[+a-z0-9A-Z_-]{0,63}$/,u=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},d={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function p(m,b){if(m&&m instanceof n)return m;var g=new n;return g.parse(m,b),g}return n.prototype.parse=function(m,b){var g,x,y,v,k,C=m;if(C=C.trim(),!b&&m.split("#").length===1){var A=i.exec(C);if(A)return this.pathname=A[1],A[2]&&(this.search=A[2]),this}var M=e.exec(C);if(M&&(M=M[0],y=M.toLowerCase(),this.protocol=M,C=C.substr(M.length)),(b||M||C.match(/^\/\/[^@\/]+@[^@\/]+/))&&(k=C.substr(0,2)==="//",k&&!(M&&f[M])&&(C=C.substr(2),this.slashes=!0)),!f[M]&&(k||M&&!d[M])){var R=-1;for(g=0;g<c.length;g++)v=C.indexOf(c[g]),v!==-1&&(R===-1||v<R)&&(R=v);var T,I;for(R===-1?I=C.lastIndexOf("@"):I=C.lastIndexOf("@",R),I!==-1&&(T=C.slice(0,I),C=C.slice(I+1),this.auth=T),R=-1,g=0;g<l.length;g++)v=C.indexOf(l[g]),v!==-1&&(R===-1||v<R)&&(R=v);R===-1&&(R=C.length),C[R-1]===":"&&R--;var N=C.slice(0,R);C=C.slice(R),this.parseHost(N),this.hostname=this.hostname||"";var D=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!D){var _=this.hostname.split(/\./);for(g=0,x=_.length;g<x;g++){var $=_[g];if($&&!$.match(h)){for(var Y="",ee=0,oe=$.length;ee<oe;ee++)$.charCodeAt(ee)>127?Y+="x":Y+=$[ee];if(!Y.match(h)){var ce=_.slice(0,g),Q=_.slice(g+1),Ce=$.match(u);Ce&&(ce.push(Ce[1]),Q.unshift(Ce[2])),Q.length&&(C=Q.join(".")+C),this.hostname=ce.join(".");break}}}}this.hostname.length>a&&(this.hostname=""),D&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var me=C.indexOf("#");me!==-1&&(this.hash=C.substr(me),C=C.slice(0,me));var $e=C.indexOf("?");return $e!==-1&&(this.search=C.substr($e),C=C.slice(0,$e)),C&&(this.pathname=C),d[y]&&this.hostname&&!this.pathname&&(this.pathname=""),this},n.prototype.parseHost=function(m){var b=t.exec(m);b&&(b=b[0],b!==":"&&(this.port=b.substr(1)),m=m.substr(0,m.length-b.length)),m&&(this.hostname=m)},rc=p,rc}var od;function A0(){return od||(od=1,Ii.encode=QQ(),Ii.decode=eee(),Ii.format=tee(),Ii.parse=nee()),Ii}var di={},oc,ld;function _0(){return ld||(ld=1,oc=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),oc}var lc,cd;function E0(){return cd||(cd=1,lc=/[\0-\x1F\x7F-\x9F]/),lc}var cc,ad;function iee(){return ad||(ad=1,cc=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/),cc}var ac,hd;function M0(){return hd||(hd=1,ac=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/),ac}var ud;function see(){return ud||(ud=1,di.Any=_0(),di.Cc=E0(),di.Cf=iee(),di.P=gu(),di.Z=M0()),di}var fd;function ke(){return fd||(fd=1,function(n){function e(_){return Object.prototype.toString.call(_)}function t(_){return e(_)==="[object String]"}var i=Object.prototype.hasOwnProperty;function s(_,$){return i.call(_,$)}function r(_){var $=Array.prototype.slice.call(arguments,1);return $.forEach(function(Y){if(Y){if(typeof Y!="object")throw new TypeError(Y+"must be object");Object.keys(Y).forEach(function(ee){_[ee]=Y[ee]})}}),_}function o(_,$,Y){return[].concat(_.slice(0,$),Y,_.slice($+1))}function l(_){return!(_>=55296&&_<=57343||_>=64976&&_<=65007||(_&65535)===65535||(_&65535)===65534||_>=0&&_<=8||_===11||_>=14&&_<=31||_>=127&&_<=159||_>1114111)}function c(_){if(_>65535){_-=65536;var $=55296+(_>>10),Y=56320+(_&1023);return String.fromCharCode($,Y)}return String.fromCharCode(_)}var a=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,h=/&([a-z#][a-z0-9]{1,31});/gi,u=new RegExp(a.source+"|"+h.source,"gi"),f=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i,d=S0();function p(_,$){var Y;return s(d,$)?d[$]:$.charCodeAt(0)===35&&f.test($)&&(Y=$[1].toLowerCase()==="x"?parseInt($.slice(2),16):parseInt($.slice(1),10),l(Y))?c(Y):_}function m(_){return _.indexOf("\\")<0?_:_.replace(a,"$1")}function b(_){return _.indexOf("\\")<0&&_.indexOf("&")<0?_:_.replace(u,function($,Y,ee){return Y||p($,ee)})}var g=/[&<>"]/,x=/[&<>"]/g,y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function v(_){return y[_]}function k(_){return g.test(_)?_.replace(x,v):_}var C=/[.?*+^$[\]\\(){}|-]/g;function A(_){return _.replace(C,"\\$&")}function M(_){switch(_){case 9:case 32:return!0}return!1}function R(_){if(_>=8192&&_<=8202)return!0;switch(_){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var T=gu();function I(_){return T.test(_)}function N(_){switch(_){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function D(_){return _=_.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(_=_.replace(//g,"")),_.toLowerCase().toUpperCase()}n.lib={},n.lib.mdurl=A0(),n.lib.ucmicro=see(),n.assign=r,n.isString=t,n.has=s,n.unescapeMd=m,n.unescapeAll=b,n.isValidEntityCode=l,n.fromCodePoint=c,n.escapeHtml=k,n.arrayReplaceAt=o,n.isSpace=M,n.isWhiteSpace=R,n.isMdAsciiPunct=N,n.isPunctChar=I,n.escapeRE=A,n.normalizeReference=D}(Ql)),Ql}var Es={},hc,dd;function ree(){return dd||(dd=1,hc=function(e,t,i){var s,r,o,l,c=-1,a=e.posMax,h=e.pos;for(e.pos=t+1,s=1;e.pos<a;){if(o=e.src.charCodeAt(e.pos),o===93&&(s--,s===0)){r=!0;break}if(l=e.pos,e.md.inline.skipToken(e),o===91){if(l===e.pos-1)s++;else if(i)return e.pos=h,-1}}return r&&(c=e.pos),e.pos=h,c}),hc}var uc,pd;function oee(){if(pd)return uc;pd=1;var n=ke().unescapeAll;return uc=function(t,i,s){var r,o,l=i,c={ok:!1,pos:0,lines:0,str:""};if(t.charCodeAt(l)===60){for(l++;l<s;){if(r=t.charCodeAt(l),r===10||r===60)return c;if(r===62)return c.pos=l+1,c.str=n(t.slice(i+1,l)),c.ok=!0,c;if(r===92&&l+1<s){l+=2;continue}l++}return c}for(o=0;l<s&&(r=t.charCodeAt(l),!(r===32||r<32||r===127));){if(r===92&&l+1<s){if(t.charCodeAt(l+1)===32)break;l+=2;continue}if(r===40&&(o++,o>32))return c;if(r===41){if(o===0)break;o--}l++}return i===l||o!==0||(c.str=n(t.slice(i,l)),c.pos=l,c.ok=!0),c},uc}var fc,md;function lee(){if(md)return fc;md=1;var n=ke().unescapeAll;return fc=function(t,i,s){var r,o,l=0,c=i,a={ok:!1,pos:0,lines:0,str:""};if(c>=s||(o=t.charCodeAt(c),o!==34&&o!==39&&o!==40))return a;for(c++,o===40&&(o=41);c<s;){if(r=t.charCodeAt(c),r===o)return a.pos=c+1,a.lines=l,a.str=n(t.slice(i+1,c)),a.ok=!0,a;if(r===40&&o===41)return a;r===10?l++:r===92&&c+1<s&&(c++,t.charCodeAt(c)===10&&l++),c++}return a},fc}var gd;function cee(){return gd||(gd=1,Es.parseLinkLabel=ree(),Es.parseLinkDestination=oee(),Es.parseLinkTitle=lee()),Es}var dc,yd;function aee(){if(yd)return dc;yd=1;var n=ke().assign,e=ke().unescapeAll,t=ke().escapeHtml,i={};i.code_inline=function(r,o,l,c,a){var h=r[o];return"<code"+a.renderAttrs(h)+">"+t(h.content)+"</code>"},i.code_block=function(r,o,l,c,a){var h=r[o];return"<pre"+a.renderAttrs(h)+"><code>"+t(r[o].content)+`</code></pre>
`},i.fence=function(r,o,l,c,a){var h=r[o],u=h.info?e(h.info).trim():"",f="",d="",p,m,b,g,x;return u&&(b=u.split(/(\s+)/g),f=b[0],d=b.slice(2).join("")),l.highlight?p=l.highlight(h.content,f,d)||t(h.content):p=t(h.content),p.indexOf("<pre")===0?p+`
`:u?(m=h.attrIndex("class"),g=h.attrs?h.attrs.slice():[],m<0?g.push(["class",l.langPrefix+f]):(g[m]=g[m].slice(),g[m][1]+=" "+l.langPrefix+f),x={attrs:g},"<pre><code"+a.renderAttrs(x)+">"+p+`</code></pre>
`):"<pre><code"+a.renderAttrs(h)+">"+p+`</code></pre>
`},i.image=function(r,o,l,c,a){var h=r[o];return h.attrs[h.attrIndex("alt")][1]=a.renderInlineAsText(h.children,l,c),a.renderToken(r,o,l)},i.hardbreak=function(r,o,l){return l.xhtmlOut?`<br />
`:`<br>
`},i.softbreak=function(r,o,l){return l.breaks?l.xhtmlOut?`<br />
`:`<br>
`:`
`},i.text=function(r,o){return t(r[o].content)},i.html_block=function(r,o){return r[o].content},i.html_inline=function(r,o){return r[o].content};function s(){this.rules=n({},i)}return s.prototype.renderAttrs=function(o){var l,c,a;if(!o.attrs)return"";for(a="",l=0,c=o.attrs.length;l<c;l++)a+=" "+t(o.attrs[l][0])+'="'+t(o.attrs[l][1])+'"';return a},s.prototype.renderToken=function(o,l,c){var a,h="",u=!1,f=o[l];return f.hidden?"":(f.block&&f.nesting!==-1&&l&&o[l-1].hidden&&(h+=`
`),h+=(f.nesting===-1?"</":"<")+f.tag,h+=this.renderAttrs(f),f.nesting===0&&c.xhtmlOut&&(h+=" /"),f.block&&(u=!0,f.nesting===1&&l+1<o.length&&(a=o[l+1],(a.type==="inline"||a.hidden||a.nesting===-1&&a.tag===f.tag)&&(u=!1))),h+=u?`>
`:">",h)},s.prototype.renderInline=function(r,o,l){for(var c,a="",h=this.rules,u=0,f=r.length;u<f;u++)c=r[u].type,typeof h[c]<"u"?a+=h[c](r,u,o,l,this):a+=this.renderToken(r,u,o);return a},s.prototype.renderInlineAsText=function(r,o,l){for(var c="",a=0,h=r.length;a<h;a++)r[a].type==="text"?c+=r[a].content:r[a].type==="image"?c+=this.renderInlineAsText(r[a].children,o,l):r[a].type==="softbreak"&&(c+=`
`);return c},s.prototype.render=function(r,o,l){var c,a,h,u="",f=this.rules;for(c=0,a=r.length;c<a;c++)h=r[c].type,h==="inline"?u+=this.renderInline(r[c].children,o,l):typeof f[h]<"u"?u+=f[h](r,c,o,l,this):u+=this.renderToken(r,c,o,l);return u},dc=s,dc}var pc,bd;function yu(){if(bd)return pc;bd=1;function n(){this.__rules__=[],this.__cache__=null}return n.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},n.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(i){i.enabled&&i.alt.forEach(function(s){t.indexOf(s)<0&&t.push(s)})}),e.__cache__={},t.forEach(function(i){e.__cache__[i]=[],e.__rules__.forEach(function(s){s.enabled&&(i&&s.alt.indexOf(i)<0||e.__cache__[i].push(s.fn))})})},n.prototype.at=function(e,t,i){var s=this.__find__(e),r=i||{};if(s===-1)throw new Error("Parser rule not found: "+e);this.__rules__[s].fn=t,this.__rules__[s].alt=r.alt||[],this.__cache__=null},n.prototype.before=function(e,t,i,s){var r=this.__find__(e),o=s||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r,0,{name:t,enabled:!0,fn:i,alt:o.alt||[]}),this.__cache__=null},n.prototype.after=function(e,t,i,s){var r=this.__find__(e),o=s||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r+1,0,{name:t,enabled:!0,fn:i,alt:o.alt||[]}),this.__cache__=null},n.prototype.push=function(e,t,i){var s=i||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:s.alt||[]}),this.__cache__=null},n.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var i=[];return e.forEach(function(s){var r=this.__find__(s);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+s)}this.__rules__[r].enabled=!0,i.push(s)},this),this.__cache__=null,i},n.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(i){i.enabled=!1}),this.enable(e,t)},n.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var i=[];return e.forEach(function(s){var r=this.__find__(s);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+s)}this.__rules__[r].enabled=!1,i.push(s)},this),this.__cache__=null,i},n.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]},pc=n,pc}var mc,vd;function hee(){if(vd)return mc;vd=1;var n=/\r\n?|\n/g,e=/\0/g;return mc=function(i){var s;s=i.src.replace(n,`
`),s=s.replace(e,""),i.src=s},mc}var gc,xd;function uee(){return xd||(xd=1,gc=function(e){var t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}),gc}var yc,kd;function fee(){return kd||(kd=1,yc=function(e){var t=e.tokens,i,s,r;for(s=0,r=t.length;s<r;s++)i=t[s],i.type==="inline"&&e.md.inline.parse(i.content,e.md,e.env,i.children)}),yc}var bc,wd;function dee(){if(wd)return bc;wd=1;var n=ke().arrayReplaceAt;function e(i){return/^<a[>\s]/i.test(i)}function t(i){return/^<\/a\s*>/i.test(i)}return bc=function(s){var r,o,l,c,a,h,u,f,d,p,m,b,g,x,y,v,k=s.tokens,C;if(s.md.options.linkify){for(o=0,l=k.length;o<l;o++)if(!(k[o].type!=="inline"||!s.md.linkify.pretest(k[o].content)))for(c=k[o].children,g=0,r=c.length-1;r>=0;r--){if(h=c[r],h.type==="link_close"){for(r--;c[r].level!==h.level&&c[r].type!=="link_open";)r--;continue}if(h.type==="html_inline"&&(e(h.content)&&g>0&&g--,t(h.content)&&g++),!(g>0)&&h.type==="text"&&s.md.linkify.test(h.content)){for(d=h.content,C=s.md.linkify.match(d),u=[],b=h.level,m=0,C.length>0&&C[0].index===0&&r>0&&c[r-1].type==="text_special"&&(C=C.slice(1)),f=0;f<C.length;f++)x=C[f].url,y=s.md.normalizeLink(x),s.md.validateLink(y)&&(v=C[f].text,C[f].schema?C[f].schema==="mailto:"&&!/^mailto:/i.test(v)?v=s.md.normalizeLinkText("mailto:"+v).replace(/^mailto:/,""):v=s.md.normalizeLinkText(v):v=s.md.normalizeLinkText("http://"+v).replace(/^http:\/\//,""),p=C[f].index,p>m&&(a=new s.Token("text","",0),a.content=d.slice(m,p),a.level=b,u.push(a)),a=new s.Token("link_open","a",1),a.attrs=[["href",y]],a.level=b++,a.markup="linkify",a.info="auto",u.push(a),a=new s.Token("text","",0),a.content=v,a.level=b,u.push(a),a=new s.Token("link_close","a",-1),a.level=--b,a.markup="linkify",a.info="auto",u.push(a),m=C[f].lastIndex);m<d.length&&(a=new s.Token("text","",0),a.content=d.slice(m),a.level=b,u.push(a)),k[o].children=c=n(c,r,u)}}}},bc}var vc,Cd;function pee(){if(Cd)return vc;Cd=1;var n=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,e=/\((c|tm|r)\)/i,t=/\((c|tm|r)\)/ig,i={c:"",r:"",tm:""};function s(l,c){return i[c.toLowerCase()]}function r(l){var c,a,h=0;for(c=l.length-1;c>=0;c--)a=l[c],a.type==="text"&&!h&&(a.content=a.content.replace(t,s)),a.type==="link_open"&&a.info==="auto"&&h--,a.type==="link_close"&&a.info==="auto"&&h++}function o(l){var c,a,h=0;for(c=l.length-1;c>=0;c--)a=l[c],a.type==="text"&&!h&&n.test(a.content)&&(a.content=a.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),a.type==="link_open"&&a.info==="auto"&&h--,a.type==="link_close"&&a.info==="auto"&&h++}return vc=function(c){var a;if(c.md.options.typographer)for(a=c.tokens.length-1;a>=0;a--)c.tokens[a].type==="inline"&&(e.test(c.tokens[a].content)&&r(c.tokens[a].children),n.test(c.tokens[a].content)&&o(c.tokens[a].children))},vc}var xc,Sd;function mee(){if(Sd)return xc;Sd=1;var n=ke().isWhiteSpace,e=ke().isPunctChar,t=ke().isMdAsciiPunct,i=/['"]/,s=/['"]/g,r="";function o(c,a,h){return c.slice(0,a)+h+c.slice(a+1)}function l(c,a){var h,u,f,d,p,m,b,g,x,y,v,k,C,A,M,R,T,I,N,D,_;for(N=[],h=0;h<c.length;h++){for(u=c[h],b=c[h].level,T=N.length-1;T>=0&&!(N[T].level<=b);T--);if(N.length=T+1,u.type==="text"){f=u.content,p=0,m=f.length;e:for(;p<m&&(s.lastIndex=p,d=s.exec(f),!!d);){if(M=R=!0,p=d.index+1,I=d[0]==="'",x=32,d.index-1>=0)x=f.charCodeAt(d.index-1);else for(T=h-1;T>=0&&!(c[T].type==="softbreak"||c[T].type==="hardbreak");T--)if(c[T].content){x=c[T].content.charCodeAt(c[T].content.length-1);break}if(y=32,p<m)y=f.charCodeAt(p);else for(T=h+1;T<c.length&&!(c[T].type==="softbreak"||c[T].type==="hardbreak");T++)if(c[T].content){y=c[T].content.charCodeAt(0);break}if(v=t(x)||e(String.fromCharCode(x)),k=t(y)||e(String.fromCharCode(y)),C=n(x),A=n(y),A?M=!1:k&&(C||v||(M=!1)),C?R=!1:v&&(A||k||(R=!1)),y===34&&d[0]==='"'&&x>=48&&x<=57&&(R=M=!1),M&&R&&(M=v,R=k),!M&&!R){I&&(u.content=o(u.content,d.index,r));continue}if(R){for(T=N.length-1;T>=0&&(g=N[T],!(N[T].level<b));T--)if(g.single===I&&N[T].level===b){g=N[T],I?(D=a.md.options.quotes[2],_=a.md.options.quotes[3]):(D=a.md.options.quotes[0],_=a.md.options.quotes[1]),u.content=o(u.content,d.index,_),c[g.token].content=o(c[g.token].content,g.pos,D),p+=_.length-1,g.token===h&&(p+=D.length-1),f=u.content,m=f.length,N.length=T;continue e}}M?N.push({token:h,pos:d.index,single:I,level:b}):R&&I&&(u.content=o(u.content,d.index,r))}}}}return xc=function(a){var h;if(a.md.options.typographer)for(h=a.tokens.length-1;h>=0;h--)a.tokens[h].type!=="inline"||!i.test(a.tokens[h].content)||l(a.tokens[h].children,a)},xc}var kc,Ad;function gee(){return Ad||(Ad=1,kc=function(e){var t,i,s,r,o,l,c=e.tokens;for(t=0,i=c.length;t<i;t++)if(c[t].type==="inline"){for(s=c[t].children,o=s.length,r=0;r<o;r++)s[r].type==="text_special"&&(s[r].type="text");for(r=l=0;r<o;r++)s[r].type==="text"&&r+1<o&&s[r+1].type==="text"?s[r+1].content=s[r].content+s[r+1].content:(r!==l&&(s[l]=s[r]),l++);r!==l&&(s.length=l)}}),kc}var wc,_d;function bu(){if(_d)return wc;_d=1;function n(e,t,i){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=i,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}return n.prototype.attrIndex=function(t){var i,s,r;if(!this.attrs)return-1;for(i=this.attrs,s=0,r=i.length;s<r;s++)if(i[s][0]===t)return s;return-1},n.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]},n.prototype.attrSet=function(t,i){var s=this.attrIndex(t),r=[t,i];s<0?this.attrPush(r):this.attrs[s]=r},n.prototype.attrGet=function(t){var i=this.attrIndex(t),s=null;return i>=0&&(s=this.attrs[i][1]),s},n.prototype.attrJoin=function(t,i){var s=this.attrIndex(t);s<0?this.attrPush([t,i]):this.attrs[s][1]=this.attrs[s][1]+" "+i},wc=n,wc}var Cc,Ed;function yee(){if(Ed)return Cc;Ed=1;var n=bu();function e(t,i,s){this.src=t,this.env=s,this.tokens=[],this.inlineMode=!1,this.md=i}return e.prototype.Token=n,Cc=e,Cc}var Sc,Md;function bee(){if(Md)return Sc;Md=1;var n=yu(),e=[["normalize",hee()],["block",uee()],["inline",fee()],["linkify",dee()],["replacements",pee()],["smartquotes",mee()],["text_join",gee()]];function t(){this.ruler=new n;for(var i=0;i<e.length;i++)this.ruler.push(e[i][0],e[i][1])}return t.prototype.process=function(i){var s,r,o;for(o=this.ruler.getRules(""),s=0,r=o.length;s<r;s++)o[s](i)},t.prototype.State=yee(),Sc=t,Sc}var Ac,Dd;function vee(){if(Dd)return Ac;Dd=1;var n=ke().isSpace;function e(i,s){var r=i.bMarks[s]+i.tShift[s],o=i.eMarks[s];return i.src.slice(r,o)}function t(i){var s=[],r=0,o=i.length,l,c=!1,a=0,h="";for(l=i.charCodeAt(r);r<o;)l===124&&(c?(h+=i.substring(a,r-1),a=r):(s.push(h+i.substring(a,r)),h="",a=r+1)),c=l===92,r++,l=i.charCodeAt(r);return s.push(h+i.substring(a)),s}return Ac=function(s,r,o,l){var c,a,h,u,f,d,p,m,b,g,x,y,v,k,C,A,M,R;if(r+2>o||(d=r+1,s.sCount[d]<s.blkIndent)||s.sCount[d]-s.blkIndent>=4||(h=s.bMarks[d]+s.tShift[d],h>=s.eMarks[d])||(M=s.src.charCodeAt(h++),M!==124&&M!==45&&M!==58)||h>=s.eMarks[d]||(R=s.src.charCodeAt(h++),R!==124&&R!==45&&R!==58&&!n(R))||M===45&&n(R))return!1;for(;h<s.eMarks[d];){if(c=s.src.charCodeAt(h),c!==124&&c!==45&&c!==58&&!n(c))return!1;h++}for(a=e(s,r+1),p=a.split("|"),g=[],u=0;u<p.length;u++){if(x=p[u].trim(),!x){if(u===0||u===p.length-1)continue;return!1}if(!/^:?-+:?$/.test(x))return!1;x.charCodeAt(x.length-1)===58?g.push(x.charCodeAt(0)===58?"center":"right"):x.charCodeAt(0)===58?g.push("left"):g.push("")}if(a=e(s,r).trim(),a.indexOf("|")===-1||s.sCount[r]-s.blkIndent>=4||(p=t(a),p.length&&p[0]===""&&p.shift(),p.length&&p[p.length-1]===""&&p.pop(),m=p.length,m===0||m!==g.length))return!1;if(l)return!0;for(k=s.parentType,s.parentType="table",A=s.md.block.ruler.getRules("blockquote"),b=s.push("table_open","table",1),b.map=y=[r,0],b=s.push("thead_open","thead",1),b.map=[r,r+1],b=s.push("tr_open","tr",1),b.map=[r,r+1],u=0;u<p.length;u++)b=s.push("th_open","th",1),g[u]&&(b.attrs=[["style","text-align:"+g[u]]]),b=s.push("inline","",0),b.content=p[u].trim(),b.children=[],b=s.push("th_close","th",-1);for(b=s.push("tr_close","tr",-1),b=s.push("thead_close","thead",-1),d=r+2;d<o&&!(s.sCount[d]<s.blkIndent);d++){for(C=!1,u=0,f=A.length;u<f;u++)if(A[u](s,d,o,!0)){C=!0;break}if(C||(a=e(s,d).trim(),!a)||s.sCount[d]-s.blkIndent>=4)break;for(p=t(a),p.length&&p[0]===""&&p.shift(),p.length&&p[p.length-1]===""&&p.pop(),d===r+2&&(b=s.push("tbody_open","tbody",1),b.map=v=[r+2,0]),b=s.push("tr_open","tr",1),b.map=[d,d+1],u=0;u<m;u++)b=s.push("td_open","td",1),g[u]&&(b.attrs=[["style","text-align:"+g[u]]]),b=s.push("inline","",0),b.content=p[u]?p[u].trim():"",b.children=[],b=s.push("td_close","td",-1);b=s.push("tr_close","tr",-1)}return v&&(b=s.push("tbody_close","tbody",-1),v[1]=d),b=s.push("table_close","table",-1),y[1]=d,s.parentType=k,s.line=d,!0},Ac}var _c,Td;function xee(){return Td||(Td=1,_c=function(e,t,i){var s,r,o;if(e.sCount[t]-e.blkIndent<4)return!1;for(r=s=t+1;s<i;){if(e.isEmpty(s)){s++;continue}if(e.sCount[s]-e.blkIndent>=4){s++,r=s;continue}break}return e.line=r,o=e.push("code_block","code",0),o.content=e.getLines(t,r,4+e.blkIndent,!1)+`
`,o.map=[t,e.line],!0}),_c}var Ec,Rd;function kee(){return Rd||(Rd=1,Ec=function(e,t,i,s){var r,o,l,c,a,h,u,f=!1,d=e.bMarks[t]+e.tShift[t],p=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||d+3>p||(r=e.src.charCodeAt(d),r!==126&&r!==96)||(a=d,d=e.skipChars(d,r),o=d-a,o<3)||(u=e.src.slice(a,d),l=e.src.slice(d,p),r===96&&l.indexOf(String.fromCharCode(r))>=0))return!1;if(s)return!0;for(c=t;c++,!(c>=i||(d=a=e.bMarks[c]+e.tShift[c],p=e.eMarks[c],d<p&&e.sCount[c]<e.blkIndent));)if(e.src.charCodeAt(d)===r&&!(e.sCount[c]-e.blkIndent>=4)&&(d=e.skipChars(d,r),!(d-a<o)&&(d=e.skipSpaces(d),!(d<p)))){f=!0;break}return o=e.sCount[t],e.line=c+(f?1:0),h=e.push("fence","code",0),h.info=l,h.content=e.getLines(t+1,c,o,!0),h.markup=u,h.map=[t,e.line],!0}),Ec}var Mc,Od;function wee(){if(Od)return Mc;Od=1;var n=ke().isSpace;return Mc=function(t,i,s,r){var o,l,c,a,h,u,f,d,p,m,b,g,x,y,v,k,C,A,M,R,T=t.lineMax,I=t.bMarks[i]+t.tShift[i],N=t.eMarks[i];if(t.sCount[i]-t.blkIndent>=4||t.src.charCodeAt(I)!==62)return!1;if(r)return!0;for(m=[],b=[],y=[],v=[],A=t.md.block.ruler.getRules("blockquote"),x=t.parentType,t.parentType="blockquote",d=i;d<s&&(R=t.sCount[d]<t.blkIndent,I=t.bMarks[d]+t.tShift[d],N=t.eMarks[d],!(I>=N));d++){if(t.src.charCodeAt(I++)===62&&!R){for(a=t.sCount[d]+1,t.src.charCodeAt(I)===32?(I++,a++,o=!1,k=!0):t.src.charCodeAt(I)===9?(k=!0,(t.bsCount[d]+a)%4===3?(I++,a++,o=!1):o=!0):k=!1,p=a,m.push(t.bMarks[d]),t.bMarks[d]=I;I<N&&(l=t.src.charCodeAt(I),n(l));){l===9?p+=4-(p+t.bsCount[d]+(o?1:0))%4:p++;I++}u=I>=N,b.push(t.bsCount[d]),t.bsCount[d]=t.sCount[d]+1+(k?1:0),y.push(t.sCount[d]),t.sCount[d]=p-a,v.push(t.tShift[d]),t.tShift[d]=I-t.bMarks[d];continue}if(u)break;for(C=!1,c=0,h=A.length;c<h;c++)if(A[c](t,d,s,!0)){C=!0;break}if(C){t.lineMax=d,t.blkIndent!==0&&(m.push(t.bMarks[d]),b.push(t.bsCount[d]),v.push(t.tShift[d]),y.push(t.sCount[d]),t.sCount[d]-=t.blkIndent);break}m.push(t.bMarks[d]),b.push(t.bsCount[d]),v.push(t.tShift[d]),y.push(t.sCount[d]),t.sCount[d]=-1}for(g=t.blkIndent,t.blkIndent=0,M=t.push("blockquote_open","blockquote",1),M.markup=">",M.map=f=[i,0],t.md.block.tokenize(t,i,d),M=t.push("blockquote_close","blockquote",-1),M.markup=">",t.lineMax=T,t.parentType=x,f[1]=t.line,c=0;c<v.length;c++)t.bMarks[c+i]=m[c],t.tShift[c+i]=v[c],t.sCount[c+i]=y[c],t.bsCount[c+i]=b[c];return t.blkIndent=g,!0},Mc}var Dc,Pd;function Cee(){if(Pd)return Dc;Pd=1;var n=ke().isSpace;return Dc=function(t,i,s,r){var o,l,c,a,h=t.bMarks[i]+t.tShift[i],u=t.eMarks[i];if(t.sCount[i]-t.blkIndent>=4||(o=t.src.charCodeAt(h++),o!==42&&o!==45&&o!==95))return!1;for(l=1;h<u;){if(c=t.src.charCodeAt(h++),c!==o&&!n(c))return!1;c===o&&l++}return l<3?!1:(r||(t.line=i+1,a=t.push("hr","hr",0),a.map=[i,t.line],a.markup=Array(l+1).join(String.fromCharCode(o))),!0)},Dc}var Tc,Ld;function See(){if(Ld)return Tc;Ld=1;var n=ke().isSpace;function e(s,r){var o,l,c,a;return l=s.bMarks[r]+s.tShift[r],c=s.eMarks[r],o=s.src.charCodeAt(l++),o!==42&&o!==45&&o!==43||l<c&&(a=s.src.charCodeAt(l),!n(a))?-1:l}function t(s,r){var o,l=s.bMarks[r]+s.tShift[r],c=l,a=s.eMarks[r];if(c+1>=a||(o=s.src.charCodeAt(c++),o<48||o>57))return-1;for(;;){if(c>=a)return-1;if(o=s.src.charCodeAt(c++),o>=48&&o<=57){if(c-l>=10)return-1;continue}if(o===41||o===46)break;return-1}return c<a&&(o=s.src.charCodeAt(c),!n(o))?-1:c}function i(s,r){var o,l,c=s.level+2;for(o=r+2,l=s.tokens.length-2;o<l;o++)s.tokens[o].level===c&&s.tokens[o].type==="paragraph_open"&&(s.tokens[o+2].hidden=!0,s.tokens[o].hidden=!0,o+=2)}return Tc=function(r,o,l,c){var a,h,u,f,d,p,m,b,g,x,y,v,k,C,A,M,R,T,I,N,D,_,$,Y,ee,oe,ce,Q=o,Ce=!1,me=!0;if(r.sCount[Q]-r.blkIndent>=4||r.listIndent>=0&&r.sCount[Q]-r.listIndent>=4&&r.sCount[Q]<r.blkIndent)return!1;if(c&&r.parentType==="paragraph"&&r.sCount[Q]>=r.blkIndent&&(Ce=!0),(_=t(r,Q))>=0){if(m=!0,Y=r.bMarks[Q]+r.tShift[Q],k=Number(r.src.slice(Y,_-1)),Ce&&k!==1)return!1}else if((_=e(r,Q))>=0)m=!1;else return!1;if(Ce&&r.skipSpaces(_)>=r.eMarks[Q])return!1;if(c)return!0;for(v=r.src.charCodeAt(_-1),y=r.tokens.length,m?(ce=r.push("ordered_list_open","ol",1),k!==1&&(ce.attrs=[["start",k]])):ce=r.push("bullet_list_open","ul",1),ce.map=x=[Q,0],ce.markup=String.fromCharCode(v),$=!1,oe=r.md.block.ruler.getRules("list"),R=r.parentType,r.parentType="list";Q<l;){for(D=_,C=r.eMarks[Q],p=A=r.sCount[Q]+_-(r.bMarks[Q]+r.tShift[Q]);D<C;){if(a=r.src.charCodeAt(D),a===9)A+=4-(A+r.bsCount[Q])%4;else if(a===32)A++;else break;D++}if(h=D,h>=C?d=1:d=A-p,d>4&&(d=1),f=p+d,ce=r.push("list_item_open","li",1),ce.markup=String.fromCharCode(v),ce.map=b=[Q,0],m&&(ce.info=r.src.slice(Y,_-1)),N=r.tight,I=r.tShift[Q],T=r.sCount[Q],M=r.listIndent,r.listIndent=r.blkIndent,r.blkIndent=f,r.tight=!0,r.tShift[Q]=h-r.bMarks[Q],r.sCount[Q]=A,h>=C&&r.isEmpty(Q+1)?r.line=Math.min(r.line+2,l):r.md.block.tokenize(r,Q,l,!0),(!r.tight||$)&&(me=!1),$=r.line-Q>1&&r.isEmpty(r.line-1),r.blkIndent=r.listIndent,r.listIndent=M,r.tShift[Q]=I,r.sCount[Q]=T,r.tight=N,ce=r.push("list_item_close","li",-1),ce.markup=String.fromCharCode(v),Q=r.line,b[1]=Q,Q>=l||r.sCount[Q]<r.blkIndent||r.sCount[Q]-r.blkIndent>=4)break;for(ee=!1,u=0,g=oe.length;u<g;u++)if(oe[u](r,Q,l,!0)){ee=!0;break}if(ee)break;if(m){if(_=t(r,Q),_<0)break;Y=r.bMarks[Q]+r.tShift[Q]}else if(_=e(r,Q),_<0)break;if(v!==r.src.charCodeAt(_-1))break}return m?ce=r.push("ordered_list_close","ol",-1):ce=r.push("bullet_list_close","ul",-1),ce.markup=String.fromCharCode(v),x[1]=Q,r.line=Q,r.parentType=R,me&&i(r,y),!0},Tc}var Rc,Bd;function Aee(){if(Bd)return Rc;Bd=1;var n=ke().normalizeReference,e=ke().isSpace;return Rc=function(i,s,r,o){var l,c,a,h,u,f,d,p,m,b,g,x,y,v,k,C,A=0,M=i.bMarks[s]+i.tShift[s],R=i.eMarks[s],T=s+1;if(i.sCount[s]-i.blkIndent>=4||i.src.charCodeAt(M)!==91)return!1;for(;++M<R;)if(i.src.charCodeAt(M)===93&&i.src.charCodeAt(M-1)!==92){if(M+1===R||i.src.charCodeAt(M+1)!==58)return!1;break}for(h=i.lineMax,k=i.md.block.ruler.getRules("reference"),b=i.parentType,i.parentType="reference";T<h&&!i.isEmpty(T);T++)if(!(i.sCount[T]-i.blkIndent>3)&&!(i.sCount[T]<0)){for(v=!1,f=0,d=k.length;f<d;f++)if(k[f](i,T,h,!0)){v=!0;break}if(v)break}for(y=i.getLines(s,T,i.blkIndent,!1).trim(),R=y.length,M=1;M<R;M++){if(l=y.charCodeAt(M),l===91)return!1;if(l===93){m=M;break}else l===10?A++:l===92&&(M++,M<R&&y.charCodeAt(M)===10&&A++)}if(m<0||y.charCodeAt(m+1)!==58)return!1;for(M=m+2;M<R;M++)if(l=y.charCodeAt(M),l===10)A++;else if(!e(l))break;if(g=i.md.helpers.parseLinkDestination(y,M,R),!g.ok||(u=i.md.normalizeLink(g.str),!i.md.validateLink(u)))return!1;for(M=g.pos,A+=g.lines,c=M,a=A,x=M;M<R;M++)if(l=y.charCodeAt(M),l===10)A++;else if(!e(l))break;for(g=i.md.helpers.parseLinkTitle(y,M,R),M<R&&x!==M&&g.ok?(C=g.str,M=g.pos,A+=g.lines):(C="",M=c,A=a);M<R&&(l=y.charCodeAt(M),!!e(l));)M++;if(M<R&&y.charCodeAt(M)!==10&&C)for(C="",M=c,A=a;M<R&&(l=y.charCodeAt(M),!!e(l));)M++;return M<R&&y.charCodeAt(M)!==10||(p=n(y.slice(1,m)),!p)?!1:(o||(typeof i.env.references>"u"&&(i.env.references={}),typeof i.env.references[p]>"u"&&(i.env.references[p]={title:C,href:u}),i.parentType=b,i.line=s+A+1),!0)},Rc}var Oc,Id;function _ee(){return Id||(Id=1,Oc=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]),Oc}var Nr={},Fd;function D0(){if(Fd)return Nr;Fd=1;var n="[a-zA-Z_:][a-zA-Z0-9:._-]*",e="[^\"'=<>`\\x00-\\x20]+",t="'[^']*'",i='"[^"]*"',s="(?:"+e+"|"+t+"|"+i+")",r="(?:\\s+"+n+"(?:\\s*=\\s*"+s+")?)",o="<[A-Za-z][A-Za-z0-9\\-]*"+r+"*\\s*\\/?>",l="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",c="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",a="<[?][\\s\\S]*?[?]>",h="<![A-Z]+\\s+[^>]*>",u="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",f=new RegExp("^(?:"+o+"|"+l+"|"+c+"|"+a+"|"+h+"|"+u+")"),d=new RegExp("^(?:"+o+"|"+l+")");return Nr.HTML_TAG_RE=f,Nr.HTML_OPEN_CLOSE_TAG_RE=d,Nr}var Pc,Nd;function Eee(){if(Nd)return Pc;Nd=1;var n=_ee(),e=D0().HTML_OPEN_CLOSE_TAG_RE,t=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+n.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(e.source+"\\s*$"),/^$/,!1]];return Pc=function(s,r,o,l){var c,a,h,u,f=s.bMarks[r]+s.tShift[r],d=s.eMarks[r];if(s.sCount[r]-s.blkIndent>=4||!s.md.options.html||s.src.charCodeAt(f)!==60)return!1;for(u=s.src.slice(f,d),c=0;c<t.length&&!t[c][0].test(u);c++);if(c===t.length)return!1;if(l)return t[c][2];if(a=r+1,!t[c][1].test(u)){for(;a<o&&!(s.sCount[a]<s.blkIndent);a++)if(f=s.bMarks[a]+s.tShift[a],d=s.eMarks[a],u=s.src.slice(f,d),t[c][1].test(u)){u.length!==0&&a++;break}}return s.line=a,h=s.push("html_block","",0),h.map=[r,a],h.content=s.getLines(r,a,s.blkIndent,!0),!0},Pc}var Lc,qd;function Mee(){if(qd)return Lc;qd=1;var n=ke().isSpace;return Lc=function(t,i,s,r){var o,l,c,a,h=t.bMarks[i]+t.tShift[i],u=t.eMarks[i];if(t.sCount[i]-t.blkIndent>=4||(o=t.src.charCodeAt(h),o!==35||h>=u))return!1;for(l=1,o=t.src.charCodeAt(++h);o===35&&h<u&&l<=6;)l++,o=t.src.charCodeAt(++h);return l>6||h<u&&!n(o)?!1:(r||(u=t.skipSpacesBack(u,h),c=t.skipCharsBack(u,35,h),c>h&&n(t.src.charCodeAt(c-1))&&(u=c),t.line=i+1,a=t.push("heading_open","h"+String(l),1),a.markup="########".slice(0,l),a.map=[i,t.line],a=t.push("inline","",0),a.content=t.src.slice(h,u).trim(),a.map=[i,t.line],a.children=[],a=t.push("heading_close","h"+String(l),-1),a.markup="########".slice(0,l)),!0)},Lc}var Bc,$d;function Dee(){return $d||($d=1,Bc=function(e,t,i){var s,r,o,l,c,a,h,u,f,d=t+1,p,m=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(p=e.parentType,e.parentType="paragraph";d<i&&!e.isEmpty(d);d++)if(!(e.sCount[d]-e.blkIndent>3)){if(e.sCount[d]>=e.blkIndent&&(a=e.bMarks[d]+e.tShift[d],h=e.eMarks[d],a<h&&(f=e.src.charCodeAt(a),(f===45||f===61)&&(a=e.skipChars(a,f),a=e.skipSpaces(a),a>=h)))){u=f===61?1:2;break}if(!(e.sCount[d]<0)){for(r=!1,o=0,l=m.length;o<l;o++)if(m[o](e,d,i,!0)){r=!0;break}if(r)break}}return u?(s=e.getLines(t,d,e.blkIndent,!1).trim(),e.line=d+1,c=e.push("heading_open","h"+String(u),1),c.markup=String.fromCharCode(f),c.map=[t,e.line],c=e.push("inline","",0),c.content=s,c.map=[t,e.line-1],c.children=[],c=e.push("heading_close","h"+String(u),-1),c.markup=String.fromCharCode(f),e.parentType=p,!0):!1}),Bc}var Ic,Hd;function Tee(){return Hd||(Hd=1,Ic=function(e,t,i){var s,r,o,l,c,a,h=t+1,u=e.md.block.ruler.getRules("paragraph");for(a=e.parentType,e.parentType="paragraph";h<i&&!e.isEmpty(h);h++)if(!(e.sCount[h]-e.blkIndent>3)&&!(e.sCount[h]<0)){for(r=!1,o=0,l=u.length;o<l;o++)if(u[o](e,h,i,!0)){r=!0;break}if(r)break}return s=e.getLines(t,h,e.blkIndent,!1).trim(),e.line=h,c=e.push("paragraph_open","p",1),c.map=[t,e.line],c=e.push("inline","",0),c.content=s,c.map=[t,e.line],c.children=[],c=e.push("paragraph_close","p",-1),e.parentType=a,!0}),Ic}var Fc,zd;function Ree(){if(zd)return Fc;zd=1;var n=bu(),e=ke().isSpace;function t(i,s,r,o){var l,c,a,h,u,f,d,p;for(this.src=i,this.md=s,this.env=r,this.tokens=o,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",c=this.src,p=!1,a=h=f=d=0,u=c.length;h<u;h++){if(l=c.charCodeAt(h),!p)if(e(l)){f++,l===9?d+=4-d%4:d++;continue}else p=!0;(l===10||h===u-1)&&(l!==10&&h++,this.bMarks.push(a),this.eMarks.push(h),this.tShift.push(f),this.sCount.push(d),this.bsCount.push(0),p=!1,f=0,d=0,a=h+1)}this.bMarks.push(c.length),this.eMarks.push(c.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}return t.prototype.push=function(i,s,r){var o=new n(i,s,r);return o.block=!0,r<0&&this.level--,o.level=this.level,r>0&&this.level++,this.tokens.push(o),o},t.prototype.isEmpty=function(s){return this.bMarks[s]+this.tShift[s]>=this.eMarks[s]},t.prototype.skipEmptyLines=function(s){for(var r=this.lineMax;s<r&&!(this.bMarks[s]+this.tShift[s]<this.eMarks[s]);s++);return s},t.prototype.skipSpaces=function(s){for(var r,o=this.src.length;s<o&&(r=this.src.charCodeAt(s),!!e(r));s++);return s},t.prototype.skipSpacesBack=function(s,r){if(s<=r)return s;for(;s>r;)if(!e(this.src.charCodeAt(--s)))return s+1;return s},t.prototype.skipChars=function(s,r){for(var o=this.src.length;s<o&&this.src.charCodeAt(s)===r;s++);return s},t.prototype.skipCharsBack=function(s,r,o){if(s<=o)return s;for(;s>o;)if(r!==this.src.charCodeAt(--s))return s+1;return s},t.prototype.getLines=function(s,r,o,l){var c,a,h,u,f,d,p,m=s;if(s>=r)return"";for(d=new Array(r-s),c=0;m<r;m++,c++){for(a=0,p=u=this.bMarks[m],m+1<r||l?f=this.eMarks[m]+1:f=this.eMarks[m];u<f&&a<o;){if(h=this.src.charCodeAt(u),e(h))h===9?a+=4-(a+this.bsCount[m])%4:a++;else if(u-p<this.tShift[m])a++;else break;u++}a>o?d[c]=new Array(a-o+1).join(" ")+this.src.slice(u,f):d[c]=this.src.slice(u,f)}return d.join("")},t.prototype.Token=n,Fc=t,Fc}var Nc,Vd;function Oee(){if(Vd)return Nc;Vd=1;var n=yu(),e=[["table",vee(),["paragraph","reference"]],["code",xee()],["fence",kee(),["paragraph","reference","blockquote","list"]],["blockquote",wee(),["paragraph","reference","blockquote","list"]],["hr",Cee(),["paragraph","reference","blockquote","list"]],["list",See(),["paragraph","reference","blockquote"]],["reference",Aee()],["html_block",Eee(),["paragraph","reference","blockquote"]],["heading",Mee(),["paragraph","reference","blockquote"]],["lheading",Dee()],["paragraph",Tee()]];function t(){this.ruler=new n;for(var i=0;i<e.length;i++)this.ruler.push(e[i][0],e[i][1],{alt:(e[i][2]||[]).slice()})}return t.prototype.tokenize=function(i,s,r){for(var o,l,c,a=this.ruler.getRules(""),h=a.length,u=s,f=!1,d=i.md.options.maxNesting;u<r&&(i.line=u=i.skipEmptyLines(u),!(u>=r||i.sCount[u]<i.blkIndent));){if(i.level>=d){i.line=r;break}for(c=i.line,l=0;l<h;l++)if(o=a[l](i,u,r,!1),o){if(c>=i.line)throw new Error("block rule didn't increment state.line");break}if(!o)throw new Error("none of the block rules matched");i.tight=!f,i.isEmpty(i.line-1)&&(f=!0),u=i.line,u<r&&i.isEmpty(u)&&(f=!0,u++,i.line=u)}},t.prototype.parse=function(i,s,r,o){var l;i&&(l=new this.State(i,s,r,o),this.tokenize(l,l.line,l.lineMax))},t.prototype.State=Ree(),Nc=t,Nc}var qc,Wd;function Pee(){if(Wd)return qc;Wd=1;function n(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}return qc=function(t,i){for(var s=t.pos;s<t.posMax&&!n(t.src.charCodeAt(s));)s++;return s===t.pos?!1:(i||(t.pending+=t.src.slice(t.pos,s)),t.pos=s,!0)},qc}var $c,jd;function Lee(){if(jd)return $c;jd=1;var n=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;return $c=function(t,i){var s,r,o,l,c,a,h,u;return!t.md.options.linkify||t.linkLevel>0||(s=t.pos,r=t.posMax,s+3>r)||t.src.charCodeAt(s)!==58||t.src.charCodeAt(s+1)!==47||t.src.charCodeAt(s+2)!==47||(o=t.pending.match(n),!o)||(l=o[1],c=t.md.linkify.matchAtStart(t.src.slice(s-l.length)),!c)||(a=c.url,a.length<=l.length)||(a=a.replace(/\*+$/,""),h=t.md.normalizeLink(a),!t.md.validateLink(h))?!1:(i||(t.pending=t.pending.slice(0,-l.length),u=t.push("link_open","a",1),u.attrs=[["href",h]],u.markup="linkify",u.info="auto",u=t.push("text","",0),u.content=t.md.normalizeLinkText(a),u=t.push("link_close","a",-1),u.markup="linkify",u.info="auto"),t.pos+=a.length-l.length,!0)},$c}var Hc,Ud;function Bee(){if(Ud)return Hc;Ud=1;var n=ke().isSpace;return Hc=function(t,i){var s,r,o,l=t.pos;if(t.src.charCodeAt(l)!==10)return!1;if(s=t.pending.length-1,r=t.posMax,!i)if(s>=0&&t.pending.charCodeAt(s)===32)if(s>=1&&t.pending.charCodeAt(s-1)===32){for(o=s-1;o>=1&&t.pending.charCodeAt(o-1)===32;)o--;t.pending=t.pending.slice(0,o),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(l++;l<r&&n(t.src.charCodeAt(l));)l++;return t.pos=l,!0},Hc}var zc,Kd;function Iee(){if(Kd)return zc;Kd=1;for(var n=ke().isSpace,e=[],t=0;t<256;t++)e.push(0);return"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(i){e[i.charCodeAt(0)]=1}),zc=function(s,r){var o,l,c,a,h,u=s.pos,f=s.posMax;if(s.src.charCodeAt(u)!==92||(u++,u>=f))return!1;if(o=s.src.charCodeAt(u),o===10){for(r||s.push("hardbreak","br",0),u++;u<f&&(o=s.src.charCodeAt(u),!!n(o));)u++;return s.pos=u,!0}return a=s.src[u],o>=55296&&o<=56319&&u+1<f&&(l=s.src.charCodeAt(u+1),l>=56320&&l<=57343&&(a+=s.src[u+1],u++)),c="\\"+a,r||(h=s.push("text_special","",0),o<256&&e[o]!==0?h.content=a:h.content=c,h.markup=c,h.info="escape"),s.pos=u+1,!0},zc}var Vc,Gd;function Fee(){return Gd||(Gd=1,Vc=function(e,t){var i,s,r,o,l,c,a,h,u=e.pos,f=e.src.charCodeAt(u);if(f!==96)return!1;for(i=u,u++,s=e.posMax;u<s&&e.src.charCodeAt(u)===96;)u++;if(r=e.src.slice(i,u),a=r.length,e.backticksScanned&&(e.backticks[a]||0)<=i)return t||(e.pending+=r),e.pos+=a,!0;for(c=u;(l=e.src.indexOf("`",c))!==-1;){for(c=l+1;c<s&&e.src.charCodeAt(c)===96;)c++;if(h=c-l,h===a)return t||(o=e.push("code_inline","code",0),o.markup=r,o.content=e.src.slice(u,l).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=c,!0;e.backticks[h]=l}return e.backticksScanned=!0,t||(e.pending+=r),e.pos+=a,!0}),Vc}var qr={},Yd;function Jd(){if(Yd)return qr;Yd=1,qr.tokenize=function(t,i){var s,r,o,l,c,a=t.pos,h=t.src.charCodeAt(a);if(i||h!==126||(r=t.scanDelims(t.pos,!0),l=r.length,c=String.fromCharCode(h),l<2))return!1;for(l%2&&(o=t.push("text","",0),o.content=c,l--),s=0;s<l;s+=2)o=t.push("text","",0),o.content=c+c,t.delimiters.push({marker:h,length:0,token:t.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return t.pos+=r.length,!0};function n(e,t){var i,s,r,o,l,c=[],a=t.length;for(i=0;i<a;i++)r=t[i],r.marker===126&&r.end!==-1&&(o=t[r.end],l=e.tokens[r.token],l.type="s_open",l.tag="s",l.nesting=1,l.markup="~~",l.content="",l=e.tokens[o.token],l.type="s_close",l.tag="s",l.nesting=-1,l.markup="~~",l.content="",e.tokens[o.token-1].type==="text"&&e.tokens[o.token-1].content==="~"&&c.push(o.token-1));for(;c.length;){for(i=c.pop(),s=i+1;s<e.tokens.length&&e.tokens[s].type==="s_close";)s++;s--,i!==s&&(l=e.tokens[s],e.tokens[s]=e.tokens[i],e.tokens[i]=l)}}return qr.postProcess=function(t){var i,s=t.tokens_meta,r=t.tokens_meta.length;for(n(t,t.delimiters),i=0;i<r;i++)s[i]&&s[i].delimiters&&n(t,s[i].delimiters)},qr}var $r={},Xd;function Zd(){if(Xd)return $r;Xd=1,$r.tokenize=function(t,i){var s,r,o,l=t.pos,c=t.src.charCodeAt(l);if(i||c!==95&&c!==42)return!1;for(r=t.scanDelims(t.pos,c===42),s=0;s<r.length;s++)o=t.push("text","",0),o.content=String.fromCharCode(c),t.delimiters.push({marker:c,length:r.length,token:t.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return t.pos+=r.length,!0};function n(e,t){var i,s,r,o,l,c,a=t.length;for(i=a-1;i>=0;i--)s=t[i],!(s.marker!==95&&s.marker!==42)&&s.end!==-1&&(r=t[s.end],c=i>0&&t[i-1].end===s.end+1&&t[i-1].marker===s.marker&&t[i-1].token===s.token-1&&t[s.end+1].token===r.token+1,l=String.fromCharCode(s.marker),o=e.tokens[s.token],o.type=c?"strong_open":"em_open",o.tag=c?"strong":"em",o.nesting=1,o.markup=c?l+l:l,o.content="",o=e.tokens[r.token],o.type=c?"strong_close":"em_close",o.tag=c?"strong":"em",o.nesting=-1,o.markup=c?l+l:l,o.content="",c&&(e.tokens[t[i-1].token].content="",e.tokens[t[s.end+1].token].content="",i--))}return $r.postProcess=function(t){var i,s=t.tokens_meta,r=t.tokens_meta.length;for(n(t,t.delimiters),i=0;i<r;i++)s[i]&&s[i].delimiters&&n(t,s[i].delimiters)},$r}var Wc,Qd;function Nee(){if(Qd)return Wc;Qd=1;var n=ke().normalizeReference,e=ke().isSpace;return Wc=function(i,s){var r,o,l,c,a,h,u,f,d,p="",m="",b=i.pos,g=i.posMax,x=i.pos,y=!0;if(i.src.charCodeAt(i.pos)!==91||(a=i.pos+1,c=i.md.helpers.parseLinkLabel(i,i.pos,!0),c<0))return!1;if(h=c+1,h<g&&i.src.charCodeAt(h)===40){for(y=!1,h++;h<g&&(o=i.src.charCodeAt(h),!(!e(o)&&o!==10));h++);if(h>=g)return!1;if(x=h,u=i.md.helpers.parseLinkDestination(i.src,h,i.posMax),u.ok){for(p=i.md.normalizeLink(u.str),i.md.validateLink(p)?h=u.pos:p="",x=h;h<g&&(o=i.src.charCodeAt(h),!(!e(o)&&o!==10));h++);if(u=i.md.helpers.parseLinkTitle(i.src,h,i.posMax),h<g&&x!==h&&u.ok)for(m=u.str,h=u.pos;h<g&&(o=i.src.charCodeAt(h),!(!e(o)&&o!==10));h++);}(h>=g||i.src.charCodeAt(h)!==41)&&(y=!0),h++}if(y){if(typeof i.env.references>"u")return!1;if(h<g&&i.src.charCodeAt(h)===91?(x=h+1,h=i.md.helpers.parseLinkLabel(i,h),h>=0?l=i.src.slice(x,h++):h=c+1):h=c+1,l||(l=i.src.slice(a,c)),f=i.env.references[n(l)],!f)return i.pos=b,!1;p=f.href,m=f.title}return s||(i.pos=a,i.posMax=c,d=i.push("link_open","a",1),d.attrs=r=[["href",p]],m&&r.push(["title",m]),i.linkLevel++,i.md.inline.tokenize(i),i.linkLevel--,d=i.push("link_close","a",-1)),i.pos=h,i.posMax=g,!0},Wc}var jc,ep;function qee(){if(ep)return jc;ep=1;var n=ke().normalizeReference,e=ke().isSpace;return jc=function(i,s){var r,o,l,c,a,h,u,f,d,p,m,b,g,x="",y=i.pos,v=i.posMax;if(i.src.charCodeAt(i.pos)!==33||i.src.charCodeAt(i.pos+1)!==91||(h=i.pos+2,a=i.md.helpers.parseLinkLabel(i,i.pos+1,!1),a<0))return!1;if(u=a+1,u<v&&i.src.charCodeAt(u)===40){for(u++;u<v&&(o=i.src.charCodeAt(u),!(!e(o)&&o!==10));u++);if(u>=v)return!1;for(g=u,d=i.md.helpers.parseLinkDestination(i.src,u,i.posMax),d.ok&&(x=i.md.normalizeLink(d.str),i.md.validateLink(x)?u=d.pos:x=""),g=u;u<v&&(o=i.src.charCodeAt(u),!(!e(o)&&o!==10));u++);if(d=i.md.helpers.parseLinkTitle(i.src,u,i.posMax),u<v&&g!==u&&d.ok)for(p=d.str,u=d.pos;u<v&&(o=i.src.charCodeAt(u),!(!e(o)&&o!==10));u++);else p="";if(u>=v||i.src.charCodeAt(u)!==41)return i.pos=y,!1;u++}else{if(typeof i.env.references>"u")return!1;if(u<v&&i.src.charCodeAt(u)===91?(g=u+1,u=i.md.helpers.parseLinkLabel(i,u),u>=0?c=i.src.slice(g,u++):u=a+1):u=a+1,c||(c=i.src.slice(h,a)),f=i.env.references[n(c)],!f)return i.pos=y,!1;x=f.href,p=f.title}return s||(l=i.src.slice(h,a),i.md.inline.parse(l,i.md,i.env,b=[]),m=i.push("image","img",0),m.attrs=r=[["src",x],["alt",""]],m.children=b,m.content=l,p&&r.push(["title",p])),i.pos=u,i.posMax=v,!0},jc}var Uc,tp;function $ee(){if(tp)return Uc;tp=1;var n=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,e=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;return Uc=function(i,s){var r,o,l,c,a,h,u=i.pos;if(i.src.charCodeAt(u)!==60)return!1;for(a=i.pos,h=i.posMax;;){if(++u>=h||(c=i.src.charCodeAt(u),c===60))return!1;if(c===62)break}return r=i.src.slice(a+1,u),e.test(r)?(o=i.md.normalizeLink(r),i.md.validateLink(o)?(s||(l=i.push("link_open","a",1),l.attrs=[["href",o]],l.markup="autolink",l.info="auto",l=i.push("text","",0),l.content=i.md.normalizeLinkText(r),l=i.push("link_close","a",-1),l.markup="autolink",l.info="auto"),i.pos+=r.length+2,!0):!1):n.test(r)?(o=i.md.normalizeLink("mailto:"+r),i.md.validateLink(o)?(s||(l=i.push("link_open","a",1),l.attrs=[["href",o]],l.markup="autolink",l.info="auto",l=i.push("text","",0),l.content=i.md.normalizeLinkText(r),l=i.push("link_close","a",-1),l.markup="autolink",l.info="auto"),i.pos+=r.length+2,!0):!1):!1},Uc}var Kc,np;function Hee(){if(np)return Kc;np=1;var n=D0().HTML_TAG_RE;function e(s){return/^<a[>\s]/i.test(s)}function t(s){return/^<\/a\s*>/i.test(s)}function i(s){var r=s|32;return r>=97&&r<=122}return Kc=function(r,o){var l,c,a,h,u=r.pos;return!r.md.options.html||(a=r.posMax,r.src.charCodeAt(u)!==60||u+2>=a)||(l=r.src.charCodeAt(u+1),l!==33&&l!==63&&l!==47&&!i(l))||(c=r.src.slice(u).match(n),!c)?!1:(o||(h=r.push("html_inline","",0),h.content=c[0],e(h.content)&&r.linkLevel++,t(h.content)&&r.linkLevel--),r.pos+=c[0].length,!0)},Kc}var Gc,ip;function zee(){if(ip)return Gc;ip=1;var n=S0(),e=ke().has,t=ke().isValidEntityCode,i=ke().fromCodePoint,s=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,r=/^&([a-z][a-z0-9]{1,31});/i;return Gc=function(l,c){var a,h,u,f,d=l.pos,p=l.posMax;if(l.src.charCodeAt(d)!==38||d+1>=p)return!1;if(a=l.src.charCodeAt(d+1),a===35){if(u=l.src.slice(d).match(s),u)return c||(h=u[1][0].toLowerCase()==="x"?parseInt(u[1].slice(1),16):parseInt(u[1],10),f=l.push("text_special","",0),f.content=t(h)?i(h):i(65533),f.markup=u[0],f.info="entity"),l.pos+=u[0].length,!0}else if(u=l.src.slice(d).match(r),u&&e(n,u[1]))return c||(f=l.push("text_special","",0),f.content=n[u[1]],f.markup=u[0],f.info="entity"),l.pos+=u[0].length,!0;return!1},Gc}var Yc,sp;function Vee(){if(sp)return Yc;sp=1;function n(e){var t,i,s,r,o,l,c,a,h={},u=e.length;if(u){var f=0,d=-2,p=[];for(t=0;t<u;t++)if(s=e[t],p.push(0),(e[f].marker!==s.marker||d!==s.token-1)&&(f=t),d=s.token,s.length=s.length||0,!!s.close){for(h.hasOwnProperty(s.marker)||(h[s.marker]=[-1,-1,-1,-1,-1,-1]),o=h[s.marker][(s.open?3:0)+s.length%3],i=f-p[f]-1,l=i;i>o;i-=p[i]+1)if(r=e[i],r.marker===s.marker&&r.open&&r.end<0&&(c=!1,(r.close||s.open)&&(r.length+s.length)%3===0&&(r.length%3!==0||s.length%3!==0)&&(c=!0),!c)){a=i>0&&!e[i-1].open?p[i-1]+1:0,p[t]=t-i+a,p[i]=a,s.open=!1,r.end=t,r.close=!1,l=-1,d=-2;break}l!==-1&&(h[s.marker][(s.open?3:0)+(s.length||0)%3]=l)}}}return Yc=function(t){var i,s=t.tokens_meta,r=t.tokens_meta.length;for(n(t.delimiters),i=0;i<r;i++)s[i]&&s[i].delimiters&&n(s[i].delimiters)},Yc}var Jc,rp;function Wee(){return rp||(rp=1,Jc=function(e){var t,i,s=0,r=e.tokens,o=e.tokens.length;for(t=i=0;t<o;t++)r[t].nesting<0&&s--,r[t].level=s,r[t].nesting>0&&s++,r[t].type==="text"&&t+1<o&&r[t+1].type==="text"?r[t+1].content=r[t].content+r[t+1].content:(t!==i&&(r[i]=r[t]),i++);t!==i&&(r.length=i)}),Jc}var Xc,op;function jee(){if(op)return Xc;op=1;var n=bu(),e=ke().isWhiteSpace,t=ke().isPunctChar,i=ke().isMdAsciiPunct;function s(r,o,l,c){this.src=r,this.env=l,this.md=o,this.tokens=c,this.tokens_meta=Array(c.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}return s.prototype.pushPending=function(){var r=new n("text","",0);return r.content=this.pending,r.level=this.pendingLevel,this.tokens.push(r),this.pending="",r},s.prototype.push=function(r,o,l){this.pending&&this.pushPending();var c=new n(r,o,l),a=null;return l<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),c.level=this.level,l>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],a={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(c),this.tokens_meta.push(a),c},s.prototype.scanDelims=function(r,o){var l=r,c,a,h,u,f,d,p,m,b,g=!0,x=!0,y=this.posMax,v=this.src.charCodeAt(r);for(c=r>0?this.src.charCodeAt(r-1):32;l<y&&this.src.charCodeAt(l)===v;)l++;return h=l-r,a=l<y?this.src.charCodeAt(l):32,p=i(c)||t(String.fromCharCode(c)),b=i(a)||t(String.fromCharCode(a)),d=e(c),m=e(a),m?g=!1:b&&(d||p||(g=!1)),d?x=!1:p&&(m||b||(x=!1)),o?(u=g,f=x):(u=g&&(!x||p),f=x&&(!g||b)),{can_open:u,can_close:f,length:h}},s.prototype.Token=n,Xc=s,Xc}var Zc,lp;function Uee(){if(lp)return Zc;lp=1;var n=yu(),e=[["text",Pee()],["linkify",Lee()],["newline",Bee()],["escape",Iee()],["backticks",Fee()],["strikethrough",Jd().tokenize],["emphasis",Zd().tokenize],["link",Nee()],["image",qee()],["autolink",$ee()],["html_inline",Hee()],["entity",zee()]],t=[["balance_pairs",Vee()],["strikethrough",Jd().postProcess],["emphasis",Zd().postProcess],["fragments_join",Wee()]];function i(){var s;for(this.ruler=new n,s=0;s<e.length;s++)this.ruler.push(e[s][0],e[s][1]);for(this.ruler2=new n,s=0;s<t.length;s++)this.ruler2.push(t[s][0],t[s][1])}return i.prototype.skipToken=function(s){var r,o,l=s.pos,c=this.ruler.getRules(""),a=c.length,h=s.md.options.maxNesting,u=s.cache;if(typeof u[l]<"u"){s.pos=u[l];return}if(s.level<h){for(o=0;o<a;o++)if(s.level++,r=c[o](s,!0),s.level--,r){if(l>=s.pos)throw new Error("inline rule didn't increment state.pos");break}}else s.pos=s.posMax;r||s.pos++,u[l]=s.pos},i.prototype.tokenize=function(s){for(var r,o,l,c=this.ruler.getRules(""),a=c.length,h=s.posMax,u=s.md.options.maxNesting;s.pos<h;){if(l=s.pos,s.level<u){for(o=0;o<a;o++)if(r=c[o](s,!1),r){if(l>=s.pos)throw new Error("inline rule didn't increment state.pos");break}}if(r){if(s.pos>=h)break;continue}s.pending+=s.src[s.pos++]}s.pending&&s.pushPending()},i.prototype.parse=function(s,r,o,l){var c,a,h,u=new this.State(s,r,o,l);for(this.tokenize(u),a=this.ruler2.getRules(""),h=a.length,c=0;c<h;c++)a[c](u)},i.prototype.State=jee(),Zc=i,Zc}var Qc,cp;function Kee(){return cp||(cp=1,Qc=function(n){var e={};n=n||{},e.src_Any=_0().source,e.src_Cc=E0().source,e.src_Z=M0().source,e.src_P=gu().source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");var t="[><]";return e.src_pseudo_letter="(?:(?!"+t+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+t+"|"+e.src_ZPCc+")(?!"+(n["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+t+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(n["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+t+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}),Qc}var ea,ap;function Gee(){if(ap)return ea;ap=1;function n(y){var v=Array.prototype.slice.call(arguments,1);return v.forEach(function(k){k&&Object.keys(k).forEach(function(C){y[C]=k[C]})}),y}function e(y){return Object.prototype.toString.call(y)}function t(y){return e(y)==="[object String]"}function i(y){return e(y)==="[object Object]"}function s(y){return e(y)==="[object RegExp]"}function r(y){return e(y)==="[object Function]"}function o(y){return y.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var l={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function c(y){return Object.keys(y||{}).reduce(function(v,k){return v||l.hasOwnProperty(k)},!1)}var a={"http:":{validate:function(y,v,k){var C=y.slice(v);return k.re.http||(k.re.http=new RegExp("^\\/\\/"+k.re.src_auth+k.re.src_host_port_strict+k.re.src_path,"i")),k.re.http.test(C)?C.match(k.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(y,v,k){var C=y.slice(v);return k.re.no_http||(k.re.no_http=new RegExp("^"+k.re.src_auth+"(?:localhost|(?:(?:"+k.re.src_domain+")\\.)+"+k.re.src_domain_root+")"+k.re.src_port+k.re.src_host_terminator+k.re.src_path,"i")),k.re.no_http.test(C)?v>=3&&y[v-3]===":"||v>=3&&y[v-3]==="/"?0:C.match(k.re.no_http)[0].length:0}},"mailto:":{validate:function(y,v,k){var C=y.slice(v);return k.re.mailto||(k.re.mailto=new RegExp("^"+k.re.src_email_name+"@"+k.re.src_host_strict,"i")),k.re.mailto.test(C)?C.match(k.re.mailto)[0].length:0}}},h="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",u="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function f(y){y.__index__=-1,y.__text_cache__=""}function d(y){return function(v,k){var C=v.slice(k);return y.test(C)?C.match(y)[0].length:0}}function p(){return function(y,v){v.normalize(y)}}function m(y){var v=y.re=Kee()(y.__opts__),k=y.__tlds__.slice();y.onCompile(),y.__tlds_replaced__||k.push(h),k.push(v.src_xn),v.src_tlds=k.join("|");function C(T){return T.replace("%TLDS%",v.src_tlds)}v.email_fuzzy=RegExp(C(v.tpl_email_fuzzy),"i"),v.link_fuzzy=RegExp(C(v.tpl_link_fuzzy),"i"),v.link_no_ip_fuzzy=RegExp(C(v.tpl_link_no_ip_fuzzy),"i"),v.host_fuzzy_test=RegExp(C(v.tpl_host_fuzzy_test),"i");var A=[];y.__compiled__={};function M(T,I){throw new Error('(LinkifyIt) Invalid schema "'+T+'": '+I)}Object.keys(y.__schemas__).forEach(function(T){var I=y.__schemas__[T];if(I!==null){var N={validate:null,link:null};if(y.__compiled__[T]=N,i(I)){s(I.validate)?N.validate=d(I.validate):r(I.validate)?N.validate=I.validate:M(T,I),r(I.normalize)?N.normalize=I.normalize:I.normalize?M(T,I):N.normalize=p();return}if(t(I)){A.push(T);return}M(T,I)}}),A.forEach(function(T){y.__compiled__[y.__schemas__[T]]&&(y.__compiled__[T].validate=y.__compiled__[y.__schemas__[T]].validate,y.__compiled__[T].normalize=y.__compiled__[y.__schemas__[T]].normalize)}),y.__compiled__[""]={validate:null,normalize:p()};var R=Object.keys(y.__compiled__).filter(function(T){return T.length>0&&y.__compiled__[T]}).map(o).join("|");y.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+v.src_ZPCc+"))("+R+")","i"),y.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+v.src_ZPCc+"))("+R+")","ig"),y.re.schema_at_start=RegExp("^"+y.re.schema_search.source,"i"),y.re.pretest=RegExp("("+y.re.schema_test.source+")|("+y.re.host_fuzzy_test.source+")|@","i"),f(y)}function b(y,v){var k=y.__index__,C=y.__last_index__,A=y.__text_cache__.slice(k,C);this.schema=y.__schema__.toLowerCase(),this.index=k+v,this.lastIndex=C+v,this.raw=A,this.text=A,this.url=A}function g(y,v){var k=new b(y,v);return y.__compiled__[k.schema].normalize(k,y),k}function x(y,v){if(!(this instanceof x))return new x(y,v);v||c(y)&&(v=y,y={}),this.__opts__=n({},l,v),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=n({},a,y),this.__compiled__={},this.__tlds__=u,this.__tlds_replaced__=!1,this.re={},m(this)}return x.prototype.add=function(v,k){return this.__schemas__[v]=k,m(this),this},x.prototype.set=function(v){return this.__opts__=n(this.__opts__,v),this},x.prototype.test=function(v){if(this.__text_cache__=v,this.__index__=-1,!v.length)return!1;var k,C,A,M,R,T,I,N,D;if(this.re.schema_test.test(v)){for(I=this.re.schema_search,I.lastIndex=0;(k=I.exec(v))!==null;)if(M=this.testSchemaAt(v,k[2],I.lastIndex),M){this.__schema__=k[2],this.__index__=k.index+k[1].length,this.__last_index__=k.index+k[0].length+M;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(N=v.search(this.re.host_fuzzy_test),N>=0&&(this.__index__<0||N<this.__index__)&&(C=v.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(R=C.index+C[1].length,(this.__index__<0||R<this.__index__)&&(this.__schema__="",this.__index__=R,this.__last_index__=C.index+C[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(D=v.indexOf("@"),D>=0&&(A=v.match(this.re.email_fuzzy))!==null&&(R=A.index+A[1].length,T=A.index+A[0].length,(this.__index__<0||R<this.__index__||R===this.__index__&&T>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=R,this.__last_index__=T))),this.__index__>=0},x.prototype.pretest=function(v){return this.re.pretest.test(v)},x.prototype.testSchemaAt=function(v,k,C){return this.__compiled__[k.toLowerCase()]?this.__compiled__[k.toLowerCase()].validate(v,C,this):0},x.prototype.match=function(v){var k=0,C=[];this.__index__>=0&&this.__text_cache__===v&&(C.push(g(this,k)),k=this.__last_index__);for(var A=k?v.slice(k):v;this.test(A);)C.push(g(this,k)),A=A.slice(this.__last_index__),k+=this.__last_index__;return C.length?C:null},x.prototype.matchAtStart=function(v){if(this.__text_cache__=v,this.__index__=-1,!v.length)return null;var k=this.re.schema_at_start.exec(v);if(!k)return null;var C=this.testSchemaAt(v,k[2],k[0].length);return C?(this.__schema__=k[2],this.__index__=k.index+k[1].length,this.__last_index__=k.index+k[0].length+C,g(this,0)):null},x.prototype.tlds=function(v,k){return v=Array.isArray(v)?v:[v],k?(this.__tlds__=this.__tlds__.concat(v).sort().filter(function(C,A,M){return C!==M[A-1]}).reverse(),m(this),this):(this.__tlds__=v.slice(),this.__tlds_replaced__=!0,m(this),this)},x.prototype.normalize=function(v){v.schema||(v.url="http://"+v.url),v.schema==="mailto:"&&!/^mailto:/i.test(v.url)&&(v.url="mailto:"+v.url)},x.prototype.onCompile=function(){},ea=x,ea}const es=2147483647,un=36,vu=1,cr=26,Yee=38,Jee=700,T0=72,R0=128,O0="-",Xee=/^xn--/,Zee=/[^\0-\x7F]/,Qee=/[\x2E\u3002\uFF0E\uFF61]/g,ete={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ta=un-vu,fn=Math.floor,na=String.fromCharCode;function Vn(n){throw new RangeError(ete[n])}function tte(n,e){const t=[];let i=n.length;for(;i--;)t[i]=e(n[i]);return t}function P0(n,e){const t=n.split("@");let i="";t.length>1&&(i=t[0]+"@",n=t[1]),n=n.replace(Qee,".");const s=n.split("."),r=tte(s,e).join(".");return i+r}function xu(n){const e=[];let t=0;const i=n.length;for(;t<i;){const s=n.charCodeAt(t++);if(s>=55296&&s<=56319&&t<i){const r=n.charCodeAt(t++);(r&64512)==56320?e.push(((s&1023)<<10)+(r&1023)+65536):(e.push(s),t--)}else e.push(s)}return e}const L0=n=>String.fromCodePoint(...n),nte=function(n){return n>=48&&n<58?26+(n-48):n>=65&&n<91?n-65:n>=97&&n<123?n-97:un},hp=function(n,e){return n+22+75*(n<26)-((e!=0)<<5)},B0=function(n,e,t){let i=0;for(n=t?fn(n/Jee):n>>1,n+=fn(n/e);n>ta*cr>>1;i+=un)n=fn(n/ta);return fn(i+(ta+1)*n/(n+Yee))},ku=function(n){const e=[],t=n.length;let i=0,s=R0,r=T0,o=n.lastIndexOf(O0);o<0&&(o=0);for(let l=0;l<o;++l)n.charCodeAt(l)>=128&&Vn("not-basic"),e.push(n.charCodeAt(l));for(let l=o>0?o+1:0;l<t;){const c=i;for(let h=1,u=un;;u+=un){l>=t&&Vn("invalid-input");const f=nte(n.charCodeAt(l++));f>=un&&Vn("invalid-input"),f>fn((es-i)/h)&&Vn("overflow"),i+=f*h;const d=u<=r?vu:u>=r+cr?cr:u-r;if(f<d)break;const p=un-d;h>fn(es/p)&&Vn("overflow"),h*=p}const a=e.length+1;r=B0(i-c,a,c==0),fn(i/a)>es-s&&Vn("overflow"),s+=fn(i/a),i%=a,e.splice(i++,0,s)}return String.fromCodePoint(...e)},wu=function(n){const e=[];n=xu(n);const t=n.length;let i=R0,s=0,r=T0;for(const c of n)c<128&&e.push(na(c));const o=e.length;let l=o;for(o&&e.push(O0);l<t;){let c=es;for(const h of n)h>=i&&h<c&&(c=h);const a=l+1;c-i>fn((es-s)/a)&&Vn("overflow"),s+=(c-i)*a,i=c;for(const h of n)if(h<i&&++s>es&&Vn("overflow"),h===i){let u=s;for(let f=un;;f+=un){const d=f<=r?vu:f>=r+cr?cr:f-r;if(u<d)break;const p=u-d,m=un-d;e.push(na(hp(d+p%m,0))),u=fn(p/m)}e.push(na(hp(u,0))),r=B0(s,a,l===o),s=0,++l}++s,++i}return e.join("")},I0=function(n){return P0(n,function(e){return Xee.test(e)?ku(e.slice(4).toLowerCase()):e})},F0=function(n){return P0(n,function(e){return Zee.test(e)?"xn--"+wu(e):e})},ite={version:"2.3.1",ucs2:{decode:xu,encode:L0},decode:ku,encode:wu,toASCII:F0,toUnicode:I0},ste=Object.freeze(Object.defineProperty({__proto__:null,decode:ku,default:ite,encode:wu,toASCII:F0,toUnicode:I0,ucs2decode:xu,ucs2encode:L0},Symbol.toStringTag,{value:"Module"})),rte=Lw(ste);var ia,up;function ote(){return up||(up=1,ia={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}),ia}var sa,fp;function lte(){return fp||(fp=1,sa={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}}),sa}var ra,dp;function cte(){return dp||(dp=1,ra={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}),ra}var oa,pp;function ate(){if(pp)return oa;pp=1;var n=ke(),e=cee(),t=aee(),i=bee(),s=Oee(),r=Uee(),o=Gee(),l=A0(),c=rte,a={default:ote(),zero:lte(),commonmark:cte()},h=/^(vbscript|javascript|file|data):/,u=/^data:image\/(gif|png|jpeg|webp);/;function f(g){var x=g.trim().toLowerCase();return h.test(x)?!!u.test(x):!0}var d=["http:","https:","mailto:"];function p(g){var x=l.parse(g,!0);if(x.hostname&&(!x.protocol||d.indexOf(x.protocol)>=0))try{x.hostname=c.toASCII(x.hostname)}catch{}return l.encode(l.format(x))}function m(g){var x=l.parse(g,!0);if(x.hostname&&(!x.protocol||d.indexOf(x.protocol)>=0))try{x.hostname=c.toUnicode(x.hostname)}catch{}return l.decode(l.format(x),l.decode.defaultChars+"%")}function b(g,x){if(!(this instanceof b))return new b(g,x);x||n.isString(g)||(x=g||{},g="default"),this.inline=new r,this.block=new s,this.core=new i,this.renderer=new t,this.linkify=new o,this.validateLink=f,this.normalizeLink=p,this.normalizeLinkText=m,this.utils=n,this.helpers=n.assign({},e),this.options={},this.configure(g),x&&this.set(x)}return b.prototype.set=function(g){return n.assign(this.options,g),this},b.prototype.configure=function(g){var x=this,y;if(n.isString(g)&&(y=g,g=a[y],!g))throw new Error('Wrong `markdown-it` preset "'+y+'", check name');if(!g)throw new Error("Wrong `markdown-it` preset, can't be empty");return g.options&&x.set(g.options),g.components&&Object.keys(g.components).forEach(function(v){g.components[v].rules&&x[v].ruler.enableOnly(g.components[v].rules),g.components[v].rules2&&x[v].ruler2.enableOnly(g.components[v].rules2)}),this},b.prototype.enable=function(g,x){var y=[];Array.isArray(g)||(g=[g]),["core","block","inline"].forEach(function(k){y=y.concat(this[k].ruler.enable(g,!0))},this),y=y.concat(this.inline.ruler2.enable(g,!0));var v=g.filter(function(k){return y.indexOf(k)<0});if(v.length&&!x)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+v);return this},b.prototype.disable=function(g,x){var y=[];Array.isArray(g)||(g=[g]),["core","block","inline"].forEach(function(k){y=y.concat(this[k].ruler.disable(g,!0))},this),y=y.concat(this.inline.ruler2.disable(g,!0));var v=g.filter(function(k){return y.indexOf(k)<0});if(v.length&&!x)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+v);return this},b.prototype.use=function(g){var x=[this].concat(Array.prototype.slice.call(arguments,1));return g.apply(g,x),this},b.prototype.parse=function(g,x){if(typeof g!="string")throw new Error("Input data should be a String");var y=new this.core.State(g,this,x);return this.core.process(y),y.tokens},b.prototype.render=function(g,x){return x=x||{},this.renderer.render(this.parse(g,x),this.options,x)},b.prototype.parseInline=function(g,x){var y=new this.core.State(g,this,x);return y.inlineMode=!0,this.core.process(y),y.tokens},b.prototype.renderInline=function(g,x){return x=x||{},this.renderer.render(this.parseInline(g,x),this.options,x)},oa=b,oa}var la,mp;function hte(){return mp||(mp=1,la=ate()),la}var ute=hte();const fte=Pw(ute),dte=Ot({name:"VueMarkdown",props:{source:{type:String,required:!0},options:{type:Object,required:!1},plugins:{type:Array,required:!1}},setup(n){const e=Ye(new fte(n.options??{}));for(const i of n.plugins??[])e.value.use(i);const t=Fe(()=>e.value.render(n.source));return()=>vl("div",{innerHTML:t.value})}}),pte={class:"modal"},mte=`
## Trace syntax

A trace line syntax is:
\`\`\`
<level> <name> [<category>] // [<action>] <comment>
\`\`\`
* \`<level>\` (**mandatory**): indicate the level of this trace event.
This is 1 \`+\` for level 1, for a child of the previous trace add another \`+\` (so \`++\` for level 2).
* \`<name>\`  (**optional** but highly recommended): the name of the trace event.
Special characters (such as \`[]/\\\`) can be escaped with \`\\\`.
* \`<category>\` (**optional**): indicate in which category the trace event is linked to.
It will use the defined color for this category.
If missing, it will use the same category as the parent trace event.
* \`<action>\` (**optional**): Add an important comment for this trace event.
* \`<comment>\` (**optional**): Add a small comment for this trace event.

### Example

\`\`\`
traces:
+ generateSvgFromCode[svgGenerator] // architecture to generate the svg
++ stringToChartData[parser] // [parse trace chart code]
+++ parseCategories[parser]
+++ parseTrace[parser]
++ svgBody[svgGenerator] // [generate the svg]
+++ svgContent[components]
+++ svgLegend[components]
+++ svgTraceChart[svgGenerator] // write the trace chart code
++++ chartDataToString[parser]
+++++ categoriesStr[parser]
+++++ allTraceStr[parser]
++++++ traceStr[parser]
+++ svgStyle[components]
+++ svgDefs[svgGenerator]
\`\`\`
`,gte=`
## Parse from console

When copy-pasting text from the browser console, each line often includes the file name and line number before the actual message.

Instead of manually cleaning the text, this option will automatically **ignore the first word of each line**.

For example, this input:
\`\`\`
CodeEditor.vue:120 + onHelp()
\`\`\`
will be parsed as
\`\`\`
+ onHelp()
\`\`\`
`,yte=Ot({__name:"CodeHelp",props:{message:{}},emits:["close"],setup(n,{emit:e}){const t=n,i=e,s={html:!1,xhtmlOut:!1,breaks:!0,linkify:!1,typographer:!0,quotes:""},r=Fe(()=>{switch(t.message){case"code":return mte;case"parseFromConsole":return gte;default:return""}});function o(){i("close")}return(l,c)=>(Ie(),We(Wt,null,[ne("div",{class:"mask",onClick:o}),ne("div",pte,[ne("button",{class:"close-btn",onClick:o},"  "),Ne(Me(dte),{source:r.value,options:s},null,8,["source"])])],64))}}),bte=Pi(yte,[["__scopeId","data-v-958db052"]]);let Ja=[],N0=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?N0:Ja).push(t=t+n[e])})();function vte(n){if(n<768)return!1;for(let e=0,t=Ja.length;;){let i=e+t>>1;if(n<Ja[i])t=i;else if(n>=N0[i])e=i+1;else return!0;if(e==t)return!1}}function gp(n){return n>=127462&&n<=127487}const yp=8205;function xte(n,e,t=!0,i=!0){return(t?q0:kte)(n,e,i)}function q0(n,e,t){if(e==n.length)return e;e&&$0(n.charCodeAt(e))&&H0(n.charCodeAt(e-1))&&e--;let i=ca(n,e);for(e+=bp(i);e<n.length;){let s=ca(n,e);if(i==yp||s==yp||t&&vte(s))e+=bp(s),i=s;else if(gp(s)){let r=0,o=e-2;for(;o>=0&&gp(ca(n,o));)r++,o-=2;if(r%2==0)break;e+=2}else break}return e}function kte(n,e,t){for(;e>0;){let i=q0(n,e-2,t);if(i<e)return i;e--}return 0}function ca(n,e){let t=n.charCodeAt(e);if(!H0(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return $0(i)?(t-55296<<10)+(i-56320)+65536:t}function $0(n){return n>=56320&&n<57344}function H0(n){return n>=55296&&n<56320}function bp(n){return n<65536?1:2}class ye{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){[e,t]=hs(this,e,t);let s=[];return this.decompose(0,e,s,2),i.length&&i.decompose(0,i.length,s,3),this.decompose(t,this.length,s,1),cn.from(s,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=hs(this,e,t);let i=[];return this.decompose(e,t,i,0),cn.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),s=new Gs(this),r=new Gs(e);for(let o=t,l=t;;){if(s.next(o),r.next(o),o=0,s.lineBreak!=r.lineBreak||s.done!=r.done||s.value!=r.value)return!1;if(l+=s.value.length,s.done||l>=i)return!0}}iter(e=1){return new Gs(this,e)}iterRange(e,t=this.length){return new z0(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let s=this.line(e).from;i=this.iterRange(s,Math.max(s,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new V0(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?ye.empty:e.length<=32?new He(e):cn.from(He.split(e,[]))}}class He extends ye{constructor(e,t=wte(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,s){for(let r=0;;r++){let o=this.text[r],l=s+o.length;if((t?i:l)>=e)return new Cte(s,l,i,o);s=l+1,i++}}decompose(e,t,i,s){let r=e<=0&&t>=this.length?this:new He(vp(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(s&1){let o=i.pop(),l=go(r.text,o.text.slice(),0,r.length);if(l.length<=32)i.push(new He(l,o.length+r.length));else{let c=l.length>>1;i.push(new He(l.slice(0,c)),new He(l.slice(c)))}}else i.push(r)}replace(e,t,i){if(!(i instanceof He))return super.replace(e,t,i);[e,t]=hs(this,e,t);let s=go(this.text,go(i.text,vp(this.text,0,e)),t),r=this.length+i.length-(t-e);return s.length<=32?new He(s,r):cn.from(He.split(s,[]),r)}sliceString(e,t=this.length,i=`
`){[e,t]=hs(this,e,t);let s="";for(let r=0,o=0;r<=t&&o<this.text.length;o++){let l=this.text[o],c=r+l.length;r>e&&o&&(s+=i),e<c&&t>r&&(s+=l.slice(Math.max(0,e-r),t-r)),r=c+1}return s}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],s=-1;for(let r of e)i.push(r),s+=r.length+1,i.length==32&&(t.push(new He(i,s)),i=[],s=-1);return s>-1&&t.push(new He(i,s)),t}}class cn extends ye{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,s){for(let r=0;;r++){let o=this.children[r],l=s+o.length,c=i+o.lines-1;if((t?c:l)>=e)return o.lineInner(e,t,i,s);s=l+1,i=c+1}}decompose(e,t,i,s){for(let r=0,o=0;o<=t&&r<this.children.length;r++){let l=this.children[r],c=o+l.length;if(e<=c&&t>=o){let a=s&((o<=e?1:0)|(c>=t?2:0));o>=e&&c<=t&&!a?i.push(l):l.decompose(e-o,t-o,i,a)}o=c+1}}replace(e,t,i){if([e,t]=hs(this,e,t),i.lines<this.lines)for(let s=0,r=0;s<this.children.length;s++){let o=this.children[s],l=r+o.length;if(e>=r&&t<=l){let c=o.replace(e-r,t-r,i),a=this.lines-o.lines+c.lines;if(c.lines<a>>4&&c.lines>a>>6){let h=this.children.slice();return h[s]=c,new cn(h,this.length-(t-e)+i.length)}return super.replace(r,l,c)}r=l+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){[e,t]=hs(this,e,t);let s="";for(let r=0,o=0;r<this.children.length&&o<=t;r++){let l=this.children[r],c=o+l.length;o>e&&r&&(s+=i),e<c&&t>o&&(s+=l.sliceString(e-o,t-o,i)),o=c+1}return s}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof cn))return 0;let i=0,[s,r,o,l]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;s+=t,r+=t){if(s==o||r==l)return i;let c=this.children[s],a=e.children[r];if(c!=a)return i+c.scanIdentical(a,t);i+=c.length+1}}static from(e,t=e.reduce((i,s)=>i+s.length+1,-1)){let i=0;for(let d of e)i+=d.lines;if(i<32){let d=[];for(let p of e)p.flatten(d);return new He(d,t)}let s=Math.max(32,i>>5),r=s<<1,o=s>>1,l=[],c=0,a=-1,h=[];function u(d){let p;if(d.lines>r&&d instanceof cn)for(let m of d.children)u(m);else d.lines>o&&(c>o||!c)?(f(),l.push(d)):d instanceof He&&c&&(p=h[h.length-1])instanceof He&&d.lines+p.lines<=32?(c+=d.lines,a+=d.length+1,h[h.length-1]=new He(p.text.concat(d.text),p.length+1+d.length)):(c+d.lines>s&&f(),c+=d.lines,a+=d.length+1,h.push(d))}function f(){c!=0&&(l.push(h.length==1?h[0]:cn.from(h,a)),a=-1,c=h.length=0)}for(let d of e)u(d);return f(),l.length==1?l[0]:new cn(l,t)}}ye.empty=new He([""],0);function wte(n){let e=-1;for(let t of n)e+=t.length+1;return e}function go(n,e,t=0,i=1e9){for(let s=0,r=0,o=!0;r<n.length&&s<=i;r++){let l=n[r],c=s+l.length;c>=t&&(c>i&&(l=l.slice(0,i-s)),s<t&&(l=l.slice(t-s)),o?(e[e.length-1]+=l,o=!1):e.push(l)),s=c+1}return e}function vp(n,e,t){return go(n,[""],e,t)}class Gs{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof He?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,s=this.nodes[i],r=this.offsets[i],o=r>>1,l=s instanceof He?s.text.length:s.children.length;if(o==(t>0?l:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((r&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(s instanceof He){let c=s.text[o+(t<0?-1:0)];if(this.offsets[i]+=t,c.length>Math.max(0,e))return this.value=e==0?c:t>0?c.slice(e):c.slice(0,c.length-e),this;e-=c.length}else{let c=s.children[o+(t<0?-1:0)];e>c.length?(e-=c.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(c),this.offsets.push(t>0?1:(c instanceof He?c.text.length:c.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class z0{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new Gs(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:s}=this.cursor.next(e);return this.pos+=(s.length+e)*t,this.value=s.length<=i?s:t<0?s.slice(s.length-i):s.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class V0{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:s}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=s,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(ye.prototype[Symbol.iterator]=function(){return this.iter()},Gs.prototype[Symbol.iterator]=z0.prototype[Symbol.iterator]=V0.prototype[Symbol.iterator]=function(){return this});class Cte{constructor(e,t,i,s){this.from=e,this.to=t,this.number=i,this.text=s}get length(){return this.to-this.from}}function hs(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function tt(n,e,t=!0,i=!0){return xte(n,e,t,i)}function Ste(n){return n>=56320&&n<57344}function Ate(n){return n>=55296&&n<56320}function xt(n,e){let t=n.charCodeAt(e);if(!Ate(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return Ste(i)?(t-55296<<10)+(i-56320)+65536:t}function Cu(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function an(n){return n<65536?1:2}const Xa=/\r\n?|\n/;var dt=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(dt||(dt={}));class bn{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,s=0;t<this.sections.length;){let r=this.sections[t++],o=this.sections[t++];o<0?(e(i,s,r),s+=r):s+=o,i+=r}}iterChangedRanges(e,t=!1){Za(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],s=this.sections[t++];s<0?e.push(i,s):e.push(s,i)}return new bn(e)}composeDesc(e){return this.empty?e:e.empty?this:W0(this,e)}mapDesc(e,t=!1){return e.empty?this:Qa(this,e,t)}mapPos(e,t=-1,i=dt.Simple){let s=0,r=0;for(let o=0;o<this.sections.length;){let l=this.sections[o++],c=this.sections[o++],a=s+l;if(c<0){if(a>e)return r+(e-s);r+=l}else{if(i!=dt.Simple&&a>=e&&(i==dt.TrackDel&&s<e&&a>e||i==dt.TrackBefore&&s<e||i==dt.TrackAfter&&a>e))return null;if(a>e||a==e&&t<0&&!l)return e==s||t<0?r:r+c;r+=c}s=a}if(e>s)throw new RangeError(`Position ${e} is out of range for changeset of length ${s}`);return r}touchesRange(e,t=e){for(let i=0,s=0;i<this.sections.length&&s<=t;){let r=this.sections[i++],o=this.sections[i++],l=s+r;if(o>=0&&s<=t&&l>=e)return s<e&&l>t?"cover":!0;s=l}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],s=this.sections[t++];e+=(e?" ":"")+i+(s>=0?":"+s:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new bn(e)}static create(e){return new bn(e)}}class je extends bn{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Za(this,(t,i,s,r,o)=>e=e.replace(s,s+(i-t),o),!1),e}mapDesc(e,t=!1){return Qa(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let s=0,r=0;s<t.length;s+=2){let o=t[s],l=t[s+1];if(l>=0){t[s]=l,t[s+1]=o;let c=s>>1;for(;i.length<c;)i.push(ye.empty);i.push(o?e.slice(r,r+o):ye.empty)}r+=o}return new je(t,i)}compose(e){return this.empty?e:e.empty?this:W0(this,e,!0)}map(e,t=!1){return e.empty?this:Qa(this,e,t,!0)}iterChanges(e,t=!1){Za(this,e,t)}get desc(){return bn.create(this.sections)}filter(e){let t=[],i=[],s=[],r=new ar(this);e:for(let o=0,l=0;;){let c=o==e.length?1e9:e[o++];for(;l<c||l==c&&r.len==0;){if(r.done)break e;let h=Math.min(r.len,c-l);nt(s,h,-1);let u=r.ins==-1?-1:r.off==0?r.ins:0;nt(t,h,u),u>0&&Kn(i,t,r.text),r.forward(h),l+=h}let a=e[o++];for(;l<a;){if(r.done)break e;let h=Math.min(r.len,a-l);nt(t,h,-1),nt(s,h,r.ins==-1?-1:r.off==0?r.ins:0),r.forward(h),l+=h}}return{changes:new je(t,i),filtered:bn.create(s)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],s=this.sections[t+1];s<0?e.push(i):s==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let s=[],r=[],o=0,l=null;function c(h=!1){if(!h&&!s.length)return;o<t&&nt(s,t-o,-1);let u=new je(s,r);l=l?l.compose(u.map(l)):u,s=[],r=[],o=0}function a(h){if(Array.isArray(h))for(let u of h)a(u);else if(h instanceof je){if(h.length!=t)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${t})`);c(),l=l?l.compose(h.map(l)):h}else{let{from:u,to:f=u,insert:d}=h;if(u>f||u<0||f>t)throw new RangeError(`Invalid change range ${u} to ${f} (in doc of length ${t})`);let p=d?typeof d=="string"?ye.of(d.split(i||Xa)):d:ye.empty,m=p.length;if(u==f&&m==0)return;u<o&&c(),u>o&&nt(s,u-o,-1),nt(s,f-u,m),Kn(r,s,p),o=f}}return a(e),c(!l),l}static empty(e){return new je(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let s=0;s<e.length;s++){let r=e[s];if(typeof r=="number")t.push(r,-1);else{if(!Array.isArray(r)||typeof r[0]!="number"||r.some((o,l)=>l&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(r.length==1)t.push(r[0],0);else{for(;i.length<s;)i.push(ye.empty);i[s]=ye.of(r.slice(1)),t.push(r[0],i[s].length)}}}return new je(t,i)}static createSet(e,t){return new je(e,t)}}function nt(n,e,t,i=!1){if(e==0&&t<=0)return;let s=n.length-2;s>=0&&t<=0&&t==n[s+1]?n[s]+=e:s>=0&&e==0&&n[s]==0?n[s+1]+=t:i?(n[s]+=e,n[s+1]+=t):n.push(e,t)}function Kn(n,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<i;)n.push(ye.empty);n.push(t)}}function Za(n,e,t){let i=n.inserted;for(let s=0,r=0,o=0;o<n.sections.length;){let l=n.sections[o++],c=n.sections[o++];if(c<0)s+=l,r+=l;else{let a=s,h=r,u=ye.empty;for(;a+=l,h+=c,c&&i&&(u=u.append(i[o-2>>1])),!(t||o==n.sections.length||n.sections[o+1]<0);)l=n.sections[o++],c=n.sections[o++];e(s,a,r,h,u),s=a,r=h}}}function Qa(n,e,t,i=!1){let s=[],r=i?[]:null,o=new ar(n),l=new ar(e);for(let c=-1;;){if(o.done&&l.len||l.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&l.ins==-1){let a=Math.min(o.len,l.len);nt(s,a,-1),o.forward(a),l.forward(a)}else if(l.ins>=0&&(o.ins<0||c==o.i||o.off==0&&(l.len<o.len||l.len==o.len&&!t))){let a=l.len;for(nt(s,l.ins,-1);a;){let h=Math.min(o.len,a);o.ins>=0&&c<o.i&&o.len<=h&&(nt(s,0,o.ins),r&&Kn(r,s,o.text),c=o.i),o.forward(h),a-=h}l.next()}else if(o.ins>=0){let a=0,h=o.len;for(;h;)if(l.ins==-1){let u=Math.min(h,l.len);a+=u,h-=u,l.forward(u)}else if(l.ins==0&&l.len<h)h-=l.len,l.next();else break;nt(s,a,c<o.i?o.ins:0),r&&c<o.i&&Kn(r,s,o.text),c=o.i,o.forward(o.len-h)}else{if(o.done&&l.done)return r?je.createSet(s,r):bn.create(s);throw new Error("Mismatched change set lengths")}}}function W0(n,e,t=!1){let i=[],s=t?[]:null,r=new ar(n),o=new ar(e);for(let l=!1;;){if(r.done&&o.done)return s?je.createSet(i,s):bn.create(i);if(r.ins==0)nt(i,r.len,0,l),r.next();else if(o.len==0&&!o.done)nt(i,0,o.ins,l),s&&Kn(s,i,o.text),o.next();else{if(r.done||o.done)throw new Error("Mismatched change set lengths");{let c=Math.min(r.len2,o.len),a=i.length;if(r.ins==-1){let h=o.ins==-1?-1:o.off?0:o.ins;nt(i,c,h,l),s&&h&&Kn(s,i,o.text)}else o.ins==-1?(nt(i,r.off?0:r.len,c,l),s&&Kn(s,i,r.textBit(c))):(nt(i,r.off?0:r.len,o.off?0:o.ins,l),s&&!o.off&&Kn(s,i,o.text));l=(r.ins>c||o.ins>=0&&o.len>c)&&(l||i.length>a),r.forward2(c),o.forward(c)}}}}class ar{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?ye.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?ye.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class vi{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let i,s;return this.empty?i=s=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),s=e.mapPos(this.to,-1)),i==this.from&&s==this.to?this:new vi(i,s,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return P.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return P.range(this.anchor,i)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return P.range(e.anchor,e.head)}static create(e,t,i){return new vi(e,t,i)}}class P{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:P.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(e.ranges[i],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new P([this.main],0)}addRange(e,t=!0){return P.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,P.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new P(e.ranges.map(t=>vi.fromJSON(t)),e.main)}static single(e,t=e){return new P([P.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,s=0;s<e.length;s++){let r=e[s];if(r.empty?r.from<=i:r.from<i)return P.normalized(e.slice(),t);i=r.to}return new P(e,t)}static cursor(e,t=0,i,s){return vi.create(e,e,(t==0?0:t<0?8:16)|(i==null?7:Math.min(6,i))|(s??16777215)<<6)}static range(e,t,i,s){let r=(i??16777215)<<6|(s==null?7:Math.min(6,s));return t<e?vi.create(t,e,48|r):vi.create(e,t,(t>e?8:0)|r)}static normalized(e,t=0){let i=e[t];e.sort((s,r)=>s.from-r.from),t=e.indexOf(i);for(let s=1;s<e.length;s++){let r=e[s],o=e[s-1];if(r.empty?r.from<=o.to:r.from<o.to){let l=o.from,c=Math.max(r.to,o.to);s<=t&&t--,e.splice(--s,2,r.anchor>r.head?P.range(c,l):P.range(l,c))}}return new P(e,t)}}function j0(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let Su=0;class X{constructor(e,t,i,s,r){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=s,this.id=Su++,this.default=e([]),this.extensions=typeof r=="function"?r(this):r}get reader(){return this}static define(e={}){return new X(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:Au),!!e.static,e.enables)}of(e){return new yo([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new yo(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new yo(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function Au(n,e){return n==e||n.length==e.length&&n.every((t,i)=>t===e[i])}class yo{constructor(e,t,i,s){this.dependencies=e,this.facet=t,this.type=i,this.value=s,this.id=Su++}dynamicSlot(e){var t;let i=this.value,s=this.facet.compareInput,r=this.id,o=e[r]>>1,l=this.type==2,c=!1,a=!1,h=[];for(let u of this.dependencies)u=="doc"?c=!0:u=="selection"?a=!0:(((t=e[u.id])!==null&&t!==void 0?t:1)&1)==0&&h.push(e[u.id]);return{create(u){return u.values[o]=i(u),1},update(u,f){if(c&&f.docChanged||a&&(f.docChanged||f.selection)||eh(u,h)){let d=i(u);if(l?!xp(d,u.values[o],s):!s(d,u.values[o]))return u.values[o]=d,1}return 0},reconfigure:(u,f)=>{let d,p=f.config.address[r];if(p!=null){let m=qo(f,p);if(this.dependencies.every(b=>b instanceof X?f.facet(b)===u.facet(b):b instanceof Ke?f.field(b,!1)==u.field(b,!1):!0)||(l?xp(d=i(u),m,s):s(d=i(u),m)))return u.values[o]=m,0}else d=i(u);return u.values[o]=d,1}}}}function xp(n,e,t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!1;return!0}function eh(n,e){let t=!1;for(let i of e)Ys(n,i)&1&&(t=!0);return t}function _te(n,e,t){let i=t.map(c=>n[c.id]),s=t.map(c=>c.type),r=i.filter(c=>!(c&1)),o=n[e.id]>>1;function l(c){let a=[];for(let h=0;h<i.length;h++){let u=qo(c,i[h]);if(s[h]==2)for(let f of u)a.push(f);else a.push(u)}return e.combine(a)}return{create(c){for(let a of i)Ys(c,a);return c.values[o]=l(c),1},update(c,a){if(!eh(c,r))return 0;let h=l(c);return e.compare(h,c.values[o])?0:(c.values[o]=h,1)},reconfigure(c,a){let h=eh(c,i),u=a.config.facets[e.id],f=a.facet(e);if(u&&!h&&Au(t,u))return c.values[o]=f,0;let d=l(c);return e.compare(d,f)?(c.values[o]=f,0):(c.values[o]=d,1)}}}const Hr=X.define({static:!0});class Ke{constructor(e,t,i,s,r){this.id=e,this.createF=t,this.updateF=i,this.compareF=s,this.spec=r,this.provides=void 0}static define(e){let t=new Ke(Su++,e.create,e.update,e.compare||((i,s)=>i===s),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Hr).find(i=>i.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,s)=>{let r=i.values[t],o=this.updateF(r,s);return this.compareF(r,o)?0:(i.values[t]=o,1)},reconfigure:(i,s)=>{let r=i.facet(Hr),o=s.facet(Hr),l;return(l=r.find(c=>c.field==this))&&l!=o.find(c=>c.field==this)?(i.values[t]=l.create(i),1):s.config.address[this.id]!=null?(i.values[t]=s.field(this),0):(i.values[t]=this.create(i),1)}}}init(e){return[this,Hr.of({field:this,create:e})]}get extension(){return this}}const yi={lowest:4,low:3,default:2,high:1,highest:0};function Ms(n){return e=>new U0(e,n)}const Li={highest:Ms(yi.highest),high:Ms(yi.high),default:Ms(yi.default),low:Ms(yi.low),lowest:Ms(yi.lowest)};class U0{constructor(e,t){this.inner=e,this.prec=t}}class us{of(e){return new th(this,e)}reconfigure(e){return us.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class th{constructor(e,t){this.compartment=e,this.inner=t}}class No{constructor(e,t,i,s,r,o){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=s,this.staticValues=r,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let s=[],r=Object.create(null),o=new Map;for(let f of Ete(e,t,o))f instanceof Ke?s.push(f):(r[f.facet.id]||(r[f.facet.id]=[])).push(f);let l=Object.create(null),c=[],a=[];for(let f of s)l[f.id]=a.length<<1,a.push(d=>f.slot(d));let h=i==null?void 0:i.config.facets;for(let f in r){let d=r[f],p=d[0].facet,m=h&&h[f]||[];if(d.every(b=>b.type==0))if(l[p.id]=c.length<<1|1,Au(m,d))c.push(i.facet(p));else{let b=p.combine(d.map(g=>g.value));c.push(i&&p.compare(b,i.facet(p))?i.facet(p):b)}else{for(let b of d)b.type==0?(l[b.id]=c.length<<1|1,c.push(b.value)):(l[b.id]=a.length<<1,a.push(g=>b.dynamicSlot(g)));l[p.id]=a.length<<1,a.push(b=>_te(b,p,d))}}let u=a.map(f=>f(l));return new No(e,o,u,l,c,r)}}function Ete(n,e,t){let i=[[],[],[],[],[]],s=new Map;function r(o,l){let c=s.get(o);if(c!=null){if(c<=l)return;let a=i[c].indexOf(o);a>-1&&i[c].splice(a,1),o instanceof th&&t.delete(o.compartment)}if(s.set(o,l),Array.isArray(o))for(let a of o)r(a,l);else if(o instanceof th){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let a=e.get(o.compartment)||o.inner;t.set(o.compartment,a),r(a,l)}else if(o instanceof U0)r(o.inner,o.prec);else if(o instanceof Ke)i[l].push(o),o.provides&&r(o.provides,l);else if(o instanceof yo)i[l].push(o),o.facet.extensions&&r(o.facet.extensions,yi.default);else{let a=o.extension;if(!a)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);r(a,l)}}return r(n,yi.default),i.reduce((o,l)=>o.concat(l))}function Ys(n,e){if(e&1)return 2;let t=e>>1,i=n.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;n.status[t]=4;let s=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|s}function qo(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const K0=X.define(),nh=X.define({combine:n=>n.some(e=>e),static:!0}),G0=X.define({combine:n=>n.length?n[0]:void 0,static:!0}),Y0=X.define(),J0=X.define(),X0=X.define(),Z0=X.define({combine:n=>n.length?n[0]:!1});class Fn{constructor(e,t){this.type=e,this.value=t}static define(){return new Mte}}class Mte{of(e){return new Fn(this,e)}}class Dte{constructor(e){this.map=e}of(e){return new he(this,e)}}class he{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new he(this.type,t)}is(e){return this.type==e}static define(e={}){return new Dte(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let s of e){let r=s.map(t);r&&i.push(r)}return i}}he.reconfigure=he.define();he.appendConfig=he.define();class Ue{constructor(e,t,i,s,r,o){this.startState=e,this.changes=t,this.selection=i,this.effects=s,this.annotations=r,this.scrollIntoView=o,this._doc=null,this._state=null,i&&j0(i,t.newLength),r.some(l=>l.type==Ue.time)||(this.annotations=r.concat(Ue.time.of(Date.now())))}static create(e,t,i,s,r,o){return new Ue(e,t,i,s,r,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Ue.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Ue.time=Fn.define();Ue.userEvent=Fn.define();Ue.addToHistory=Fn.define();Ue.remote=Fn.define();function Tte(n,e){let t=[];for(let i=0,s=0;;){let r,o;if(i<n.length&&(s==e.length||e[s]>=n[i]))r=n[i++],o=n[i++];else if(s<e.length)r=e[s++],o=e[s++];else return t;!t.length||t[t.length-1]<r?t.push(r,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function Q0(n,e,t){var i;let s,r,o;return t?(s=e.changes,r=je.empty(e.changes.length),o=n.changes.compose(e.changes)):(s=e.changes.map(n.changes),r=n.changes.mapDesc(e.changes,!0),o=n.changes.compose(s)),{changes:o,selection:e.selection?e.selection.map(r):(i=n.selection)===null||i===void 0?void 0:i.map(s),effects:he.mapEffects(n.effects,s).concat(he.mapEffects(e.effects,r)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function ih(n,e,t){let i=e.selection,s=ts(e.annotations);return e.userEvent&&(s=s.concat(Ue.userEvent.of(e.userEvent))),{changes:e.changes instanceof je?e.changes:je.of(e.changes||[],t,n.facet(G0)),selection:i&&(i instanceof P?i:P.single(i.anchor,i.head)),effects:ts(e.effects),annotations:s,scrollIntoView:!!e.scrollIntoView}}function ey(n,e,t){let i=ih(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let r=1;r<e.length;r++){e[r].filter===!1&&(t=!1);let o=!!e[r].sequential;i=Q0(i,ih(n,e[r],o?i.changes.newLength:n.doc.length),o)}let s=Ue.create(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return Ote(t?Rte(s):s)}function Rte(n){let e=n.startState,t=!0;for(let s of e.facet(Y0)){let r=s(n);if(r===!1){t=!1;break}Array.isArray(r)&&(t=t===!0?r:Tte(t,r))}if(t!==!0){let s,r;if(t===!1)r=n.changes.invertedDesc,s=je.empty(e.doc.length);else{let o=n.changes.filter(t);s=o.changes,r=o.filtered.mapDesc(o.changes).invertedDesc}n=Ue.create(e,s,n.selection&&n.selection.map(r),he.mapEffects(n.effects,r),n.annotations,n.scrollIntoView)}let i=e.facet(J0);for(let s=i.length-1;s>=0;s--){let r=i[s](n);r instanceof Ue?n=r:Array.isArray(r)&&r.length==1&&r[0]instanceof Ue?n=r[0]:n=ey(e,ts(r),!1)}return n}function Ote(n){let e=n.startState,t=e.facet(X0),i=n;for(let s=t.length-1;s>=0;s--){let r=t[s](n);r&&Object.keys(r).length&&(i=Q0(i,ih(e,r,n.changes.newLength),!0))}return i==n?n:Ue.create(e,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}const Pte=[];function ts(n){return n==null?Pte:Array.isArray(n)?n:[n]}var Le=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(Le||(Le={}));const Lte=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let sh;try{sh=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Bte(n){if(sh)return sh.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Lte.test(t)))return!0}return!1}function Ite(n){return e=>{if(!/\S/.test(e))return Le.Space;if(Bte(e))return Le.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return Le.Word;return Le.Other}}class fe{constructor(e,t,i,s,r,o){this.config=e,this.doc=t,this.selection=i,this.values=s,this.status=e.statusTemplate.slice(),this.computeSlot=r,o&&(o._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)Ys(this,l<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return Ys(this,i),qo(this,i)}update(...e){return ey(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:s}=t;for(let l of e.effects)l.is(us.reconfigure)?(t&&(s=new Map,t.compartments.forEach((c,a)=>s.set(a,c)),t=null),s.set(l.value.compartment,l.value.extension)):l.is(he.reconfigure)?(t=null,i=l.value):l.is(he.appendConfig)&&(t=null,i=ts(i).concat(l.value));let r;t?r=e.startState.values.slice():(t=No.resolve(i,s,this),r=new fe(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(c,a)=>a.reconfigure(c,this),null).values);let o=e.startState.facet(nh)?e.newSelection:e.newSelection.asSingle();new fe(t,e.newDoc,o,r,(l,c)=>c.update(l,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:P.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),s=this.changes(i.changes),r=[i.range],o=ts(i.effects);for(let l=1;l<t.ranges.length;l++){let c=e(t.ranges[l]),a=this.changes(c.changes),h=a.map(s);for(let f=0;f<l;f++)r[f]=r[f].map(h);let u=s.mapDesc(a,!0);r.push(c.range.map(u)),s=s.compose(h),o=he.mapEffects(o,h).concat(he.mapEffects(ts(c.effects),u))}return{changes:s,selection:P.create(r,t.mainIndex),effects:o}}changes(e=[]){return e instanceof je?e:je.of(e,this.doc.length,this.facet(fe.lineSeparator))}toText(e){return ye.of(e.split(this.facet(fe.lineSeparator)||Xa))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Ys(this,t),qo(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let s=e[i];s instanceof Ke&&this.config.address[s.id]!=null&&(t[i]=s.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(i){for(let r in i)if(Object.prototype.hasOwnProperty.call(e,r)){let o=i[r],l=e[r];s.push(o.init(c=>o.spec.fromJSON(l,c)))}}return fe.create({doc:e.doc,selection:P.fromJSON(e.selection),extensions:t.extensions?s.concat([t.extensions]):s})}static create(e={}){let t=No.resolve(e.extensions||[],new Map),i=e.doc instanceof ye?e.doc:ye.of((e.doc||"").split(t.staticFacet(fe.lineSeparator)||Xa)),s=e.selection?e.selection instanceof P?e.selection:P.single(e.selection.anchor,e.selection.head):P.single(0);return j0(s,i.length),t.staticFacet(nh)||(s=s.asSingle()),new fe(t,i,s,t.dynamicSlots.map(()=>null),(r,o)=>o.create(r),null)}get tabSize(){return this.facet(fe.tabSize)}get lineBreak(){return this.facet(fe.lineSeparator)||`
`}get readOnly(){return this.facet(Z0)}phrase(e,...t){for(let i of this.facet(fe.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,s)=>{if(s=="$")return"$";let r=+(s||1);return!r||r>t.length?i:t[r-1]})),e}languageDataAt(e,t,i=-1){let s=[];for(let r of this.facet(K0))for(let o of r(this,t,i))Object.prototype.hasOwnProperty.call(o,e)&&s.push(o[e]);return s}charCategorizer(e){return Ite(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:s}=this.doc.lineAt(e),r=this.charCategorizer(e),o=e-i,l=e-i;for(;o>0;){let c=tt(t,o,!1);if(r(t.slice(c,o))!=Le.Word)break;o=c}for(;l<s;){let c=tt(t,l);if(r(t.slice(l,c))!=Le.Word)break;l=c}return o==l?null:P.range(o+i,l+i)}}fe.allowMultipleSelections=nh;fe.tabSize=X.define({combine:n=>n.length?n[0]:4});fe.lineSeparator=G0;fe.readOnly=Z0;fe.phrases=X.define({compare(n,e){let t=Object.keys(n),i=Object.keys(e);return t.length==i.length&&t.every(s=>n[s]==e[s])}});fe.languageData=K0;fe.changeFilter=Y0;fe.transactionFilter=J0;fe.transactionExtender=X0;us.reconfigure=he.define();function Yt(n,e,t={}){let i={};for(let s of n)for(let r of Object.keys(s)){let o=s[r],l=i[r];if(l===void 0)i[r]=o;else if(!(l===o||o===void 0))if(Object.hasOwnProperty.call(t,r))i[r]=t[r](l,o);else throw new Error("Config merge conflict for field "+r)}for(let s in e)i[s]===void 0&&(i[s]=e[s]);return i}class Ei{eq(e){return this==e}range(e,t=e){return rh.create(e,t,this)}}Ei.prototype.startSide=Ei.prototype.endSide=0;Ei.prototype.point=!1;Ei.prototype.mapMode=dt.TrackDel;let rh=class ty{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new ty(e,t,i)}};function oh(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class _u{constructor(e,t,i,s){this.from=e,this.to=t,this.value=i,this.maxPoint=s}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,s=0){let r=i?this.to:this.from;for(let o=s,l=r.length;;){if(o==l)return o;let c=o+l>>1,a=r[c]-e||(i?this.value[c].endSide:this.value[c].startSide)-t;if(c==o)return a>=0?o:l;a>=0?l=c:o=c+1}}between(e,t,i,s){for(let r=this.findIndex(t,-1e9,!0),o=this.findIndex(i,1e9,!1,r);r<o;r++)if(s(this.from[r]+e,this.to[r]+e,this.value[r])===!1)return!1}map(e,t){let i=[],s=[],r=[],o=-1,l=-1;for(let c=0;c<this.value.length;c++){let a=this.value[c],h=this.from[c]+e,u=this.to[c]+e,f,d;if(h==u){let p=t.mapPos(h,a.startSide,a.mapMode);if(p==null||(f=d=p,a.startSide!=a.endSide&&(d=t.mapPos(h,a.endSide),d<f)))continue}else if(f=t.mapPos(h,a.startSide),d=t.mapPos(u,a.endSide),f>d||f==d&&a.startSide>0&&a.endSide<=0)continue;(d-f||a.endSide-a.startSide)<0||(o<0&&(o=f),a.point&&(l=Math.max(l,d-f)),i.push(a),s.push(f-o),r.push(d-o))}return{mapped:i.length?new _u(s,r,i,l):null,pos:o}}}class de{constructor(e,t,i,s){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=s}static create(e,t,i,s){return new de(e,t,i,s)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:s=0,filterTo:r=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(i&&(t=t.slice().sort(oh)),this.isEmpty)return t.length?de.of(t):this;let l=new ny(this,null,-1).goto(0),c=0,a=[],h=new Ln;for(;l.value||c<t.length;)if(c<t.length&&(l.from-t[c].from||l.startSide-t[c].value.startSide)>=0){let u=t[c++];h.addInner(u.from,u.to,u.value)||a.push(u)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(c==t.length||this.chunkEnd(l.chunkIndex)<t[c].from)&&(!o||s>this.chunkEnd(l.chunkIndex)||r<this.chunkPos[l.chunkIndex])&&h.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!o||s>l.to||r<l.from||o(l.from,l.to,l.value))&&(h.addInner(l.from,l.to,l.value)||a.push(rh.create(l.from,l.to,l.value))),l.next());return h.finishInner(this.nextLayer.isEmpty&&!a.length?de.empty:this.nextLayer.update({add:a,filter:o,filterFrom:s,filterTo:r}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],s=-1;for(let o=0;o<this.chunk.length;o++){let l=this.chunkPos[o],c=this.chunk[o],a=e.touchesRange(l,l+c.length);if(a===!1)s=Math.max(s,c.maxPoint),t.push(c),i.push(e.mapPos(l));else if(a===!0){let{mapped:h,pos:u}=c.map(l,e);h&&(s=Math.max(s,h.maxPoint),t.push(h),i.push(u))}}let r=this.nextLayer.map(e);return t.length==0?r:new de(i,t,r||de.empty,s)}between(e,t,i){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let r=this.chunkPos[s],o=this.chunk[s];if(t>=r&&e<=r+o.length&&o.between(r,e-r,t-r,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return hr.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return hr.from(e).goto(t)}static compare(e,t,i,s,r=-1){let o=e.filter(u=>u.maxPoint>0||!u.isEmpty&&u.maxPoint>=r),l=t.filter(u=>u.maxPoint>0||!u.isEmpty&&u.maxPoint>=r),c=kp(o,l,i),a=new Ds(o,c,r),h=new Ds(l,c,r);i.iterGaps((u,f,d)=>wp(a,u,h,f,d,s)),i.empty&&i.length==0&&wp(a,0,h,0,0,s)}static eq(e,t,i=0,s){s==null&&(s=999999999);let r=e.filter(h=>!h.isEmpty&&t.indexOf(h)<0),o=t.filter(h=>!h.isEmpty&&e.indexOf(h)<0);if(r.length!=o.length)return!1;if(!r.length)return!0;let l=kp(r,o),c=new Ds(r,l,0).goto(i),a=new Ds(o,l,0).goto(i);for(;;){if(c.to!=a.to||!lh(c.active,a.active)||c.point&&(!a.point||!c.point.eq(a.point)))return!1;if(c.to>s)return!0;c.next(),a.next()}}static spans(e,t,i,s,r=-1){let o=new Ds(e,null,r).goto(t),l=t,c=o.openStart;for(;;){let a=Math.min(o.to,i);if(o.point){let h=o.activeForPoint(o.to),u=o.pointFrom<t?h.length+1:o.point.startSide<0?h.length:Math.min(h.length,c);s.point(l,a,o.point,h,u,o.pointRank),c=Math.min(o.openEnd(a),h.length)}else a>l&&(s.span(l,a,o.active,c),c=o.openEnd(a));if(o.to>i)return c+(o.point&&o.to>i?1:0);l=o.to,o.next()}}static of(e,t=!1){let i=new Ln;for(let s of e instanceof rh?[e]:t?Fte(e):e)i.add(s.from,s.to,s.value);return i.finish()}static join(e){if(!e.length)return de.empty;let t=e[e.length-1];for(let i=e.length-2;i>=0;i--)for(let s=e[i];s!=de.empty;s=s.nextLayer)t=new de(s.chunkPos,s.chunk,t,Math.max(s.maxPoint,t.maxPoint));return t}}de.empty=new de([],[],null,-1);function Fte(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let i=n[t];if(oh(e,i)>0)return n.slice().sort(oh);e=i}return n}de.empty.nextLayer=de.empty;class Ln{finishChunk(e){this.chunks.push(new _u(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new Ln)).add(e,t,i)}addInner(e,t,i){let s=e-this.lastTo||i.startSide-this.last.endSide;if(s<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return s<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(de.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=de.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function kp(n,e,t){let i=new Map;for(let r of n)for(let o=0;o<r.chunk.length;o++)r.chunk[o].maxPoint<=0&&i.set(r.chunk[o],r.chunkPos[o]);let s=new Set;for(let r of e)for(let o=0;o<r.chunk.length;o++){let l=i.get(r.chunk[o]);l!=null&&(t?t.mapPos(l):l)==r.chunkPos[o]&&!(t!=null&&t.touchesRange(l,l+r.chunk[o].length))&&s.add(r.chunk[o])}return s}class ny{constructor(e,t,i,s=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=s}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let s=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(s)||this.layer.chunkEnd(this.chunkIndex)<e||s.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let s=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<s)&&this.setRangeIndex(s)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class hr{constructor(e){this.heap=e}static from(e,t=null,i=-1){let s=[];for(let r=0;r<e.length;r++)for(let o=e[r];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&s.push(new ny(o,t,i,r));return s.length==1?s[0]:new hr(s)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)aa(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)aa(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),aa(this.heap,0)}}}function aa(n,e){for(let t=n[e];;){let i=(e<<1)+1;if(i>=n.length)break;let s=n[i];if(i+1<n.length&&s.compare(n[i+1])>=0&&(s=n[i+1],i++),t.compare(s)<0)break;n[i]=t,n[e]=s,e=i}}class Ds{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=hr.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){zr(this.active,e),zr(this.activeTo,e),zr(this.activeRank,e),this.minActive=Cp(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:s,rank:r}=this.cursor;for(;t<this.activeRank.length&&(r-this.activeRank[t]||s-this.activeTo[t])>0;)t++;Vr(this.active,t,i),Vr(this.activeTo,t,s),Vr(this.activeRank,t,r),e&&Vr(e,t,this.cursor.from),this.minActive=Cp(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>e){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),i&&zr(i,s)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let r=this.cursor.value;if(!r.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=r,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=r.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let s=i.length-1;s>=0&&i[s]<e;s--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function wp(n,e,t,i,s,r){n.goto(e),t.goto(i);let o=i+s,l=i,c=i-e;for(;;){let a=n.to+c-t.to,h=a||n.endSide-t.endSide,u=h<0?n.to+c:t.to,f=Math.min(u,o);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&lh(n.activeForPoint(n.to),t.activeForPoint(t.to))||r.comparePoint(l,f,n.point,t.point):f>l&&!lh(n.active,t.active)&&r.compareRange(l,f,n.active,t.active),u>o)break;(a||n.openEnd!=t.openEnd)&&r.boundChange&&r.boundChange(u),l=u,h<=0&&n.next(),h>=0&&t.next()}}function lh(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function zr(n,e){for(let t=e,i=n.length-1;t<i;t++)n[t]=n[t+1];n.pop()}function Vr(n,e,t){for(let i=n.length-1;i>=e;i--)n[i+1]=n[i];n[e]=t}function Cp(n,e){let t=-1,i=1e9;for(let s=0;s<e.length;s++)(e[s]-i||n[s].endSide-n[t].endSide)<0&&(t=s,i=e[s]);return t}function xs(n,e,t=n.length){let i=0;for(let s=0;s<t&&s<n.length;)n.charCodeAt(s)==9?(i+=e-i%e,s++):(i++,s=tt(n,s));return i}function ch(n,e,t,i){for(let s=0,r=0;;){if(r>=e)return s;if(s==n.length)break;r+=n.charCodeAt(s)==9?t-r%t:1,s=tt(n,s)}return i===!0?-1:n.length}const ah="",Sp=typeof Symbol>"u"?"__"+ah:Symbol.for(ah),hh=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class si{constructor(e,t){this.rules=[];let{finish:i}=t||{};function s(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function r(o,l,c,a){let h=[],u=/^@(\w+)\b/.exec(o[0]),f=u&&u[1]=="keyframes";if(u&&l==null)return c.push(o[0]+";");for(let d in l){let p=l[d];if(/&/.test(d))r(d.split(/,\s*/).map(m=>o.map(b=>m.replace(/&/,b))).reduce((m,b)=>m.concat(b)),p,c);else if(p&&typeof p=="object"){if(!u)throw new RangeError("The value of a property ("+d+") should be a primitive value.");r(s(d),p,h,f)}else p!=null&&h.push(d.replace(/_.*/,"").replace(/[A-Z]/g,m=>"-"+m.toLowerCase())+": "+p+";")}(h.length||f)&&c.push((i&&!u&&!a?o.map(i):o).join(", ")+" {"+h.join(" ")+"}")}for(let o in e)r(s(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Ap[Sp]||1;return Ap[Sp]=e+1,ah+e.toString(36)}static mount(e,t,i){let s=e[hh],r=i&&i.nonce;s?r&&s.setNonce(r):s=new Nte(e,r),s.mount(Array.isArray(t)?t:[t],e)}}let _p=new Map;class Nte{constructor(e,t){let i=e.ownerDocument||e,s=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&s.CSSStyleSheet){let r=_p.get(i);if(r)return e[hh]=r;this.sheet=new s.CSSStyleSheet,_p.set(i,this)}else this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[hh]=this}mount(e,t){let i=this.sheet,s=0,r=0;for(let o=0;o<e.length;o++){let l=e[o],c=this.modules.indexOf(l);if(c<r&&c>-1&&(this.modules.splice(c,1),r--,c=-1),c==-1){if(this.modules.splice(r++,0,l),i)for(let a=0;a<l.rules.length;a++)i.insertRule(l.rules[a],s++)}else{for(;r<c;)s+=this.modules[r++].rules.length;s+=l.rules.length,r++}}if(i)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let o="";for(let c=0;c<this.modules.length;c++)o+=this.modules[c].getRules()+`
`;this.styleTag.textContent=o;let l=t.head||t;this.styleTag.parentNode!=l&&l.insertBefore(this.styleTag,l.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var ri={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ur={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},qte=typeof navigator<"u"&&/Mac/.test(navigator.platform),$te=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Qe=0;Qe<10;Qe++)ri[48+Qe]=ri[96+Qe]=String(Qe);for(var Qe=1;Qe<=24;Qe++)ri[Qe+111]="F"+Qe;for(var Qe=65;Qe<=90;Qe++)ri[Qe]=String.fromCharCode(Qe+32),ur[Qe]=String.fromCharCode(Qe);for(var ha in ri)ur.hasOwnProperty(ha)||(ur[ha]=ri[ha]);function Hte(n){var e=qte&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||$te&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?ur:ri)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function Ae(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=t[i];typeof s=="string"?n.setAttribute(i,s):s!=null&&(n[i]=s)}e++}for(;e<arguments.length;e++)iy(n,arguments[e]);return n}function iy(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)iy(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}function fr(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function uh(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function bo(n,e){if(!e.anchorNode)return!1;try{return uh(n,e.anchorNode)}catch{return!1}}function fs(n){return n.nodeType==3?Di(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function Js(n,e,t,i){return t?Ep(n,e,t,i,-1)||Ep(n,e,t,i,1):!1}function Mi(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function $o(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function Ep(n,e,t,i,s){for(;;){if(n==t&&e==i)return!0;if(e==(s<0?0:xn(n))){if(n.nodeName=="DIV")return!1;let r=n.parentNode;if(!r||r.nodeType!=1)return!1;e=Mi(n)+(s<0?0:1),n=r}else if(n.nodeType==1){if(n=n.childNodes[e+(s<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=s<0?xn(n):0}else return!1}}function xn(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function _r(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function zte(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function sy(n,e){let t=e.width/n.offsetWidth,i=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-n.offsetHeight)<1)&&(i=1),{scaleX:t,scaleY:i}}function Vte(n,e,t,i,s,r,o,l){let c=n.ownerDocument,a=c.defaultView||window;for(let h=n,u=!1;h&&!u;)if(h.nodeType==1){let f,d=h==c.body,p=1,m=1;if(d)f=zte(a);else{if(/^(fixed|sticky)$/.test(getComputedStyle(h).position)&&(u=!0),h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.assignedSlot||h.parentNode;continue}let x=h.getBoundingClientRect();({scaleX:p,scaleY:m}=sy(h,x)),f={left:x.left,right:x.left+h.clientWidth*p,top:x.top,bottom:x.top+h.clientHeight*m}}let b=0,g=0;if(s=="nearest")e.top<f.top?(g=e.top-(f.top+o),t>0&&e.bottom>f.bottom+g&&(g=e.bottom-f.bottom+o)):e.bottom>f.bottom&&(g=e.bottom-f.bottom+o,t<0&&e.top-g<f.top&&(g=e.top-(f.top+o)));else{let x=e.bottom-e.top,y=f.bottom-f.top;g=(s=="center"&&x<=y?e.top+x/2-y/2:s=="start"||s=="center"&&t<0?e.top-o:e.bottom-y+o)-f.top}if(i=="nearest"?e.left<f.left?(b=e.left-(f.left+r),t>0&&e.right>f.right+b&&(b=e.right-f.right+r)):e.right>f.right&&(b=e.right-f.right+r,t<0&&e.left<f.left+b&&(b=e.left-(f.left+r))):b=(i=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:i=="start"==l?e.left-r:e.right-(f.right-f.left)+r)-f.left,b||g)if(d)a.scrollBy(b,g);else{let x=0,y=0;if(g){let v=h.scrollTop;h.scrollTop+=g/m,y=(h.scrollTop-v)*m}if(b){let v=h.scrollLeft;h.scrollLeft+=b/p,x=(h.scrollLeft-v)*p}e={left:e.left-x,top:e.top-y,right:e.right-x,bottom:e.bottom-y},x&&Math.abs(x-b)<1&&(i="nearest"),y&&Math.abs(y-g)<1&&(s="nearest")}if(d)break;(e.top<f.top||e.bottom>f.bottom||e.left<f.left||e.right>f.right)&&(e={left:Math.max(e.left,f.left),right:Math.min(e.right,f.right),top:Math.max(e.top,f.top),bottom:Math.min(e.bottom,f.bottom)}),h=h.assignedSlot||h.parentNode}else if(h.nodeType==11)h=h.host;else break}function Wte(n){let e=n.ownerDocument,t,i;for(let s=n.parentNode;s&&!(s==e.body||t&&i);)if(s.nodeType==1)!i&&s.scrollHeight>s.clientHeight&&(i=s),!t&&s.scrollWidth>s.clientWidth&&(t=s),s=s.assignedSlot||s.parentNode;else if(s.nodeType==11)s=s.host;else break;return{x:t,y:i}}class jte{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?xn(t):0),i,Math.min(e.focusOffset,i?xn(i):0))}set(e,t,i,s){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=s}}let Fi=null;function ry(n){if(n.setActive)return n.setActive();if(Fi)return n.focus(Fi);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Fi==null?{get preventScroll(){return Fi={preventScroll:!0},!0}}:void 0),!Fi){Fi=!1;for(let t=0;t<e.length;){let i=e[t++],s=e[t++],r=e[t++];i.scrollTop!=s&&(i.scrollTop=s),i.scrollLeft!=r&&(i.scrollLeft=r)}}}let Mp;function Di(n,e,t=e){let i=Mp||(Mp=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function ns(n,e,t,i){let s={key:e,code:e,keyCode:t,which:t,cancelable:!0};i&&({altKey:s.altKey,ctrlKey:s.ctrlKey,shiftKey:s.shiftKey,metaKey:s.metaKey}=i);let r=new KeyboardEvent("keydown",s);r.synthetic=!0,n.dispatchEvent(r);let o=new KeyboardEvent("keyup",s);return o.synthetic=!0,n.dispatchEvent(o),r.defaultPrevented||o.defaultPrevented}function Ute(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function oy(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function Kte(n,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,xn(t));;)if(i){if(t.nodeType!=1)return!1;let s=t.childNodes[i-1];s.contentEditable=="false"?i--:(t=s,i=xn(t))}else{if(t==n)return!0;i=Mi(t),t=t.parentNode}}function ly(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function cy(n,e){for(let t=n,i=e;;){if(t.nodeType==3&&i>0)return{node:t,offset:i};if(t.nodeType==1&&i>0){if(t.contentEditable=="false")return null;t=t.childNodes[i-1],i=xn(t)}else if(t.parentNode&&!$o(t))i=Mi(t),t=t.parentNode;else return null}}function ay(n,e){for(let t=n,i=e;;){if(t.nodeType==3&&i<t.nodeValue.length)return{node:t,offset:i};if(t.nodeType==1&&i<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[i],i=0}else if(t.parentNode&&!$o(t))i=Mi(t)+1,t=t.parentNode;else return null}}class rt{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new rt(e.parentNode,Mi(e),t)}static after(e,t){return new rt(e.parentNode,Mi(e)+1,t)}}const Eu=[];class De{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let i=this.dom,s=null,r;for(let o of this.children){if(o.flags&7){if(!o.dom&&(r=s?s.nextSibling:i.firstChild)){let l=De.get(r);(!l||!l.parent&&l.canReuseDOM(o))&&o.reuseDOM(r)}o.sync(e,t),o.flags&=-8}if(r=s?s.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&r!=o.dom&&(t.written=!0),o.dom.parentNode==i)for(;r&&r!=o.dom;)r=Dp(r);else i.insertBefore(o.dom,r);s=o.dom}for(r=s?s.nextSibling:i.firstChild,r&&t&&t.node==i&&(t.written=!0);r;)r=Dp(r)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(e,t),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let s=xn(e)==0?0:t==0?-1:1;for(;;){let r=e.parentNode;if(r==this.dom)break;s==0&&r.firstChild!=r.lastChild&&(e==r.firstChild?s=-1:s=1),e=r}s<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!De.get(i);)i=i.nextSibling;if(!i)return this.length;for(let s=0,r=0;;s++){let o=this.children[s];if(o.dom==i)return r;r+=o.length+o.breakAfter}}domBoundsAround(e,t,i=0){let s=-1,r=-1,o=-1,l=-1;for(let c=0,a=i,h=i;c<this.children.length;c++){let u=this.children[c],f=a+u.length;if(a<e&&f>t)return u.domBoundsAround(e,t,a);if(f>=e&&s==-1&&(s=c,r=a),a>t&&u.dom.parentNode==this.dom){o=c,l=h;break}h=f,a=f+u.breakAfter}return{from:r,to:l<0?i+this.length:l,startDOM:(s?this.children[s-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=Eu){this.markDirty();for(let s=e;s<t;s++){let r=this.children[s];r.parent==this&&i.indexOf(r)<0&&r.destroy()}i.length<250?this.children.splice(e,t-e,...i):this.children=[].concat(this.children.slice(0,e),i,this.children.slice(t));for(let s=0;s<i.length;s++)i[s].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new hy(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,i,s,r,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}De.prototype.breakAfter=0;function Dp(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class hy{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function uy(n,e,t,i,s,r,o,l,c){let{children:a}=n,h=a.length?a[e]:null,u=r.length?r[r.length-1]:null,f=u?u.breakAfter:o;if(!(e==i&&h&&!o&&!f&&r.length<2&&h.merge(t,s,r.length?u:null,t==0,l,c))){if(i<a.length){let d=a[i];d&&(s<d.length||d.breakAfter&&(u!=null&&u.breakAfter))?(e==i&&(d=d.split(s),s=0),!f&&u&&d.merge(0,s,u,!0,0,c)?r[r.length-1]=d:((s||d.children.length&&!d.children[0].length)&&d.merge(0,s,null,!1,0,c),r.push(d))):d!=null&&d.breakAfter&&(u?u.breakAfter=1:o=1),i++}for(h&&(h.breakAfter=o,t>0&&(!o&&r.length&&h.merge(t,h.length,r[0],!1,l,0)?h.breakAfter=r.shift().breakAfter:(t<h.length||h.children.length&&h.children[h.children.length-1].length==0)&&h.merge(t,h.length,null,!1,l,0),e++));e<i&&r.length;)if(a[i-1].become(r[r.length-1]))i--,r.pop(),c=r.length?0:l;else if(a[e].become(r[0]))e++,r.shift(),l=r.length?0:c;else break;!r.length&&e&&i<a.length&&!a[e-1].breakAfter&&a[i].merge(0,0,a[e-1],!1,l,c)&&e--,(e<i||r.length)&&n.replaceChildren(e,i,r)}}function fy(n,e,t,i,s,r){let o=n.childCursor(),{i:l,off:c}=o.findPos(t,1),{i:a,off:h}=o.findPos(e,-1),u=e-t;for(let f of i)u+=f.length;n.length+=u,uy(n,a,h,l,c,i,0,s,r)}let kt=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},fh=typeof document<"u"?document:{documentElement:{style:{}}};const dh=/Edge\/(\d+)/.exec(kt.userAgent),dy=/MSIE \d/.test(kt.userAgent),ph=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(kt.userAgent),kl=!!(dy||ph||dh),Tp=!kl&&/gecko\/(\d+)/i.test(kt.userAgent),ua=!kl&&/Chrome\/(\d+)/.exec(kt.userAgent),Gte="webkitFontSmoothing"in fh.documentElement.style,py=!kl&&/Apple Computer/.test(kt.vendor),Rp=py&&(/Mobile\/\w+/.test(kt.userAgent)||kt.maxTouchPoints>2);var J={mac:Rp||/Mac/.test(kt.platform),windows:/Win/.test(kt.platform),linux:/Linux|X11/.test(kt.platform),ie:kl,ie_version:dy?fh.documentMode||6:ph?+ph[1]:dh?+dh[1]:0,gecko:Tp,gecko_version:Tp?+(/Firefox\/(\d+)/.exec(kt.userAgent)||[0,0])[1]:0,chrome:!!ua,chrome_version:ua?+ua[1]:0,ios:Rp,android:/Android\b/.test(kt.userAgent),safari:py,webkit_version:Gte?+(/\bAppleWebKit\/(\d+)/.exec(kt.userAgent)||[0,0])[1]:0,tabSize:fh.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const Yte=256;class Kt extends De{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return this.flags&8||i&&(!(i instanceof Kt)||this.length-(t-e)+i.length>Yte||i.flags&8)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Kt(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new rt(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return Jte(this.dom,e,t)}}class Bn extends De{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let s of t)s.setParent(this)}setAttrs(e){if(oy(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,i,s,r,o){return i&&(!(i instanceof Bn&&i.mark.eq(this.mark))||e&&r<=0||t<this.length&&o<=0)?!1:(fy(this,e,t,i?i.children.slice():[],r-1,o-1),this.markDirty(),!0)}split(e){let t=[],i=0,s=-1,r=0;for(let l of this.children){let c=i+l.length;c>e&&t.push(i<e?l.split(e-i):l),s<0&&i>=e&&(s=r),i=c,r++}let o=this.length-e;return this.length=e,s>-1&&(this.children.length=s,this.markDirty()),new Bn(this.mark,t,o)}domAtPos(e){return my(this,e)}coordsAt(e,t){return yy(this,e,t)}}function Jte(n,e,t){let i=n.nodeValue.length;e>i&&(e=i);let s=e,r=e,o=0;e==0&&t<0||e==i&&t>=0?J.chrome||J.gecko||(e?(s--,o=1):r<i&&(r++,o=-1)):t<0?s--:r<i&&r++;let l=Di(n,s,r).getClientRects();if(!l.length)return null;let c=l[(o?o<0:t>=0)?0:l.length-1];return J.safari&&!o&&c.width==0&&(c=Array.prototype.find.call(l,a=>a.width)||c),o?_r(c,o<0):c||null}class Gn extends De{static create(e,t,i){return new Gn(e,t,i)}constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}split(e){let t=Gn.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,i,s,r,o){return i&&(!(i instanceof Gn)||!this.widget.compare(i.widget)||e>0&&r<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e instanceof Gn&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return ye.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,i=t&&t.state.doc,s=this.posAtStart;return i?i.slice(s,s+this.length):ye.empty}domAtPos(e){return(this.length?e==0:this.side>0)?rt.before(this.dom):rt.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;let s=this.dom.getClientRects(),r=null;if(!s.length)return null;let o=this.side?this.side<0:e>0;for(let l=o?s.length-1:0;r=s[l],!(e>0?l==0:l==s.length-1||r.top<r.bottom);l+=o?-1:1);return _r(r,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class ds extends De{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof ds&&e.side==this.side}split(){return new ds(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?rt.before(this.dom):rt.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return ye.empty}get isHidden(){return!0}}Kt.prototype.children=Gn.prototype.children=ds.prototype.children=Eu;function my(n,e){let t=n.dom,{children:i}=n,s=0;for(let r=0;s<i.length;s++){let o=i[s],l=r+o.length;if(!(l==r&&o.getSide()<=0)){if(e>r&&e<l&&o.dom.parentNode==t)return o.domAtPos(e-r);if(e<=r)break;r=l}}for(let r=s;r>0;r--){let o=i[r-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let r=s;r<i.length;r++){let o=i[r];if(o.dom.parentNode==t)return o.domAtPos(0)}return new rt(t,0)}function gy(n,e,t){let i,{children:s}=n;t>0&&e instanceof Bn&&s.length&&(i=s[s.length-1])instanceof Bn&&i.mark.eq(e.mark)?gy(i,e.children[0],t-1):(s.push(e),e.setParent(n)),n.length+=e.length}function yy(n,e,t){let i=null,s=-1,r=null,o=-1;function l(a,h){for(let u=0,f=0;u<a.children.length&&f<=h;u++){let d=a.children[u],p=f+d.length;p>=h&&(d.children.length?l(d,h-f):(!r||r.isHidden&&(t>0||Zte(r,d)))&&(p>h||f==p&&d.getSide()>0)?(r=d,o=h-f):(f<h||f==p&&d.getSide()<0&&!d.isHidden)&&(i=d,s=h-f)),f=p}}l(n,e);let c=(t<0?i:r)||i||r;return c?c.coordsAt(Math.max(0,c==i?s:o),t):Xte(n)}function Xte(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=fs(e);return t[t.length-1]||null}function Zte(n,e){let t=n.coordsAt(0,1),i=e.coordsAt(0,1);return t&&i&&i.top<t.bottom}function mh(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const Op=Object.create(null);function Ho(n,e,t){if(n==e)return!0;n||(n=Op),e||(e=Op);let i=Object.keys(n),s=Object.keys(e);if(i.length-(t&&i.indexOf(t)>-1?1:0)!=s.length-(t&&s.indexOf(t)>-1?1:0))return!1;for(let r of i)if(r!=t&&(s.indexOf(r)==-1||n[r]!==e[r]))return!1;return!0}function gh(n,e,t){let i=!1;if(e)for(let s in e)t&&s in t||(i=!0,s=="style"?n.style.cssText="":n.removeAttribute(s));if(t)for(let s in t)e&&e[s]==t[s]||(i=!0,s=="style"?n.style.cssText=t[s]:n.setAttribute(s,t[s]));return i}function Qte(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let i=n.attributes[t];e[i.name]=i.value}return e}class Nn{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var mt=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(mt||(mt={}));class se extends Ei{constructor(e,t,i,s){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=s}get heightRelevant(){return!1}static mark(e){return new Er(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new oi(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,s;if(e.isBlockGap)i=-5e8,s=4e8;else{let{start:r,end:o}=by(e,t);i=(r?t?-3e8:-1:5e8)-1,s=(o?t?2e8:1:-6e8)+1}return new oi(e,i,s,t,e.widget||null,!0)}static line(e){return new Mr(e)}static set(e,t=!1){return de.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}se.none=de.empty;class Er extends se{constructor(e){let{start:t,end:i}=by(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,i;return this==e||e instanceof Er&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((i=e.attrs)===null||i===void 0?void 0:i.class))&&Ho(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Er.prototype.point=!1;class Mr extends se{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Mr&&this.spec.class==e.spec.class&&Ho(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Mr.prototype.mapMode=dt.TrackBefore;Mr.prototype.point=!0;class oi extends se{constructor(e,t,i,s,r,o){super(t,i,r,e),this.block=s,this.isReplace=o,this.mapMode=s?t<=0?dt.TrackBefore:dt.TrackAfter:dt.TrackDel}get type(){return this.startSide!=this.endSide?mt.WidgetRange:this.startSide<=0?mt.WidgetBefore:mt.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof oi&&ene(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}oi.prototype.point=!0;function by(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t??e,end:i??e}}function ene(n,e){return n==e||!!(n&&e&&n.compare(e))}function vo(n,e,t,i=0){let s=t.length-1;s>=0&&t[s]+i>=n?t[s]=Math.max(t[s],e):t.push(n,e)}class ze extends De{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,s,r,o){if(i){if(!(i instanceof ze))return!1;this.dom||i.transferDOM(this)}return s&&this.setDeco(i?i.attrs:null),fy(this,e,t,i?i.children.slice():[],r,o),!0}split(e){let t=new ze;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:s}=this.childPos(e);s&&(t.append(this.children[i].split(s),0),this.children[i].merge(s,this.children[i].length,null,!1,0,0),i++);for(let r=i;r<this.children.length;r++)t.append(this.children[r],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Ho(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){gy(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=mh(t,this.attrs||{})),i&&(this.attrs=mh({class:i},this.attrs||{}))}domAtPos(e){return my(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var i;this.dom?this.flags&4&&(oy(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(gh(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let s=this.dom.lastChild;for(;s&&De.get(s)instanceof Bn;)s=s.lastChild;if(!s||!this.length||s.nodeName!="BR"&&((i=De.get(s))===null||i===void 0?void 0:i.isEditable)==!1&&(!J.ios||!this.children.some(r=>r instanceof Kt))){let r=document.createElement("BR");r.cmIgnore=!0,this.dom.appendChild(r)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let i of this.children){if(!(i instanceof Kt)||/[^ -~]/.test(i.text))return null;let s=fs(i.dom);if(s.length!=1)return null;e+=s[0].width,t=s[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let i=yy(this,e,t);if(!this.children.length&&i&&this.parent){let{heightOracle:s}=this.parent.view.viewState,r=i.bottom-i.top;if(Math.abs(r-s.lineHeight)<2&&s.textHeight<r){let o=(r-s.textHeight)/2;return{top:i.top+o,bottom:i.bottom-o,left:i.left,right:i.left}}}return i}become(e){return e instanceof ze&&this.children.length==0&&e.children.length==0&&Ho(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let i=0,s=0;i<e.children.length;i++){let r=e.children[i],o=s+r.length;if(o>=t){if(r instanceof ze)return r;if(o>t)break}s=o+r.breakAfter}return null}}class Rn extends De{constructor(e,t,i){super(),this.widget=e,this.length=t,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,s,r,o){return i&&(!(i instanceof Rn)||!this.widget.compare(i.widget)||e>0&&r<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?rt.before(this.dom):rt.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new Rn(this.widget,t,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return Eu}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):ye.empty}domBoundsAround(){return null}become(e){return e instanceof Rn&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);return i||(this.widget instanceof yh?null:_r(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:i}=this.deco;return t==i?!1:e<0?t<0:i>0}}class yh extends Nn{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Xs{constructor(e,t,i,s){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=s,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Rn&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new ze),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Wr(new ds(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Rn)&&this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:r,lineBreak:o,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=r,this.textOff=0}let s=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-i)),this.getLine().append(Wr(new Kt(this.text.slice(this.textOff,this.textOff+s)),t),i),this.atCursorPos=!0,this.textOff+=s,e-=s,i=0}}span(e,t,i,s){this.buildText(t-e,i,s),this.pos=t,this.openStart<0&&(this.openStart=s)}point(e,t,i,s,r,o){if(this.disallowBlockEffectsFor[o]&&i instanceof oi){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=t-e;if(i instanceof oi)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Rn(i.widget||ps.block,l,i));else{let c=Gn.create(i.widget||ps.inline,l,l?0:i.startSide),a=this.atCursorPos&&!c.isEditable&&r<=s.length&&(e<t||i.startSide>0),h=!c.isEditable&&(e<t||r>s.length||i.startSide<=0),u=this.getLine();this.pendingBuffer==2&&!a&&!c.isEditable&&(this.pendingBuffer=0),this.flushBuffer(s),a&&(u.append(Wr(new ds(1),s),r),r=s.length+Math.max(0,r-s.length)),u.append(Wr(c,s),r),this.atCursorPos=h,this.pendingBuffer=h?e<t||r>s.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=s.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=r)}static build(e,t,i,s,r){let o=new Xs(e,t,i,r);return o.openEnd=de.spans(s,t,i,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Wr(n,e){for(let t of e)n=new Bn(t,[n],n.length);return n}class ps extends Nn{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}ps.inline=new ps("span");ps.block=new ps("div");var Pe=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(Pe||(Pe={}));const Ti=Pe.LTR,Mu=Pe.RTL;function vy(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const tne=vy("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),nne=vy("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),bh=Object.create(null),tn=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);bh[e]=t,bh[t]=-e}function xy(n){return n<=247?tne[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?nne[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const ine=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Yn{get dir(){return this.level%2?Mu:Ti}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,i,s){let r=-1;for(let o=0;o<e.length;o++){let l=e[o];if(l.from<=t&&l.to>=t){if(l.level==i)return o;(r<0||(s!=0?s<0?l.from<t:l.to>t:e[r].level>l.level))&&(r=o)}}if(r<0)throw new RangeError("Index out of range");return r}}function ky(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let i=n[t],s=e[t];if(i.from!=s.from||i.to!=s.to||i.direction!=s.direction||!ky(i.inner,s.inner))return!1}return!0}const _e=[];function sne(n,e,t,i,s){for(let r=0;r<=i.length;r++){let o=r?i[r-1].to:e,l=r<i.length?i[r].from:t,c=r?256:s;for(let a=o,h=c,u=c;a<l;a++){let f=xy(n.charCodeAt(a));f==512?f=h:f==8&&u==4&&(f=16),_e[a]=f==4?2:f,f&7&&(u=f),h=f}for(let a=o,h=c,u=c;a<l;a++){let f=_e[a];if(f==128)a<l-1&&h==_e[a+1]&&h&24?f=_e[a]=h:_e[a]=256;else if(f==64){let d=a+1;for(;d<l&&_e[d]==64;)d++;let p=a&&h==8||d<t&&_e[d]==8?u==1?1:8:256;for(let m=a;m<d;m++)_e[m]=p;a=d-1}else f==8&&u==1&&(_e[a]=1);h=f,f&7&&(u=f)}}}function rne(n,e,t,i,s){let r=s==1?2:1;for(let o=0,l=0,c=0;o<=i.length;o++){let a=o?i[o-1].to:e,h=o<i.length?i[o].from:t;for(let u=a,f,d,p;u<h;u++)if(d=bh[f=n.charCodeAt(u)])if(d<0){for(let m=l-3;m>=0;m-=3)if(tn[m+1]==-d){let b=tn[m+2],g=b&2?s:b&4?b&1?r:s:0;g&&(_e[u]=_e[tn[m]]=g),l=m;break}}else{if(tn.length==189)break;tn[l++]=u,tn[l++]=f,tn[l++]=c}else if((p=_e[u])==2||p==1){let m=p==s;c=m?0:1;for(let b=l-3;b>=0;b-=3){let g=tn[b+2];if(g&2)break;if(m)tn[b+2]|=2;else{if(g&4)break;tn[b+2]|=4}}}}}function one(n,e,t,i){for(let s=0,r=i;s<=t.length;s++){let o=s?t[s-1].to:n,l=s<t.length?t[s].from:e;for(let c=o;c<l;){let a=_e[c];if(a==256){let h=c+1;for(;;)if(h==l){if(s==t.length)break;h=t[s++].to,l=s<t.length?t[s].from:e}else if(_e[h]==256)h++;else break;let u=r==1,f=(h<e?_e[h]:i)==1,d=u==f?u?1:2:i;for(let p=h,m=s,b=m?t[m-1].to:n;p>c;)p==b&&(p=t[--m].from,b=m?t[m-1].to:n),_e[--p]=d;c=h}else r=a,c++}}}function vh(n,e,t,i,s,r,o){let l=i%2?2:1;if(i%2==s%2)for(let c=e,a=0;c<t;){let h=!0,u=!1;if(a==r.length||c<r[a].from){let m=_e[c];m!=l&&(h=!1,u=m==16)}let f=!h&&l==1?[]:null,d=h?i:i+1,p=c;e:for(;;)if(a<r.length&&p==r[a].from){if(u)break e;let m=r[a];if(!h)for(let b=m.to,g=a+1;;){if(b==t)break e;if(g<r.length&&r[g].from==b)b=r[g++].to;else{if(_e[b]==l)break e;break}}if(a++,f)f.push(m);else{m.from>c&&o.push(new Yn(c,m.from,d));let b=m.direction==Ti!=!(d%2);xh(n,b?i+1:i,s,m.inner,m.from,m.to,o),c=m.to}p=m.to}else{if(p==t||(h?_e[p]!=l:_e[p]==l))break;p++}f?vh(n,c,p,i+1,s,f,o):c<p&&o.push(new Yn(c,p,d)),c=p}else for(let c=t,a=r.length;c>e;){let h=!0,u=!1;if(!a||c>r[a-1].to){let m=_e[c-1];m!=l&&(h=!1,u=m==16)}let f=!h&&l==1?[]:null,d=h?i:i+1,p=c;e:for(;;)if(a&&p==r[a-1].to){if(u)break e;let m=r[--a];if(!h)for(let b=m.from,g=a;;){if(b==e)break e;if(g&&r[g-1].to==b)b=r[--g].from;else{if(_e[b-1]==l)break e;break}}if(f)f.push(m);else{m.to<c&&o.push(new Yn(m.to,c,d));let b=m.direction==Ti!=!(d%2);xh(n,b?i+1:i,s,m.inner,m.from,m.to,o),c=m.from}p=m.from}else{if(p==e||(h?_e[p-1]!=l:_e[p-1]==l))break;p--}f?vh(n,p,c,i+1,s,f,o):p<c&&o.push(new Yn(p,c,d)),c=p}}function xh(n,e,t,i,s,r,o){let l=e%2?2:1;sne(n,s,r,i,l),rne(n,s,r,i,l),one(s,r,i,l),vh(n,s,r,e,t,i,o)}function lne(n,e,t){if(!n)return[new Yn(0,0,e==Mu?1:0)];if(e==Ti&&!t.length&&!ine.test(n))return wy(n.length);if(t.length)for(;n.length>_e.length;)_e[_e.length]=256;let i=[],s=e==Ti?0:1;return xh(n,s,s,t,0,n.length,i),i}function wy(n){return[new Yn(0,n,0)]}let Cy="";function cne(n,e,t,i,s){var r;let o=i.head-n.from,l=Yn.find(e,o,(r=i.bidiLevel)!==null&&r!==void 0?r:-1,i.assoc),c=e[l],a=c.side(s,t);if(o==a){let f=l+=s?1:-1;if(f<0||f>=e.length)return null;c=e[l=f],o=c.side(!s,t),a=c.side(s,t)}let h=tt(n.text,o,c.forward(s,t));(h<c.from||h>c.to)&&(h=a),Cy=n.text.slice(Math.min(o,h),Math.max(o,h));let u=l==(s?e.length-1:0)?null:e[l+(s?1:-1)];return u&&h==a&&u.level+(s?0:1)<c.level?P.cursor(u.side(!s,t)+n.from,u.forward(s,t)?1:-1,u.level):P.cursor(h+n.from,c.forward(s,t)?-1:1,c.level)}function ane(n,e,t){for(let i=e;i<t;i++){let s=xy(n.charCodeAt(i));if(s==1)return Ti;if(s==2||s==4)return Mu}return Ti}const Sy=X.define(),Ay=X.define(),_y=X.define(),Ey=X.define(),kh=X.define(),My=X.define(),Dy=X.define(),Du=X.define(),Tu=X.define(),Ty=X.define({combine:n=>n.some(e=>e)}),Ry=X.define({combine:n=>n.some(e=>e)}),Oy=X.define();class is{constructor(e,t="nearest",i="nearest",s=5,r=5,o=!1){this.range=e,this.y=t,this.x=i,this.yMargin=s,this.xMargin=r,this.isSnapshot=o}map(e){return e.empty?this:new is(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new is(P.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const jr=he.define({map:(n,e)=>n.map(e)}),Py=he.define();function pt(n,e,t){let i=n.facet(Ey);i.length?i[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const Mn=X.define({combine:n=>n.length?n[0]:!0});let hne=0;const ji=X.define({combine(n){return n.filter((e,t)=>{for(let i=0;i<t;i++)if(n[i].plugin==e.plugin)return!1;return!0})}});class qe{constructor(e,t,i,s,r){this.id=e,this.create=t,this.domEventHandlers=i,this.domEventObservers=s,this.baseExtensions=r(this),this.extension=this.baseExtensions.concat(ji.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(ji.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:i,eventObservers:s,provide:r,decorations:o}=t||{};return new qe(hne++,e,i,s,l=>{let c=[];return o&&c.push(dr.of(a=>{let h=a.plugin(l);return h?o(h):se.none})),r&&c.push(r(l)),c})}static fromClass(e,t){return qe.define((i,s)=>new e(i,s),t)}}class fa{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(pt(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){pt(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){pt(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Ly=X.define(),Ru=X.define(),dr=X.define(),By=X.define(),Ou=X.define(),Iy=X.define();function Pp(n,e){let t=n.state.facet(Iy);if(!t.length)return t;let i=t.map(r=>r instanceof Function?r(n):r),s=[];return de.spans(i,e.from,e.to,{point(){},span(r,o,l,c){let a=r-e.from,h=o-e.from,u=s;for(let f=l.length-1;f>=0;f--,c--){let d=l[f].spec.bidiIsolate,p;if(d==null&&(d=ane(e.text,a,h)),c>0&&u.length&&(p=u[u.length-1]).to==a&&p.direction==d)p.to=h,u=p.inner;else{let m={from:a,to:h,direction:d,inner:[]};u.push(m),u=m.inner}}}}),s}const Fy=X.define();function Pu(n){let e=0,t=0,i=0,s=0;for(let r of n.state.facet(Fy)){let o=r(n);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(i=Math.max(i,o.top)),o.bottom!=null&&(s=Math.max(s,o.bottom)))}return{left:e,right:t,top:i,bottom:s}}const Bs=X.define();class Ft{constructor(e,t,i,s){this.fromA=e,this.toA=t,this.fromB=i,this.toB=s}join(e){return new Ft(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let s=e[t-1];if(!(s.fromA>i.toA)){if(s.toA<i.fromA)break;i=i.join(s),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let s=0,r=0,o=0,l=0;;s++){let c=s==e.length?null:e[s],a=o-l,h=c?c.fromB:1e9;for(;r<t.length&&t[r]<h;){let u=t[r],f=t[r+1],d=Math.max(l,u),p=Math.min(h,f);if(d<=p&&new Ft(d+a,p+a,d,p).addToSet(i),f>h)break;r+=2}if(!c)return i;new Ft(c.fromA,c.toA,c.fromB,c.toB).addToSet(i),o=c.toA,l=c.toB}}}class zo{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=je.empty(this.startState.doc.length);for(let r of i)this.changes=this.changes.compose(r.changes);let s=[];this.changes.iterChangedRanges((r,o,l,c)=>s.push(new Ft(r,o,l,c))),this.changedRanges=s}static create(e,t,i){return new zo(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class Lp extends De{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=se.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new ze],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Ft(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:a,toA:h})=>h<this.minWidthFrom||a>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let s=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?s=this.domChanged.newSel.head:!yne(e.changes,this.hasComposition)&&!e.selectionSet&&(s=e.state.selection.main.head));let r=s>-1?fne(this.view,e.changes,s):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:a,to:h}=this.hasComposition;i=new Ft(a,h,e.changes.mapPos(a,-1),e.changes.mapPos(h,1)).addToSet(i.slice())}this.hasComposition=r?{from:r.range.fromB,to:r.range.toB}:null,(J.ie||J.chrome)&&!r&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,l=this.updateDeco(),c=mne(o,l,e.changes);return i=Ft.extendWithRanges(i,c),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,e.startState.doc.length,r),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,i);let{observer:s}=this.view;s.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=J.chrome||J.ios?{node:s.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||s.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Rn&&o.widget instanceof yh&&r.push(o.dom);s.updateGaps(r)}updateChildren(e,t,i){let s=i?i.range.addToSet(e.slice()):e,r=this.childCursor(t);for(let o=s.length-1;;o--){let l=o>=0?s[o]:null;if(!l)break;let{fromA:c,toA:a,fromB:h,toB:u}=l,f,d,p,m;if(i&&i.range.fromB<u&&i.range.toB>h){let v=Xs.build(this.view.state.doc,h,i.range.fromB,this.decorations,this.dynamicDecorationMap),k=Xs.build(this.view.state.doc,i.range.toB,u,this.decorations,this.dynamicDecorationMap);d=v.breakAtStart,p=v.openStart,m=k.openEnd;let C=this.compositionView(i);k.breakAtStart?C.breakAfter=1:k.content.length&&C.merge(C.length,C.length,k.content[0],!1,k.openStart,0)&&(C.breakAfter=k.content[0].breakAfter,k.content.shift()),v.content.length&&C.merge(0,0,v.content[v.content.length-1],!0,0,v.openEnd)&&v.content.pop(),f=v.content.concat(C).concat(k.content)}else({content:f,breakAtStart:d,openStart:p,openEnd:m}=Xs.build(this.view.state.doc,h,u,this.decorations,this.dynamicDecorationMap));let{i:b,off:g}=r.findPos(a,1),{i:x,off:y}=r.findPos(c,-1);uy(this,x,y,b,g,f,d,p,m)}i&&this.fixCompositionDOM(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let i of t.effects)i.is(Py)&&(this.editContextFormatting=i.value)}compositionView(e){let t=new Kt(e.text.nodeValue);t.flags|=8;for(let{deco:s}of e.marks)t=new Bn(s,[t],t.length);let i=new ze;return i.append(t,0),i}fixCompositionDOM(e){let t=(r,o)=>{o.flags|=8|(o.children.some(c=>c.flags&7)?1:0),this.markedForComposition.add(o);let l=De.get(r);l&&l!=o&&(l.dom=null),o.setDOM(r)},i=this.childPos(e.range.fromB,1),s=this.children[i.i];t(e.line,s);for(let r=e.marks.length-1;r>=-1;r--)i=s.childPos(i.off,1),s=s.children[i.i],t(r>=0?e.marks[r].node:e.text,s)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,s=i==this.dom,r=!s&&!(this.view.state.facet(Mn)||this.dom.tabIndex>-1)&&bo(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(s||t||r))return;let o=this.forceSelection;this.forceSelection=!1;let l=this.view.state.selection.main,c=this.moveToLine(this.domAtPos(l.anchor)),a=l.empty?c:this.moveToLine(this.domAtPos(l.head));if(J.gecko&&l.empty&&!this.hasComposition&&une(c)){let u=document.createTextNode("");this.view.observer.ignore(()=>c.node.insertBefore(u,c.node.childNodes[c.offset]||null)),c=a=new rt(u,0),o=!0}let h=this.view.observer.selectionRange;(o||!h.focusNode||(!Js(c.node,c.offset,h.anchorNode,h.anchorOffset)||!Js(a.node,a.offset,h.focusNode,h.focusOffset))&&!this.suppressWidgetCursorChange(h,l))&&(this.view.observer.ignore(()=>{J.android&&J.chrome&&this.dom.contains(h.focusNode)&&gne(h.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let u=fr(this.view.root);if(u)if(l.empty){if(J.gecko){let f=dne(c.node,c.offset);if(f&&f!=3){let d=(f==1?cy:ay)(c.node,c.offset);d&&(c=new rt(d.node,d.offset))}}u.collapse(c.node,c.offset),l.bidiLevel!=null&&u.caretBidiLevel!==void 0&&(u.caretBidiLevel=l.bidiLevel)}else if(u.extend){u.collapse(c.node,c.offset);try{u.extend(a.node,a.offset)}catch{}}else{let f=document.createRange();l.anchor>l.head&&([c,a]=[a,c]),f.setEnd(a.node,a.offset),f.setStart(c.node,c.offset),u.removeAllRanges(),u.addRange(f)}r&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(c,a)),this.impreciseAnchor=c.precise?null:new rt(h.anchorNode,h.anchorOffset),this.impreciseHead=a.precise?null:new rt(h.focusNode,h.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&Js(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=fr(e.root),{anchorNode:s,anchorOffset:r}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let o=ze.find(this,t.head);if(!o)return;let l=o.posAtStart;if(t.head==l||t.head==l+o.length)return;let c=this.coordsAt(t.head,-1),a=this.coordsAt(t.head,1);if(!c||!a||c.bottom>a.top)return;let h=this.domAtPos(t.head+t.assoc);i.collapse(h.node,h.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let u=e.observer.selectionRange;e.docView.posFromDOM(u.anchorNode,u.anchorOffset)!=t.from&&i.collapse(s,r)}moveToLine(e){let t=this.dom,i;if(e.node!=t)return e;for(let s=e.offset;!i&&s<t.childNodes.length;s++){let r=De.get(t.childNodes[s]);r instanceof ze&&(i=r.domAtPos(0))}for(let s=e.offset-1;!i&&s>=0;s--){let r=De.get(t.childNodes[s]);r instanceof ze&&(i=r.domAtPos(r.length))}return i?new rt(i.node,i.offset,!0):e}nearest(e){for(let t=e;t;){let i=De.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let s=this.children[t];if(i<s.length||s instanceof ze)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){let i=null,s=0;for(let r=this.length,o=this.children.length-1;o>=0;o--){let l=this.children[o],c=r-l.breakAfter,a=c-l.length;if(c<e)break;if(a<=e&&(a<e||l.covers(-1))&&(c>e||l.covers(1))&&(!i||l instanceof ze&&!(i instanceof ze&&t>=0)))i=l,s=a;else if(i&&a==e&&c==e&&l instanceof Rn&&Math.abs(t)<2){if(l.deco.startSide<0)break;o&&(i=null)}r=a}return i?i.coordsAt(e-s,t):null}coordsForChar(e){let{i:t,off:i}=this.childPos(e,1),s=this.children[t];if(!(s instanceof ze))return null;for(;s.children.length;){let{i:l,off:c}=s.childPos(i,1);for(;;l++){if(l==s.children.length)return null;if((s=s.children[l]).length)break}i=c}if(!(s instanceof Kt))return null;let r=tt(s.text,i);if(r==i)return null;let o=Di(s.dom,i,r).getClientRects();for(let l=0;l<o.length;l++){let c=o[l];if(l==o.length-1||c.top<c.bottom&&c.left<c.right)return c}return null}measureVisibleLineHeights(e){let t=[],{from:i,to:s}=e,r=this.view.contentDOM.clientWidth,o=r>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,c=this.view.textDirection==Pe.LTR;for(let a=0,h=0;h<this.children.length;h++){let u=this.children[h],f=a+u.length;if(f>s)break;if(a>=i){let d=u.dom.getBoundingClientRect();if(t.push(d.height),o){let p=u.dom.lastChild,m=p?fs(p):[];if(m.length){let b=m[m.length-1],g=c?b.right-d.left:d.right-b.left;g>l&&(l=g,this.minWidth=r,this.minWidthFrom=a,this.minWidthTo=f)}}}a=f+u.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?Pe.RTL:Pe.LTR}measureTextSize(){for(let r of this.children)if(r instanceof ze){let o=r.measureTextSize();if(o)return o}let e=document.createElement("div"),t,i,s;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let r=fs(e.firstChild)[0];t=e.getBoundingClientRect().height,i=r?r.width/27:7,s=r?r.height:t,e.remove()}),{lineHeight:t,charWidth:i,textHeight:s}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new hy(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,s=0;;s++){let r=s==t.viewports.length?null:t.viewports[s],o=r?r.from-1:this.length;if(o>i){let l=(t.lineBlockAt(o).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(se.replace({widget:new yh(l),block:!0,inclusive:!0,isBlockGap:!0}).range(i,o))}if(!r)break;i=r.to+1}return se.set(e)}updateDeco(){let e=1,t=this.view.state.facet(dr).map(r=>(this.dynamicDecorationMap[e++]=typeof r=="function")?r(this.view):r),i=!1,s=this.view.state.facet(By).map((r,o)=>{let l=typeof r=="function";return l&&(i=!0),l?r(this.view):r});for(s.length&&(this.dynamicDecorationMap[e++]=i,t.push(de.join(s))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let a=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=a.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let a of this.view.state.facet(Oy))try{if(a(this.view,e.range,e))return!0}catch(h){pt(this.view.state,h,"scroll handler")}let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),s;if(!i)return;!t.empty&&(s=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,s.left),top:Math.min(i.top,s.top),right:Math.max(i.right,s.right),bottom:Math.max(i.bottom,s.bottom)});let r=Pu(this.view),o={left:i.left-r.left,top:i.top-r.top,right:i.right+r.right,bottom:i.bottom+r.bottom},{offsetWidth:l,offsetHeight:c}=this.view.scrollDOM;Vte(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,l),-l),Math.max(Math.min(e.yMargin,c),-c),this.view.textDirection==Pe.LTR)}}function une(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function Ny(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let i=cy(t.focusNode,t.focusOffset),s=ay(t.focusNode,t.focusOffset),r=i||s;if(s&&i&&s.node!=i.node){let l=De.get(s.node);if(!l||l instanceof Kt&&l.text!=s.node.nodeValue)r=s;else if(n.docView.lastCompositionAfterCursor){let c=De.get(i.node);!c||c instanceof Kt&&c.text!=i.node.nodeValue||(r=s)}}if(n.docView.lastCompositionAfterCursor=r!=i,!r)return null;let o=e-r.offset;return{from:o,to:o+r.node.nodeValue.length,node:r.node}}function fne(n,e,t){let i=Ny(n,t);if(!i)return null;let{node:s,from:r,to:o}=i,l=s.nodeValue;if(/[\n\r]/.test(l)||n.state.doc.sliceString(i.from,i.to)!=l)return null;let c=e.invertedDesc,a=new Ft(c.mapPos(r),c.mapPos(o),r,o),h=[];for(let u=s.parentNode;;u=u.parentNode){let f=De.get(u);if(f instanceof Bn)h.push({node:u,deco:f.mark});else{if(f instanceof ze||u.nodeName=="DIV"&&u.parentNode==n.contentDOM)return{range:a,text:s,marks:h,line:u};if(u!=n.contentDOM)h.push({node:u,deco:new Er({inclusive:!0,attributes:Qte(u),tagName:u.tagName.toLowerCase()})});else return null}}}function dne(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let pne=class{constructor(){this.changes=[]}compareRange(e,t){vo(e,t,this.changes)}comparePoint(e,t){vo(e,t,this.changes)}boundChange(e){vo(e,e,this.changes)}};function mne(n,e,t){let i=new pne;return de.compare(n,e,t,i),i.changes}function gne(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function yne(n,e){let t=!1;return e&&n.iterChangedRanges((i,s)=>{i<e.to&&s>e.from&&(t=!0)}),t}function bne(n,e,t=1){let i=n.charCategorizer(e),s=n.doc.lineAt(e),r=e-s.from;if(s.length==0)return P.cursor(e);r==0?t=1:r==s.length&&(t=-1);let o=r,l=r;t<0?o=tt(s.text,r,!1):l=tt(s.text,r);let c=i(s.text.slice(o,l));for(;o>0;){let a=tt(s.text,o,!1);if(i(s.text.slice(a,o))!=c)break;o=a}for(;l<s.length;){let a=tt(s.text,l);if(i(s.text.slice(l,a))!=c)break;l=a}return P.range(o+s.from,l+s.from)}function vne(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function xne(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function da(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function Bp(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function Ip(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function wh(n,e,t){let i,s,r,o,l=!1,c,a,h,u;for(let p=n.firstChild;p;p=p.nextSibling){let m=fs(p);for(let b=0;b<m.length;b++){let g=m[b];s&&da(s,g)&&(g=Bp(Ip(g,s.bottom),s.top));let x=vne(e,g),y=xne(t,g);if(x==0&&y==0)return p.nodeType==3?Fp(p,e,t):wh(p,e,t);(!i||o>y||o==y&&r>x)&&(i=p,s=g,r=x,o=y,l=x?e<g.left?b>0:b<m.length-1:!0),x==0?t>g.bottom&&(!h||h.bottom<g.bottom)?(c=p,h=g):t<g.top&&(!u||u.top>g.top)&&(a=p,u=g):h&&da(h,g)?h=Ip(h,g.bottom):u&&da(u,g)&&(u=Bp(u,g.top))}}if(h&&h.bottom>=t?(i=c,s=h):u&&u.top<=t&&(i=a,s=u),!i)return{node:n,offset:0};let f=Math.max(s.left,Math.min(s.right,e));if(i.nodeType==3)return Fp(i,f,t);if(l&&i.contentEditable!="false")return wh(i,f,t);let d=Array.prototype.indexOf.call(n.childNodes,i)+(e>=(s.left+s.right)/2?1:0);return{node:n,offset:d}}function Fp(n,e,t){let i=n.nodeValue.length,s=-1,r=1e9,o=0;for(let l=0;l<i;l++){let c=Di(n,l,l+1).getClientRects();for(let a=0;a<c.length;a++){let h=c[a];if(h.top==h.bottom)continue;o||(o=e-h.left);let u=(h.top>t?h.top-t:t-h.bottom)-1;if(h.left-1<=e&&h.right+1>=e&&u<r){let f=e>=(h.left+h.right)/2,d=f;if((J.chrome||J.gecko)&&Di(n,l).getBoundingClientRect().left==h.right&&(d=!f),u<=0)return{node:n,offset:l+(d?1:0)};s=l+(d?1:0),r=u}}}return{node:n,offset:s>-1?s:o>0?n.nodeValue.length:0}}function qy(n,e,t,i=-1){var s,r;let o=n.contentDOM.getBoundingClientRect(),l=o.top+n.viewState.paddingTop,c,{docHeight:a}=n.viewState,{x:h,y:u}=e,f=u-l;if(f<0)return 0;if(f>a)return n.state.doc.length;for(let v=n.viewState.heightOracle.textHeight/2,k=!1;c=n.elementAtHeight(f),c.type!=mt.Text;)for(;f=i>0?c.bottom+v:c.top-v,!(f>=0&&f<=a);){if(k)return t?null:0;k=!0,i=-i}u=l+f;let d=c.from;if(d<n.viewport.from)return n.viewport.from==0?0:t?null:Np(n,o,c,h,u);if(d>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:Np(n,o,c,h,u);let p=n.dom.ownerDocument,m=n.root.elementFromPoint?n.root:p,b=m.elementFromPoint(h,u);b&&!n.contentDOM.contains(b)&&(b=null),b||(h=Math.max(o.left+1,Math.min(o.right-1,h)),b=m.elementFromPoint(h,u),b&&!n.contentDOM.contains(b)&&(b=null));let g,x=-1;if(b&&((s=n.docView.nearest(b))===null||s===void 0?void 0:s.isEditable)!=!1){if(p.caretPositionFromPoint){let v=p.caretPositionFromPoint(h,u);v&&({offsetNode:g,offset:x}=v)}else if(p.caretRangeFromPoint){let v=p.caretRangeFromPoint(h,u);v&&({startContainer:g,startOffset:x}=v,(!n.contentDOM.contains(g)||J.safari&&kne(g,x,h)||J.chrome&&wne(g,x,h))&&(g=void 0))}g&&(x=Math.min(xn(g),x))}if(!g||!n.docView.dom.contains(g)){let v=ze.find(n.docView,d);if(!v)return f>c.top+c.height/2?c.to:c.from;({node:g,offset:x}=wh(v.dom,h,u))}let y=n.docView.nearest(g);if(!y)return null;if(y.isWidget&&((r=y.dom)===null||r===void 0?void 0:r.nodeType)==1){let v=y.dom.getBoundingClientRect();return e.y<v.top||e.y<=v.bottom&&e.x<=(v.left+v.right)/2?y.posAtStart:y.posAtEnd}else return y.localPosFromDOM(g,x)+y.posAtStart}function Np(n,e,t,i,s){let r=Math.round((i-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let l=n.viewState.heightOracle.textHeight,c=Math.floor((s-t.top-(n.defaultLineHeight-l)*.5)/l);r+=c*n.viewState.heightOracle.lineLength}let o=n.state.sliceDoc(t.from,t.to);return t.from+ch(o,r,n.state.tabSize)}function kne(n,e,t){let i,s=n;if(n.nodeType!=3||e!=(i=n.nodeValue.length))return!1;for(;;){let r=s.nextSibling;if(r){if(r.nodeName=="BR")break;return!1}else{let o=s.parentNode;if(!o||o.nodeName=="DIV")break;s=o}}return Di(n,i-1,i).getBoundingClientRect().right>t}function wne(n,e,t){if(e!=0)return!1;for(let s=n;;){let r=s.parentNode;if(!r||r.nodeType!=1||r.firstChild!=s)return!1;if(r.classList.contains("cm-line"))break;s=r}let i=n.nodeType==1?n.getBoundingClientRect():Di(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-i.left>5}function Ch(n,e,t){let i=n.lineBlockAt(e);if(Array.isArray(i.type)){let s;for(let r of i.type){if(r.from>e)break;if(!(r.to<e)){if(r.from<e&&r.to>e)return r;(!s||r.type==mt.Text&&(s.type!=r.type||(t<0?r.from<e:r.to>e)))&&(s=r)}}return s||i}return i}function Cne(n,e,t,i){let s=Ch(n,e.head,e.assoc||-1),r=!i||s.type!=mt.Text||!(n.lineWrapping||s.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>s.from?e.head-1:e.head);if(r){let o=n.dom.getBoundingClientRect(),l=n.textDirectionAt(s.from),c=n.posAtCoords({x:t==(l==Pe.LTR)?o.right-1:o.left+1,y:(r.top+r.bottom)/2});if(c!=null)return P.cursor(c,t?-1:1)}return P.cursor(t?s.to:s.from,t?-1:1)}function qp(n,e,t,i){let s=n.state.doc.lineAt(e.head),r=n.bidiSpans(s),o=n.textDirectionAt(s.from);for(let l=e,c=null;;){let a=cne(s,r,o,l,t),h=Cy;if(!a){if(s.number==(t?n.state.doc.lines:1))return l;h=`
`,s=n.state.doc.line(s.number+(t?1:-1)),r=n.bidiSpans(s),a=n.visualLineSide(s,!t)}if(c){if(!c(h))return l}else{if(!i)return a;c=i(h)}l=a}}function Sne(n,e,t){let i=n.state.charCategorizer(e),s=i(t);return r=>{let o=i(r);return s==Le.Space&&(s=o),s==o}}function Ane(n,e,t,i){let s=e.head,r=t?1:-1;if(s==(t?n.state.doc.length:0))return P.cursor(s,e.assoc);let o=e.goalColumn,l,c=n.contentDOM.getBoundingClientRect(),a=n.coordsAtPos(s,e.assoc||-1),h=n.documentTop;if(a)o==null&&(o=a.left-c.left),l=r<0?a.top:a.bottom;else{let d=n.viewState.lineBlockAt(s);o==null&&(o=Math.min(c.right-c.left,n.defaultCharacterWidth*(s-d.from))),l=(r<0?d.top:d.bottom)+h}let u=c.left+o,f=i??n.viewState.heightOracle.textHeight>>1;for(let d=0;;d+=10){let p=l+(f+d)*r,m=qy(n,{x:u,y:p},!1,r);if(p<c.top||p>c.bottom||(r<0?m<s:m>s)){let b=n.docView.coordsForChar(m),g=!b||p<b.top?-1:1;return P.cursor(m,g,void 0,o)}}}function xo(n,e,t){for(;;){let i=0;for(let s of n)s.between(e-1,e+1,(r,o,l)=>{if(e>r&&e<o){let c=i||t||(e-r<o-e?-1:1);e=c<0?r:o,i=c}});if(!i)return e}}function pa(n,e,t){let i=xo(n.state.facet(Ou).map(s=>s(n)),t.from,e.head>t.from?-1:1);return i==t.from?t:P.cursor(i,i<t.from?1:-1)}const Is="";class _ne{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(fe.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Is}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let s=e;;){this.findPointBefore(i,s);let r=this.text.length;this.readNode(s);let o=s.nextSibling;if(o==t)break;let l=De.get(s),c=De.get(o);(l&&c?l.breakAfter:(l?l.breakAfter:$o(s))||$o(o)&&(s.nodeName!="BR"||s.cmIgnore)&&this.text.length>r)&&this.lineBreak(),s=o}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){let r=-1,o=1,l;if(this.lineSeparator?(r=t.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(l=s.exec(t))&&(r=l.index,o=l[0].length),this.append(t.slice(i,r<0?t.length:r)),r<0)break;if(this.lineBreak(),o>1)for(let c of this.points)c.node==e&&c.pos>this.text.length&&(c.pos-=o-1);i=r+o}}readNode(e){if(e.cmIgnore)return;let t=De.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let s=i.iter();!s.next().done;)s.lineBreak?this.lineBreak():this.append(s.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(Ene(e,i.node,i.offset)?t:0))}}function Ene(n,e,t){for(;;){if(!e||t<xn(e))return!1;if(e==n)return!0;t=Mi(e)+1,e=e.parentNode}}class $p{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class Mne{constructor(e,t,i,s){this.typeOver=s,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:r,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,i,0))){let l=r||o?[]:Rne(e),c=new _ne(l,e.state);c.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=c.text,this.newSel=One(l,this.bounds.from)}else{let l=e.observer.selectionRange,c=r&&r.node==l.focusNode&&r.offset==l.focusOffset||!uh(e.contentDOM,l.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(l.focusNode,l.focusOffset),a=o&&o.node==l.anchorNode&&o.offset==l.anchorOffset||!uh(e.contentDOM,l.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(l.anchorNode,l.anchorOffset),h=e.viewport;if((J.ios||J.chrome)&&e.state.selection.main.empty&&c!=a&&(h.from>0||h.to<e.state.doc.length)){let u=Math.min(c,a),f=Math.max(c,a),d=h.from-u,p=h.to-f;(d==0||d==1||u==0)&&(p==0||p==-1||f==e.state.doc.length)&&(c=0,a=e.state.doc.length)}this.newSel=P.single(a,c)}}}function $y(n,e){let t,{newSel:i}=e,s=n.state.selection.main,r=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:l}=e.bounds,c=s.from,a=null;(r===8||J.android&&e.text.length<l-o)&&(c=s.to,a="end");let h=Tne(n.state.doc.sliceString(o,l,Is),e.text,c-o,a);h&&(J.chrome&&r==13&&h.toB==h.from+2&&e.text.slice(h.from,h.toB)==Is+Is&&h.toB--,t={from:o+h.from,to:o+h.toA,insert:ye.of(e.text.slice(h.from,h.toB).split(Is))})}else i&&(!n.hasFocus&&n.state.facet(Mn)||i.main.eq(s))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!s.empty&&i&&i.main.empty?t={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,s.to)}:(J.mac||J.android)&&t&&t.from==t.to&&t.from==s.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=P.single(i.main.anchor-1,i.main.head-1)),t={from:t.from,to:t.to,insert:ye.of([t.insert.toString().replace("."," ")])}):t&&t.from>=s.from&&t.to<=s.to&&(t.from!=s.from||t.to!=s.to)&&s.to-s.from-(t.to-t.from)<=4?t={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,s.to))}:J.chrome&&t&&t.from==t.to&&t.from==s.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(i&&(i=P.single(i.main.anchor-1,i.main.head-1)),t={from:s.from,to:s.to,insert:ye.of([" "])}),t)return Lu(n,t,i,r);if(i&&!i.main.eq(s)){let o=!1,l="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(o=!0),l=n.inputState.lastSelectionOrigin),n.dispatch({selection:i,scrollIntoView:o,userEvent:l}),!0}else return!1}function Lu(n,e,t,i=-1){if(J.ios&&n.inputState.flushIOSKey(e))return!0;let s=n.state.selection.main;if(J.android&&(e.to==s.to&&(e.from==s.from||e.from==s.from-1&&n.state.sliceDoc(e.from,s.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&ns(n.contentDOM,"Enter",13)||(e.from==s.from-1&&e.to==s.to&&e.insert.length==0||i==8&&e.insert.length<e.to-e.from&&e.to>s.head)&&ns(n.contentDOM,"Backspace",8)||e.from==s.from&&e.to==s.to+1&&e.insert.length==0&&ns(n.contentDOM,"Delete",46)))return!0;let r=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let o,l=()=>o||(o=Dne(n,e,t));return n.state.facet(My).some(c=>c(n,e.from,e.to,r,l))||n.dispatch(l()),!0}function Dne(n,e,t){let i,s=n.state,r=s.selection.main;if(e.from>=r.from&&e.to<=r.to&&e.to-e.from>=(r.to-r.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let l=r.from<e.from?s.sliceDoc(r.from,e.from):"",c=r.to>e.to?s.sliceDoc(e.to,r.to):"";i=s.replaceSelection(n.state.toText(l+e.insert.sliceString(0,void 0,n.state.lineBreak)+c))}else{let l=s.changes(e),c=t&&t.main.to<=l.newLength?t.main:void 0;if(s.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=r.to&&e.to>=r.to-10){let a=n.state.sliceDoc(e.from,e.to),h,u=t&&Ny(n,t.main.head);if(u){let p=e.insert.length-(e.to-e.from);h={from:u.from,to:u.to-p}}else h=n.state.doc.lineAt(r.head);let f=r.to-e.to,d=r.to-r.from;i=s.changeByRange(p=>{if(p.from==r.from&&p.to==r.to)return{changes:l,range:c||p.map(l)};let m=p.to-f,b=m-a.length;if(p.to-p.from!=d||n.state.sliceDoc(b,m)!=a||p.to>=h.from&&p.from<=h.to)return{range:p};let g=s.changes({from:b,to:m,insert:e.insert}),x=p.to-r.to;return{changes:g,range:c?P.range(Math.max(0,c.anchor+x),Math.max(0,c.head+x)):p.map(g)}})}else i={changes:l,selection:c&&s.selection.replaceRange(c)}}let o="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,o+=".compose",n.inputState.compositionFirstChange&&(o+=".start",n.inputState.compositionFirstChange=!1)),s.update(i,{userEvent:o,scrollIntoView:!0})}function Tne(n,e,t,i){let s=Math.min(n.length,e.length),r=0;for(;r<s&&n.charCodeAt(r)==e.charCodeAt(r);)r++;if(r==s&&n.length==e.length)return null;let o=n.length,l=e.length;for(;o>0&&l>0&&n.charCodeAt(o-1)==e.charCodeAt(l-1);)o--,l--;if(i=="end"){let c=Math.max(0,r-Math.min(o,l));t-=o+c-r}if(o<r&&n.length<e.length){let c=t<=r&&t>=o?r-t:0;r-=c,l=r+(l-o),o=r}else if(l<r){let c=t<=r&&t>=l?r-t:0;r-=c,o=r+(o-l),l=r}return{from:r,toA:o,toB:l}}function Rne(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:s,focusOffset:r}=n.observer.selectionRange;return t&&(e.push(new $p(t,i)),(s!=t||r!=i)&&e.push(new $p(s,r))),e}function One(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?P.single(t+e,i+e):null}class Pne{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,J.safari&&e.contentDOM.addEventListener("input",()=>null),J.gecko&&Yne(e.contentDOM.ownerDocument)}handleEvent(e){!Hne(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let i=this.handlers[e];if(i){for(let s of i.observers)s(this.view,t);for(let s of i.handlers){if(t.defaultPrevented)break;if(s(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=Lne(e),i=this.handlers,s=this.view.contentDOM;for(let r in t)if(r!="scroll"){let o=!t[r].handlers.length,l=i[r];l&&o!=!l.handlers.length&&(s.removeEventListener(r,this.handleEvent),l=null),l||s.addEventListener(r,this.handleEvent,{passive:o})}for(let r in i)r!="scroll"&&!t[r]&&s.removeEventListener(r,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&zy.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),J.android&&J.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return J.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=Hy.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||Bne.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,ns(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:J.safari&&!J.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Hp(n,e){return(t,i)=>{try{return e.call(n,i,t)}catch(s){pt(t.state,s)}}}function Lne(n){let e=Object.create(null);function t(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of n){let s=i.spec,r=s&&s.plugin.domEventHandlers,o=s&&s.plugin.domEventObservers;if(r)for(let l in r){let c=r[l];c&&t(l).handlers.push(Hp(i.value,c))}if(o)for(let l in o){let c=o[l];c&&t(l).observers.push(Hp(i.value,c))}}for(let i in Gt)t(i).handlers.push(Gt[i]);for(let i in $t)t(i).observers.push($t[i]);return e}const Hy=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Bne="dthko",zy=[16,17,18,20,91,92,224,225],Ur=6;function Kr(n){return Math.max(0,n)*.7+8}function Ine(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class Fne{constructor(e,t,i,s){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=s,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=Wte(e.contentDOM),this.atoms=e.state.facet(Ou).map(o=>o(e));let r=e.contentDOM.ownerDocument;r.addEventListener("mousemove",this.move=this.move.bind(this)),r.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(fe.allowMultipleSelections)&&Nne(e,t),this.dragging=$ne(e,t)&&jy(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Ine(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,i=0,s=0,r=0,o=this.view.win.innerWidth,l=this.view.win.innerHeight;this.scrollParents.x&&({left:s,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:r,bottom:l}=this.scrollParents.y.getBoundingClientRect());let c=Pu(this.view);e.clientX-c.left<=s+Ur?t=-Kr(s-e.clientX):e.clientX+c.right>=o-Ur&&(t=Kr(e.clientX-o)),e.clientY-c.top<=r+Ur?i=-Kr(r-e.clientY):e.clientY+c.bottom>=l-Ur&&(i=Kr(e.clientY-l)),this.setScrollSpeed(t,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let i=0;i<e.ranges.length;i++){let s=e.ranges[i],r=null;if(s.empty){let o=xo(this.atoms,s.from,0);o!=s.from&&(r=P.cursor(o,-1))}else{let o=xo(this.atoms,s.from,-1),l=xo(this.atoms,s.to,1);(o!=s.from||l!=s.to)&&(r=P.range(s.from==s.anchor?o:l,s.from==s.head?o:l))}r&&(t||(t=e.ranges.slice()),t[i]=r)}return t?P.create(t,e.mainIndex):e}select(e){let{view:t}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Nne(n,e){let t=n.state.facet(Sy);return t.length?t[0](e):J.mac?e.metaKey:e.ctrlKey}function qne(n,e){let t=n.state.facet(Ay);return t.length?t[0](e):J.mac?!e.altKey:!e.ctrlKey}function $ne(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=fr(n.root);if(!i||i.rangeCount==0)return!0;let s=i.getRangeAt(0).getClientRects();for(let r=0;r<s.length;r++){let o=s[r];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function Hne(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=De.get(t))&&i.ignoreEvent(e))return!1;return!0}const Gt=Object.create(null),$t=Object.create(null),Vy=J.ie&&J.ie_version<15||J.ios&&J.webkit_version<604;function zne(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),Wy(n,t.value)},50)}function wl(n,e,t){for(let i of n.facet(e))t=i(t,n);return t}function Wy(n,e){e=wl(n.state,Du,e);let{state:t}=n,i,s=1,r=t.toText(e),o=r.lines==t.selection.ranges.length;if(Sh!=null&&t.selection.ranges.every(c=>c.empty)&&Sh==r.toString()){let c=-1;i=t.changeByRange(a=>{let h=t.doc.lineAt(a.from);if(h.from==c)return{range:a};c=h.from;let u=t.toText((o?r.line(s++).text:e)+t.lineBreak);return{changes:{from:h.from,insert:u},range:P.cursor(a.from+u.length)}})}else o?i=t.changeByRange(c=>{let a=r.line(s++);return{changes:{from:c.from,to:c.to,insert:a.text},range:P.cursor(c.from+a.length)}}):i=t.replaceSelection(r);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}$t.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};Gt.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);$t.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};$t.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Gt.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let i of n.state.facet(_y))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=jne(n,e)),t){let i=!n.hasFocus;n.inputState.startMouseSelection(new Fne(n,e,t,i)),i&&n.observer.ignore(()=>{ry(n.contentDOM);let r=n.root.activeElement;r&&!r.contains(n.contentDOM)&&r.blur()});let s=n.inputState.mouseSelection;if(s)return s.start(e),s.dragging===!1}return!1};function zp(n,e,t,i){if(i==1)return P.cursor(e,t);if(i==2)return bne(n.state,e,t);{let s=ze.find(n.docView,e),r=n.state.doc.lineAt(s?s.posAtEnd:e),o=s?s.posAtStart:r.from,l=s?s.posAtEnd:r.to;return l<n.state.doc.length&&l==r.to&&l++,P.range(o,l)}}let Vp=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function Vne(n,e,t,i){let s=ze.find(n.docView,e);if(!s)return 1;let r=e-s.posAtStart;if(r==0)return 1;if(r==s.length)return-1;let o=s.coordsAt(r,-1);if(o&&Vp(t,i,o))return-1;let l=s.coordsAt(r,1);return l&&Vp(t,i,l)?1:o&&o.bottom>=i?-1:1}function Wp(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:Vne(n,t,e.clientX,e.clientY)}}const Wne=J.ie&&J.ie_version<=11;let jp=null,Up=0,Kp=0;function jy(n){if(!Wne)return n.detail;let e=jp,t=Kp;return jp=n,Kp=Date.now(),Up=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(Up+1)%3:1}function jne(n,e){let t=Wp(n,e),i=jy(e),s=n.state.selection;return{update(r){r.docChanged&&(t.pos=r.changes.mapPos(t.pos),s=s.map(r.changes))},get(r,o,l){let c=Wp(n,r),a,h=zp(n,c.pos,c.bias,i);if(t.pos!=c.pos&&!o){let u=zp(n,t.pos,t.bias,i),f=Math.min(u.from,h.from),d=Math.max(u.to,h.to);h=f<h.from?P.range(f,d):P.range(d,f)}return o?s.replaceRange(s.main.extend(h.from,h.to)):l&&i==1&&s.ranges.length>1&&(a=Une(s,c.pos))?a:l?s.addRange(h):P.create([h])}}}function Une(n,e){for(let t=0;t<n.ranges.length;t++){let{from:i,to:s}=n.ranges[t];if(i<=e&&s>=e)return P.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}Gt.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let s=n.docView.nearest(e.target);if(s&&s.isWidget){let r=s.posAtStart,o=r+s.length;(r>=t.to||o<=t.from)&&(t=P.range(r,o))}}let{inputState:i}=n;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",wl(n.state,Tu,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Gt.dragend=n=>(n.inputState.draggedContent=null,!1);function Gp(n,e,t,i){if(t=wl(n.state,Du,t),!t)return;let s=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:r}=n.inputState,o=i&&r&&qne(n,e)?{from:r.from,to:r.to}:null,l={from:s,insert:t},c=n.state.changes(o?[o,l]:l);n.focus(),n.dispatch({changes:c,selection:{anchor:c.mapPos(s,-1),head:c.mapPos(s,1)},userEvent:o?"move.drop":"input.drop"}),n.inputState.draggedContent=null}Gt.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let i=Array(t.length),s=0,r=()=>{++s==t.length&&Gp(n,e,i.filter(o=>o!=null).join(n.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let l=new FileReader;l.onerror=r,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(i[o]=l.result),r()},l.readAsText(t[o])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return Gp(n,e,i,!0),!0}return!1};Gt.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=Vy?null:e.clipboardData;return t?(Wy(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(zne(n),!1)};function Kne(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function Gne(n){let e=[],t=[],i=!1;for(let s of n.selection.ranges)s.empty||(e.push(n.sliceDoc(s.from,s.to)),t.push(s));if(!e.length){let s=-1;for(let{from:r}of n.selection.ranges){let o=n.doc.lineAt(r);o.number>s&&(e.push(o.text),t.push({from:o.from,to:Math.min(n.doc.length,o.to+1)})),s=o.number}i=!0}return{text:wl(n,Tu,e.join(n.lineBreak)),ranges:t,linewise:i}}let Sh=null;Gt.copy=Gt.cut=(n,e)=>{let{text:t,ranges:i,linewise:s}=Gne(n.state);if(!t&&!s)return!1;Sh=s?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let r=Vy?null:e.clipboardData;return r?(r.clearData(),r.setData("text/plain",t),!0):(Kne(n,t),!1)};const Uy=Fn.define();function Ky(n,e){let t=[];for(let i of n.facet(Dy)){let s=i(n,e);s&&t.push(s)}return t.length?n.update({effects:t,annotations:Uy.of(!0)}):null}function Gy(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=Ky(n.state,e);t?n.dispatch(t):n.update([])}},10)}$t.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),Gy(n)};$t.blur=n=>{n.observer.clearSelectionRange(),Gy(n)};$t.compositionstart=$t.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};$t.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,J.chrome&&J.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};$t.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Gt.beforeinput=(n,e)=>{var t,i;if(e.inputType=="insertReplacementText"&&n.observer.editContext){let r=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),o=e.getTargetRanges();if(r&&o.length){let l=o[0],c=n.posAtDOM(l.startContainer,l.startOffset),a=n.posAtDOM(l.endContainer,l.endOffset);return Lu(n,{from:c,to:a,insert:n.state.toText(r)},null),!0}}let s;if(J.chrome&&J.android&&(s=Hy.find(r=>r.inputType==e.inputType))&&(n.observer.delayAndroidKey(s.key,s.keyCode),s.key=="Backspace"||s.key=="Delete")){let r=((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>r+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return J.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),J.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>$t.compositionend(n,e),20),!1};const Yp=new Set;function Yne(n){Yp.has(n)||(Yp.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const Jp=["pre-wrap","normal","pre-line","break-spaces"];let ms=!1;function Xp(){ms=!1}class Jne{constructor(e){this.lineWrapping=e,this.doc=ye.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Jp.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let s=e[i];s<0?i++:this.heightSamples[Math.floor(s*10)]||(t=!0,this.heightSamples[Math.floor(s*10)]=!0)}return t}refresh(e,t,i,s,r,o){let l=Jp.indexOf(e)>-1,c=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=l;if(this.lineWrapping=l,this.lineHeight=t,this.charWidth=i,this.textHeight=s,this.lineLength=r,c){this.heightSamples={};for(let a=0;a<o.length;a++){let h=o[a];h<0?a++:this.heightSamples[Math.floor(h*10)]=!0}}return c}}class Xne{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class hn{constructor(e,t,i,s,r){this.from=e,this.length=t,this.top=i,this.height=s,this._content=r}get type(){return typeof this._content=="number"?mt.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof oi?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new hn(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Oe=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(Oe||(Oe={}));const ko=.001;class gt{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>ko&&(ms=!0),this.height=e)}replace(e,t,i){return gt.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,s){let r=this,o=i.doc;for(let l=s.length-1;l>=0;l--){let{fromA:c,toA:a,fromB:h,toB:u}=s[l],f=r.lineAt(c,Oe.ByPosNoHeight,i.setDoc(t),0,0),d=f.to>=a?f:r.lineAt(a,Oe.ByPosNoHeight,i,0,0);for(u+=d.to-a,a=d.to;l>0&&f.from<=s[l-1].toA;)c=s[l-1].fromA,h=s[l-1].fromB,l--,c<f.from&&(f=r.lineAt(c,Oe.ByPosNoHeight,i,0,0));h+=f.from-c,c=f.from;let p=Bu.build(i.setDoc(o),e,h,u);r=Vo(r,r.replace(c,a,p))}return r.updateHeight(i,0)}static empty(){return new Dt(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,s=0,r=0;for(;;)if(t==i)if(s>r*2){let l=e[t-1];l.break?e.splice(--t,1,l.left,null,l.right):e.splice(--t,1,l.left,l.right),i+=1+l.break,s-=l.size}else if(r>s*2){let l=e[i];l.break?e.splice(i,1,l.left,null,l.right):e.splice(i,1,l.left,l.right),i+=2+l.break,r-=l.size}else break;else if(s<r){let l=e[t++];l&&(s+=l.size)}else{let l=e[--i];l&&(r+=l.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,i++),new Zne(gt.of(e.slice(0,t)),o,gt.of(e.slice(i)))}}function Vo(n,e){return n==e?n:(n.constructor!=e.constructor&&(ms=!0),e)}gt.prototype.size=1;class Yy extends gt{constructor(e,t,i){super(e,t),this.deco=i}blockAt(e,t,i,s){return new hn(s,this.length,i,this.height,this.deco||0)}lineAt(e,t,i,s,r){return this.blockAt(0,i,s,r)}forEachLine(e,t,i,s,r,o){e<=r+this.length&&t>=r&&o(this.blockAt(0,i,s,r))}updateHeight(e,t=0,i=!1,s){return s&&s.from<=t&&s.more&&this.setHeight(s.heights[s.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Dt extends Yy{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,i,s){return new hn(s,this.length,i,this.height,this.breaks)}replace(e,t,i){let s=i[0];return i.length==1&&(s instanceof Dt||s instanceof Xe&&s.flags&4)&&Math.abs(this.length-s.length)<10?(s instanceof Xe?s=new Dt(s.length,this.height):s.height=this.height,this.outdated||(s.outdated=!1),s):gt.of(i)}updateHeight(e,t=0,i=!1,s){return s&&s.from<=t&&s.more?this.setHeight(s.heights[s.index++]):(i||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Xe extends gt{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,s=e.doc.lineAt(t+this.length).number,r=s-i+1,o,l=0;if(e.lineWrapping){let c=Math.min(this.height,e.lineHeight*r);o=c/r,this.length>r+1&&(l=(this.height-c)/(this.length-r-1))}else o=this.height/r;return{firstLine:i,lastLine:s,perLine:o,perChar:l}}blockAt(e,t,i,s){let{firstLine:r,lastLine:o,perLine:l,perChar:c}=this.heightMetrics(t,s);if(t.lineWrapping){let a=s+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length)),h=t.doc.lineAt(a),u=l+h.length*c,f=Math.max(i,e-u/2);return new hn(h.from,h.length,f,u,0)}else{let a=Math.max(0,Math.min(o-r,Math.floor((e-i)/l))),{from:h,length:u}=t.doc.line(r+a);return new hn(h,u,i+l*a,l,0)}}lineAt(e,t,i,s,r){if(t==Oe.ByHeight)return this.blockAt(e,i,s,r);if(t==Oe.ByPosNoHeight){let{from:d,to:p}=i.doc.lineAt(e);return new hn(d,p-d,0,0,0)}let{firstLine:o,perLine:l,perChar:c}=this.heightMetrics(i,r),a=i.doc.lineAt(e),h=l+a.length*c,u=a.number-o,f=s+l*u+c*(a.from-r-u);return new hn(a.from,a.length,Math.max(s,Math.min(f,s+this.height-h)),h,0)}forEachLine(e,t,i,s,r,o){e=Math.max(e,r),t=Math.min(t,r+this.length);let{firstLine:l,perLine:c,perChar:a}=this.heightMetrics(i,r);for(let h=e,u=s;h<=t;){let f=i.doc.lineAt(h);if(h==e){let p=f.number-l;u+=c*p+a*(e-r-p)}let d=c+a*f.length;o(new hn(f.from,f.length,u,d,0)),u+=d,h=f.to+1}}replace(e,t,i){let s=this.length-t;if(s>0){let r=i[i.length-1];r instanceof Xe?i[i.length-1]=new Xe(r.length+s):i.push(null,new Xe(s-1))}if(e>0){let r=i[0];r instanceof Xe?i[0]=new Xe(e+r.length):i.unshift(new Xe(e-1),null)}return gt.of(i)}decomposeLeft(e,t){t.push(new Xe(e-1),null)}decomposeRight(e,t){t.push(null,new Xe(this.length-e-1))}updateHeight(e,t=0,i=!1,s){let r=t+this.length;if(s&&s.from<=t+this.length&&s.more){let o=[],l=Math.max(t,s.from),c=-1;for(s.from>t&&o.push(new Xe(s.from-t-1).updateHeight(e,t));l<=r&&s.more;){let h=e.doc.lineAt(l).length;o.length&&o.push(null);let u=s.heights[s.index++];c==-1?c=u:Math.abs(u-c)>=ko&&(c=-2);let f=new Dt(h,u);f.outdated=!1,o.push(f),l+=h+1}l<=r&&o.push(null,new Xe(r-l).updateHeight(e,l));let a=gt.of(o);return(c<0||Math.abs(a.height-this.height)>=ko||Math.abs(c-this.heightMetrics(e,t).perLine)>=ko)&&(ms=!0),Vo(this,a)}else(i||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Zne extends gt{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,s){let r=i+this.left.height;return e<r?this.left.blockAt(e,t,i,s):this.right.blockAt(e,t,r,s+this.left.length+this.break)}lineAt(e,t,i,s,r){let o=s+this.left.height,l=r+this.left.length+this.break,c=t==Oe.ByHeight?e<o:e<l,a=c?this.left.lineAt(e,t,i,s,r):this.right.lineAt(e,t,i,o,l);if(this.break||(c?a.to<l:a.from>l))return a;let h=t==Oe.ByPosNoHeight?Oe.ByPosNoHeight:Oe.ByPos;return c?a.join(this.right.lineAt(l,h,i,o,l)):this.left.lineAt(l,h,i,s,r).join(a)}forEachLine(e,t,i,s,r,o){let l=s+this.left.height,c=r+this.left.length+this.break;if(this.break)e<c&&this.left.forEachLine(e,t,i,s,r,o),t>=c&&this.right.forEachLine(e,t,i,l,c,o);else{let a=this.lineAt(c,Oe.ByPos,i,s,r);e<a.from&&this.left.forEachLine(e,a.from-1,i,s,r,o),a.to>=e&&a.from<=t&&o(a),t>a.to&&this.right.forEachLine(a.to+1,t,i,l,c,o)}}replace(e,t,i){let s=this.left.length+this.break;if(t<s)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-s,t-s,i));let r=[];e>0&&this.decomposeLeft(e,r);let o=r.length;for(let l of i)r.push(l);if(e>0&&Zp(r,o-1),t<this.length){let l=r.length;this.decomposeRight(t,r),Zp(r,l)}return gt.of(r)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,s=i+this.break;if(e>=s)return this.right.decomposeRight(e-s,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<s&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?gt.of(this.break?[e,null,t]:[e,t]):(this.left=Vo(this.left,e),this.right=Vo(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,s){let{left:r,right:o}=this,l=t+r.length+this.break,c=null;return s&&s.from<=t+r.length&&s.more?c=r=r.updateHeight(e,t,i,s):r.updateHeight(e,t,i),s&&s.from<=l+o.length&&s.more?c=o=o.updateHeight(e,l,i,s):o.updateHeight(e,l,i),c?this.balanced(r,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Zp(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof Xe&&(i=n[e+1])instanceof Xe&&n.splice(e-1,3,new Xe(t.length+1+i.length))}const Qne=5;class Bu{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),s=this.nodes[this.nodes.length-1];s instanceof Dt?s.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new Dt(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let s=i.widget?i.widget.estimatedHeight:0,r=i.widget?i.widget.lineBreaks:0;s<0&&(s=this.oracle.lineHeight);let o=t-e;i.block?this.addBlock(new Yy(o,s,i)):(o||r||s>=Qne)&&this.addLineDeco(s,r,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Dt(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new Xe(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Dt)return e;let t=new Dt(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,i){let s=this.ensureLine();s.length+=i,s.collapsed+=i,s.widgetHeight=Math.max(s.widgetHeight,e),s.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Dt)&&!this.isCovered?this.nodes.push(new Dt(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let s of this.nodes)s instanceof Dt&&s.updateHeight(this.oracle,i),i+=s?s.length:1;return this.nodes}static build(e,t,i,s){let r=new Bu(i,e);return de.spans(t,i,s,r,0),r.finish(i)}}function eie(n,e,t){let i=new tie;return de.compare(n,e,t,i,0),i.changes}class tie{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,s){(e<t||i&&i.heightRelevant||s&&s.heightRelevant)&&vo(e,t,this.changes,5)}}function nie(n,e){let t=n.getBoundingClientRect(),i=n.ownerDocument,s=i.defaultView||window,r=Math.max(0,t.left),o=Math.min(s.innerWidth,t.right),l=Math.max(0,t.top),c=Math.min(s.innerHeight,t.bottom);for(let a=n.parentNode;a&&a!=i.body;)if(a.nodeType==1){let h=a,u=window.getComputedStyle(h);if((h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth)&&u.overflow!="visible"){let f=h.getBoundingClientRect();r=Math.max(r,f.left),o=Math.min(o,f.right),l=Math.max(l,f.top),c=Math.min(a==n.parentNode?s.innerHeight:c,f.bottom)}a=u.position=="absolute"||u.position=="fixed"?h.offsetParent:h.parentNode}else if(a.nodeType==11)a=a.host;else break;return{left:r-t.left,right:Math.max(r,o)-t.left,top:l-(t.top+e),bottom:Math.max(l,c)-(t.top+e)}}function iie(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function sie(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class ma{constructor(e,t,i,s){this.from=e,this.to=t,this.size=i,this.displaySize=s}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let s=e[i],r=t[i];if(s.from!=r.from||s.to!=r.to||s.size!=r.size)return!1}return!0}draw(e,t){return se.replace({widget:new rie(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class rie extends Nn{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Qp{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=em,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Pe.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(Ru).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new Jne(t),this.stateDeco=e.facet(dr).filter(i=>typeof i!="function"),this.heightMap=gt.empty().applyChanges(this.stateDeco,ye.empty,this.heightOracle.setDoc(e.doc),[new Ft(0,0,0,e.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=se.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let s=i?t.head:t.anchor;if(!e.some(({from:r,to:o})=>s>=r&&s<=o)){let{from:r,to:o}=this.lineBlockAt(s);e.push(new Gr(r,o))}}return this.viewports=e.sort((i,s)=>i.from-s.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?em:new Iu(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Fs(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(dr).filter(h=>typeof h!="function");let s=e.changedRanges,r=Ft.extendWithRanges(s,eie(i,this.stateDeco,e?e.changes:je.empty(this.state.doc.length))),o=this.heightMap.height,l=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Xp(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),r),(this.heightMap.height!=o||ms)&&(e.flags|=2),l?(this.scrollAnchorPos=e.changes.mapPos(l.from,-1),this.scrollAnchorHeight=l.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=o);let c=r.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<c.from||t.range.head>c.to)||!this.viewportIsAppropriate(c))&&(c=this.getViewport(0,t));let a=c.from!=this.viewport.from||c.to!=this.viewport.to;this.viewport=c,e.flags|=this.updateForViewport(),(a||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Ry)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),s=this.heightOracle,r=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?Pe.RTL:Pe.LTR;let o=this.heightOracle.mustRefreshForWrapping(r),l=t.getBoundingClientRect(),c=o||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let a=0,h=0;if(l.width&&l.height){let{scaleX:v,scaleY:k}=sy(t,l);(v>.005&&Math.abs(this.scaleX-v)>.005||k>.005&&Math.abs(this.scaleY-k)>.005)&&(this.scaleX=v,this.scaleY=k,a|=16,o=c=!0)}let u=(parseInt(i.paddingTop)||0)*this.scaleY,f=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=u||this.paddingBottom!=f)&&(this.paddingTop=u,this.paddingBottom=f,a|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(s.lineWrapping&&(c=!0),this.editorWidth=e.scrollDOM.clientWidth,a|=16);let d=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=d&&(this.scrollAnchorHeight=-1,this.scrollTop=d),this.scrolledToBottom=ly(e.scrollDOM);let p=(this.printing?sie:nie)(t,this.paddingTop),m=p.top-this.pixelViewport.top,b=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let g=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(g!=this.inView&&(this.inView=g,g&&(c=!0)),!this.inView&&!this.scrollTarget&&!iie(e.dom))return 0;let x=l.width;if((this.contentDOMWidth!=x||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=l.width,this.editorHeight=e.scrollDOM.clientHeight,a|=16),c){let v=e.docView.measureVisibleLineHeights(this.viewport);if(s.mustRefreshForHeights(v)&&(o=!0),o||s.lineWrapping&&Math.abs(x-this.contentDOMWidth)>s.charWidth){let{lineHeight:k,charWidth:C,textHeight:A}=e.docView.measureTextSize();o=k>0&&s.refresh(r,k,C,A,Math.max(5,x/C),v),o&&(e.docView.minWidth=0,a|=16)}m>0&&b>0?h=Math.max(m,b):m<0&&b<0&&(h=Math.min(m,b)),Xp();for(let k of this.viewports){let C=k.from==this.viewport.from?v:e.docView.measureVisibleLineHeights(k);this.heightMap=(o?gt.empty().applyChanges(this.stateDeco,ye.empty,this.heightOracle,[new Ft(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(s,0,o,new Xne(k.from,C))}ms&&(a|=2)}let y=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return y&&(a&2&&(a|=this.updateScaler()),this.viewport=this.getViewport(h,this.scrollTarget),a|=this.updateForViewport()),(a&2||y)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),a|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),a}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),s=this.heightMap,r=this.heightOracle,{visibleTop:o,visibleBottom:l}=this,c=new Gr(s.lineAt(o-i*1e3,Oe.ByHeight,r,0,0).from,s.lineAt(l+(1-i)*1e3,Oe.ByHeight,r,0,0).to);if(t){let{head:a}=t.range;if(a<c.from||a>c.to){let h=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),u=s.lineAt(a,Oe.ByPos,r,0,0),f;t.y=="center"?f=(u.top+u.bottom)/2-h/2:t.y=="start"||t.y=="nearest"&&a<c.from?f=u.top:f=u.bottom-h,c=new Gr(s.lineAt(f-1e3/2,Oe.ByHeight,r,0,0).from,s.lineAt(f+h+1e3/2,Oe.ByHeight,r,0,0).to)}}return c}mapViewport(e,t){let i=t.mapPos(e.from,-1),s=t.mapPos(e.to,1);return new Gr(this.heightMap.lineAt(i,Oe.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(s,Oe.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:s}=this.heightMap.lineAt(e,Oe.ByPos,this.heightOracle,0,0),{bottom:r}=this.heightMap.lineAt(t,Oe.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:l}=this;return(e==0||s<=o-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||r>=l+Math.max(10,Math.min(i,250)))&&s>o-2*1e3&&r<l+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let s of e)t.touchesRange(s.from,s.to)||i.push(new ma(t.mapPos(s.from),t.mapPos(s.to),s.size,s.displaySize));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,s=i?1e4:2e3,r=s>>1,o=s<<1;if(this.defaultTextDirection!=Pe.LTR&&!i)return[];let l=[],c=(h,u,f,d)=>{if(u-h<r)return;let p=this.state.selection.main,m=[p.from];p.empty||m.push(p.to);for(let g of m)if(g>h&&g<u){c(h,g-10,f,d),c(g+10,u,f,d);return}let b=lie(e,g=>g.from>=f.from&&g.to<=f.to&&Math.abs(g.from-h)<r&&Math.abs(g.to-u)<r&&!m.some(x=>g.from<x&&g.to>x));if(!b){if(u<f.to&&t&&i&&t.visibleRanges.some(y=>y.from<=u&&y.to>=u)){let y=t.moveToLineBoundary(P.cursor(u),!1,!0).head;y>h&&(u=y)}let g=this.gapSize(f,h,u,d),x=i||g<2e6?g:2e6;b=new ma(h,u,g,x)}l.push(b)},a=h=>{if(h.length<o||h.type!=mt.Text)return;let u=oie(h.from,h.to,this.stateDeco);if(u.total<o)return;let f=this.scrollTarget?this.scrollTarget.range.head:null,d,p;if(i){let m=s/this.heightOracle.lineLength*this.heightOracle.lineHeight,b,g;if(f!=null){let x=Jr(u,f),y=((this.visibleBottom-this.visibleTop)/2+m)/h.height;b=x-y,g=x+y}else b=(this.visibleTop-h.top-m)/h.height,g=(this.visibleBottom-h.top+m)/h.height;d=Yr(u,b),p=Yr(u,g)}else{let m=u.total*this.heightOracle.charWidth,b=s*this.heightOracle.charWidth,g=0;if(m>2e6)for(let C of e)C.from>=h.from&&C.from<h.to&&C.size!=C.displaySize&&C.from*this.heightOracle.charWidth+g<this.pixelViewport.left&&(g=C.size-C.displaySize);let x=this.pixelViewport.left+g,y=this.pixelViewport.right+g,v,k;if(f!=null){let C=Jr(u,f),A=((y-x)/2+b)/m;v=C-A,k=C+A}else v=(x-b)/m,k=(y+b)/m;d=Yr(u,v),p=Yr(u,k)}d>h.from&&c(h.from,d,h,u),p<h.to&&c(p,h.to,h,u)};for(let h of this.viewportLines)Array.isArray(h.type)?h.type.forEach(a):a(h);return l}gapSize(e,t,i,s){let r=Jr(s,i)-Jr(s,t);return this.heightOracle.lineWrapping?e.height*r:s.total*this.heightOracle.charWidth*r}updateLineGaps(e){ma.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=se.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let i=[];de.spans(t,this.viewport.from,this.viewport.to,{span(r,o){i.push({from:r,to:o})},point(){}},20);let s=0;if(i.length!=this.visibleRanges.length)s=12;else for(let r=0;r<i.length&&!(s&8);r++){let o=this.visibleRanges[r],l=i[r];(o.from!=l.from||o.to!=l.to)&&(s|=4,e&&e.mapPos(o.from,-1)==l.from&&e.mapPos(o.to,1)==l.to||(s|=8))}return this.visibleRanges=i,s}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Fs(this.heightMap.lineAt(e,Oe.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||Fs(this.heightMap.lineAt(this.scaler.fromDOM(e),Oe.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Fs(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Gr{constructor(e,t){this.from=e,this.to=t}}function oie(n,e,t){let i=[],s=n,r=0;return de.spans(t,n,e,{span(){},point(o,l){o>s&&(i.push({from:s,to:o}),r+=o-s),s=l}},20),s<e&&(i.push({from:s,to:e}),r+=e-s),{total:r,ranges:i}}function Yr({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let s=0;;s++){let{from:r,to:o}=e[s],l=o-r;if(i<=l)return r+i;i-=l}}function Jr(n,e){let t=0;for(let{from:i,to:s}of n.ranges){if(e<=s){t+=e-i;break}t+=s-i}return t/n.total}function lie(n,e){for(let t of n)if(e(t))return t}const em={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class Iu{constructor(e,t,i){let s=0,r=0,o=0;this.viewports=i.map(({from:l,to:c})=>{let a=t.lineAt(l,Oe.ByPos,e,0,0).top,h=t.lineAt(c,Oe.ByPos,e,0,0).bottom;return s+=h-a,{from:l,to:c,top:a,bottom:h,domTop:0,domBottom:0}}),this.scale=(7e6-s)/(t.height-s);for(let l of this.viewports)l.domTop=o+(l.top-r)*this.scale,o=l.domBottom=l.domTop+(l.bottom-l.top),r=l.bottom}toDOM(e){for(let t=0,i=0,s=0;;t++){let r=t<this.viewports.length?this.viewports[t]:null;if(!r||e<r.top)return s+(e-i)*this.scale;if(e<=r.bottom)return r.domTop+(e-r.top);i=r.bottom,s=r.domBottom}}fromDOM(e){for(let t=0,i=0,s=0;;t++){let r=t<this.viewports.length?this.viewports[t]:null;if(!r||e<r.domTop)return i+(e-s)/this.scale;if(e<=r.domBottom)return r.top+(e-r.domTop);i=r.bottom,s=r.domBottom}}eq(e){return e instanceof Iu?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,i)=>t.from==e.viewports[i].from&&t.to==e.viewports[i].to):!1}}function Fs(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new hn(n.from,n.length,t,i-t,Array.isArray(n._content)?n._content.map(s=>Fs(s,e)):n._content)}const Xr=X.define({combine:n=>n.join(" ")}),Ah=X.define({combine:n=>n.indexOf(!0)>-1}),_h=si.newName(),Jy=si.newName(),Xy=si.newName(),Zy={"&light":"."+Jy,"&dark":"."+Xy};function Eh(n,e,t){return new si(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,s=>{if(s=="&")return n;if(!t||!t[s])throw new RangeError(`Unsupported selector: ${s}`);return t[s]}):n+" "+i}})}const cie=Eh("."+_h,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Zy),aie={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},ga=J.ie&&J.ie_version<=11;class hie{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new jte,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(J.ie&&J.ie_version<=11||J.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&J.android&&e.constructor.EDIT_CONTEXT!==!1&&!(J.chrome&&J.chrome_version<126)&&(this.editContext=new fie(e),e.state.facet(Mn)&&(e.contentDOM.editContext=this.editContext.editContext)),ga&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,s=this.selectionRange;if(i.state.facet(Mn)?i.root.activeElement!=this.dom:!bo(this.dom,s))return;let r=s.anchorNode&&i.docView.nearest(s.anchorNode);if(r&&r.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(J.ie&&J.ie_version<=11||J.android&&J.chrome)&&!i.state.selection.main.empty&&s.focusNode&&Js(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=fr(e.root);if(!t)return!1;let i=J.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&uie(this.view,t)||t;if(!i||this.selectionRange.eq(i))return!1;let s=bo(this.dom,i);return s&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&Kte(this.dom,i)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(i),s&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,aie),ga&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),ga&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let s=()=>{let r=this.delayedAndroidKey;r&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=r.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&r.force&&ns(this.dom,r.key,r.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(s)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,s=!1;for(let r of e){let o=this.readMutation(r);o&&(o.typeOver&&(s=!0),t==-1?{from:t,to:i}=o:(t=Math.min(o.from,t),i=Math.max(o.to,i)))}return{from:t,to:i,typeOver:s}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),s=this.selectionChanged&&bo(this.dom,this.selectionRange);if(e<0&&!s)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let r=new Mne(this.view,e,t,i);return this.view.docView.domChanged={newSel:r.newSel?r.newSel.main:null},r}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let i=this.view.state,s=$y(this.view,t);return this.view.state==i&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),s}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let i=tm(t,e.previousSibling||e.target.previousSibling,-1),s=tm(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:s?t.posBefore(s):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Mn)!=e.state.facet(Mn)&&(e.view.contentDOM.editContext=e.state.facet(Mn)?this.editContext.editContext:null))}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function tm(n,e,t){for(;e;){let i=De.get(e);if(i&&i.parent==n)return i;let s=e.parentNode;e=s!=n.dom?s:t>0?e.nextSibling:e.previousSibling}return null}function nm(n,e){let t=e.startContainer,i=e.startOffset,s=e.endContainer,r=e.endOffset,o=n.docView.domAtPos(n.state.selection.main.anchor);return Js(o.node,o.offset,s,r)&&([t,i,s,r]=[s,r,t,i]),{anchorNode:t,anchorOffset:i,focusNode:s,focusOffset:r}}function uie(n,e){if(e.getComposedRanges){let s=e.getComposedRanges(n.root)[0];if(s)return nm(n,s)}let t=null;function i(s){s.preventDefault(),s.stopImmediatePropagation(),t=s.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",i,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",i,!0),t?nm(n,t):null}class fie{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=i=>{let s=e.state.selection.main,{anchor:r,head:o}=s,l=this.toEditorPos(i.updateRangeStart),c=this.toEditorPos(i.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:i.updateRangeStart,editorBase:l,drifted:!1});let a={from:l,to:c,insert:ye.of(i.text.split(`
`))};if(a.from==this.from&&r<this.from?a.from=r:a.to==this.to&&r>this.to&&(a.to=r),a.from==a.to&&!a.insert.length){let h=P.single(this.toEditorPos(i.selectionStart),this.toEditorPos(i.selectionEnd));h.main.eq(s)||e.dispatch({selection:h,userEvent:"select"});return}if((J.mac||J.android)&&a.from==o-1&&/^\. ?$/.test(i.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(a={from:l,to:c,insert:ye.of([i.text.replace("."," ")])}),this.pendingContextChange=a,!e.state.readOnly){let h=this.to-this.from+(a.to-a.from+a.insert.length);Lu(e,a,P.single(this.toEditorPos(i.selectionStart,h),this.toEditorPos(i.selectionEnd,h)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=i=>{let s=[],r=null;for(let o=this.toEditorPos(i.rangeStart),l=this.toEditorPos(i.rangeEnd);o<l;o++){let c=e.coordsForChar(o);r=c&&new DOMRect(c.left,c.top,c.right-c.left,c.bottom-c.top)||r||new DOMRect,s.push(r)}t.updateCharacterBounds(i.rangeStart,s)},this.handlers.textformatupdate=i=>{let s=[];for(let r of i.getTextFormats()){let o=r.underlineStyle,l=r.underlineThickness;if(o!="None"&&l!="None"){let c=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);if(c<a){let h=`text-decoration: underline ${o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${l=="Thin"?1:2}px`;s.push(se.mark({attributes:{style:h}}).range(c,a))}}}e.dispatch({effects:Py.of(se.set(s))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:i}=this.composing;this.composing=null,i&&this.reset(e.state)}};for(let i in this.handlers)t.addEventListener(i,this.handlers[i]);this.measureReq={read:i=>{this.editContext.updateControlBounds(i.contentDOM.getBoundingClientRect());let s=fr(i.root);s&&s.rangeCount&&this.editContext.updateSelectionBounds(s.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,i=!1,s=this.pendingContextChange;return e.changes.iterChanges((r,o,l,c,a)=>{if(i)return;let h=a.length-(o-r);if(s&&o>=s.to)if(s.from==r&&s.to==o&&s.insert.eq(a)){s=this.pendingContextChange=null,t+=h,this.to+=h;return}else s=null,this.revertPending(e.state);if(r+=t,o+=t,o<=this.from)this.from+=h,this.to+=h;else if(r<this.to){if(r<this.from||o>this.to||this.to-this.from+a.length>3e4){i=!0;return}this.editContext.updateText(this.toContextPos(r),this.toContextPos(o),a.toString()),this.to+=h}t+=h}),s&&!i&&this.revertPending(e.state),!i}update(e){let t=this.pendingContextChange,i=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(i.from,i.to)&&e.transactions.some(s=>!s.isUserEvent("input.type")&&s.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),s=this.toContextPos(t.head);(this.editContext.selectionStart!=i||this.editContext.selectionEnd!=s)&&this.editContext.updateSelection(i,s)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let i=this.composing;return i&&i.drifted?i.editorBase+(e-i.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class W{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:i}=e;this.dispatchTransactions=e.dispatchTransactions||i&&(s=>s.forEach(r=>i(r,this)))||(s=>this.update(s)),this.dispatch=this.dispatch.bind(this),this._root=e.root||Ute(e.parent)||document,this.viewState=new Qp(e.state||fe.create(e)),e.scrollTo&&e.scrollTo.is(jr)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(ji).map(s=>new fa(s));for(let s of this.plugins)s.update(this);this.observer=new hie(this),this.inputState=new Pne(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Lp(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof Ue?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,s,r=this.state;for(let f of e){if(f.startState!=r)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");r=f.state}if(this.destroyed){this.viewState.state=r;return}let o=this.hasFocus,l=0,c=null;e.some(f=>f.annotation(Uy))?(this.inputState.notifiedFocused=o,l=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,c=Ky(r,o),c||(l=1));let a=this.observer.delayedAndroidKey,h=null;if(a?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(r.doc)||!this.state.selection.eq(r.selection))&&(h=null)):this.observer.clear(),r.facet(fe.phrases)!=this.state.facet(fe.phrases))return this.setState(r);s=zo.create(this,r,e),s.flags|=l;let u=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(u&&(u=u.map(f.changes)),f.scrollIntoView){let{main:d}=f.state.selection;u=new is(d.empty?d:P.cursor(d.head,d.head>d.anchor?-1:1))}for(let d of f.effects)d.is(jr)&&(u=d.value.clip(this.state))}this.viewState.update(s,u),this.bidiCache=Wo.update(this.bidiCache,s.changes),s.empty||(this.updatePlugins(s),this.inputState.update(s)),t=this.docView.update(s),this.state.facet(Bs)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(s.startState.facet(Xr)!=s.state.facet(Xr)&&(this.viewState.mustMeasureContent=!0),(t||i||u||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!s.empty)for(let f of this.state.facet(kh))try{f(s)}catch(d){pt(this.state,d,"update listener")}(c||h)&&Promise.resolve().then(()=>{c&&this.state==c.startState&&this.dispatch(c),h&&!$y(this,h)&&a.force&&ns(this.contentDOM,a.key,a.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new Qp(e),this.plugins=e.facet(ji).map(i=>new fa(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new Lp(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(ji),i=e.state.facet(ji);if(t!=i){let s=[];for(let r of i){let o=t.indexOf(r);if(o<0)s.push(new fa(r));else{let l=this.plugins[o];l.mustUpdate=e,s.push(l)}}for(let r of this.plugins)r.mustUpdate!=e&&r.destroy(this);this.plugins=s,this.pluginMap.clear()}else for(let s of this.plugins)s.mustUpdate=e;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this);t!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(i){pt(this.state,i,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,s=i.scrollTop*this.scaleY,{scrollAnchorPos:r,scrollAnchorHeight:o}=this.viewState;Math.abs(s-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let l=0;;l++){if(o<0)if(ly(i))r=-1,o=this.viewState.heightMap.height;else{let d=this.viewState.scrollAnchorAt(s);r=d.from,o=d.top}this.updateState=1;let c=this.viewState.measure(this);if(!c&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let a=[];c&4||([this.measureRequests,a]=[a,this.measureRequests]);let h=a.map(d=>{try{return d.read(this)}catch(p){return pt(this.state,p),im}}),u=zo.create(this,this.state,[]),f=!1;u.flags|=c,t?t.flags|=c:t=u,this.updateState=2,u.empty||(this.updatePlugins(u),this.inputState.update(u),this.updateAttrs(),f=this.docView.update(u),f&&this.docViewUpdate());for(let d=0;d<a.length;d++)if(h[d]!=im)try{let p=a[d];p.write&&p.write(h[d],this)}catch(p){pt(this.state,p)}if(f&&this.docView.updateSelection(!0),!u.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let p=(r<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(r).top)-o;if(p>1||p<-1){s=s+p,i.scrollTop=s/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let l of this.state.facet(kh))l(t)}get themeClasses(){return _h+" "+(this.state.facet(Ah)?Xy:Jy)+" "+this.state.facet(Xr)}updateAttrs(){let e=sm(this,Ly,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Mn)?"true":"false",class:"cm-content",style:`${J.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),sm(this,Ru,t);let i=this.observer.ignore(()=>{let s=gh(this.contentDOM,this.contentAttrs,t),r=gh(this.dom,this.editorAttrs,e);return s||r});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let s of i.effects)if(s.is(W.announce)){t&&(this.announceDOM.textContent=""),t=!1;let r=this.announceDOM.appendChild(document.createElement("div"));r.textContent=s.value}}mountStyles(){this.styleModules=this.state.facet(Bs);let e=this.state.facet(W.cspNonce);si.mount(this.root,this.styleModules.concat(cie).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return pa(this,e,qp(this,e,t,i))}moveByGroup(e,t){return pa(this,e,qp(this,e,t,i=>Sne(this,e.head,i)))}visualLineSide(e,t){let i=this.bidiSpans(e),s=this.textDirectionAt(e.from),r=i[t?i.length-1:0];return P.cursor(r.side(t,s)+e.from,r.forward(!t,s)?1:-1)}moveToLineBoundary(e,t,i=!0){return Cne(this,e,t,i)}moveVertically(e,t,i){return pa(this,e,Ane(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),qy(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let s=this.state.doc.lineAt(e),r=this.bidiSpans(s),o=r[Yn.find(r,e-s.from,-1,t)];return _r(i,o.dir==Pe.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Ty)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>die)return wy(e.length);let t=this.textDirectionAt(e.from),i;for(let r of this.bidiCache)if(r.from==e.from&&r.dir==t&&(r.fresh||ky(r.isolates,i=Pp(this,e))))return r.order;i||(i=Pp(this,e));let s=lne(e.text,t,i);return this.bidiCache.push(new Wo(e.from,e.to,t,i,!0,s)),s}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||J.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{ry(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return jr.of(new is(typeof e=="number"?P.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return jr.of(new is(P.cursor(i.from),"start","start",i.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return qe.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return qe.define(()=>({}),{eventObservers:e})}static theme(e,t){let i=si.newName(),s=[Xr.of(i),Bs.of(Eh(`.${i}`,e))];return t&&t.dark&&s.push(Ah.of(!0)),s}static baseTheme(e){return Li.lowest(Bs.of(Eh("."+_h,e,Zy)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),s=i&&De.get(i)||De.get(e);return((t=s==null?void 0:s.rootView)===null||t===void 0?void 0:t.view)||null}}W.styleModule=Bs;W.inputHandler=My;W.clipboardInputFilter=Du;W.clipboardOutputFilter=Tu;W.scrollHandler=Oy;W.focusChangeEffect=Dy;W.perLineTextDirection=Ty;W.exceptionSink=Ey;W.updateListener=kh;W.editable=Mn;W.mouseSelectionStyle=_y;W.dragMovesSelection=Ay;W.clickAddsSelectionRange=Sy;W.decorations=dr;W.outerDecorations=By;W.atomicRanges=Ou;W.bidiIsolatedRanges=Iy;W.scrollMargins=Fy;W.darkTheme=Ah;W.cspNonce=X.define({combine:n=>n.length?n[0]:""});W.contentAttributes=Ru;W.editorAttributes=Ly;W.lineWrapping=W.contentAttributes.of({class:"cm-lineWrapping"});W.announce=he.define();const die=4096,im={};class Wo{constructor(e,t,i,s,r,o){this.from=e,this.to=t,this.dir=i,this.isolates=s,this.fresh=r,this.order=o}static update(e,t){if(t.empty&&!e.some(r=>r.fresh))return e;let i=[],s=e.length?e[e.length-1].dir:Pe.LTR;for(let r=Math.max(0,e.length-10);r<e.length;r++){let o=e[r];o.dir==s&&!t.touchesRange(o.from,o.to)&&i.push(new Wo(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return i}}function sm(n,e,t){for(let i=n.state.facet(e),s=i.length-1;s>=0;s--){let r=i[s],o=typeof r=="function"?r(n):r;o&&mh(o,t)}return t}const pie=J.mac?"mac":J.windows?"win":J.linux?"linux":"key";function mie(n,e){const t=n.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let s,r,o,l;for(let c=0;c<t.length-1;++c){const a=t[c];if(/^(cmd|meta|m)$/i.test(a))l=!0;else if(/^a(lt)?$/i.test(a))s=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else if(/^s(hift)?$/i.test(a))o=!0;else if(/^mod$/i.test(a))e=="mac"?l=!0:r=!0;else throw new Error("Unrecognized modifier name: "+a)}return s&&(i="Alt-"+i),r&&(i="Ctrl-"+i),l&&(i="Meta-"+i),o&&(i="Shift-"+i),i}function Zr(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const gie=Li.default(W.domEventHandlers({keydown(n,e){return eb(Qy(e.state),n,e,"editor")}})),Dr=X.define({enables:gie}),rm=new WeakMap;function Qy(n){let e=n.facet(Dr),t=rm.get(e);return t||rm.set(e,t=vie(e.reduce((i,s)=>i.concat(s),[]))),t}function yie(n,e,t){return eb(Qy(n.state),e,n,t)}let Un=null;const bie=4e3;function vie(n,e=pie){let t=Object.create(null),i=Object.create(null),s=(o,l)=>{let c=i[o];if(c==null)i[o]=l;else if(c!=l)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},r=(o,l,c,a,h)=>{var u,f;let d=t[o]||(t[o]=Object.create(null)),p=l.split(/ (?!$)/).map(g=>mie(g,e));for(let g=1;g<p.length;g++){let x=p.slice(0,g).join(" ");s(x,!0),d[x]||(d[x]={preventDefault:!0,stopPropagation:!1,run:[y=>{let v=Un={view:y,prefix:x,scope:o};return setTimeout(()=>{Un==v&&(Un=null)},bie),!0}]})}let m=p.join(" ");s(m,!1);let b=d[m]||(d[m]={preventDefault:!1,stopPropagation:!1,run:((f=(u=d._any)===null||u===void 0?void 0:u.run)===null||f===void 0?void 0:f.slice())||[]});c&&b.run.push(c),a&&(b.preventDefault=!0),h&&(b.stopPropagation=!0)};for(let o of n){let l=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let a of l){let h=t[a]||(t[a]=Object.create(null));h._any||(h._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:u}=o;for(let f in h)h[f].run.push(d=>u(d,Mh))}let c=o[e]||o.key;if(c)for(let a of l)r(a,c,o.run,o.preventDefault,o.stopPropagation),o.shift&&r(a,"Shift-"+c,o.shift,o.preventDefault,o.stopPropagation)}return t}let Mh=null;function eb(n,e,t,i){Mh=e;let s=Hte(e),r=xt(s,0),o=an(r)==s.length&&s!=" ",l="",c=!1,a=!1,h=!1;Un&&Un.view==t&&Un.scope==i&&(l=Un.prefix+" ",zy.indexOf(e.keyCode)<0&&(a=!0,Un=null));let u=new Set,f=b=>{if(b){for(let g of b.run)if(!u.has(g)&&(u.add(g),g(t)))return b.stopPropagation&&(h=!0),!0;b.preventDefault&&(b.stopPropagation&&(h=!0),a=!0)}return!1},d=n[i],p,m;return d&&(f(d[l+Zr(s,e,!o)])?c=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(J.windows&&e.ctrlKey&&e.altKey)&&!(J.mac&&e.altKey&&!e.ctrlKey)&&(p=ri[e.keyCode])&&p!=s?(f(d[l+Zr(p,e,!0)])||e.shiftKey&&(m=ur[e.keyCode])!=s&&m!=p&&f(d[l+Zr(m,e,!1)]))&&(c=!0):o&&e.shiftKey&&f(d[l+Zr(s,e,!0)])&&(c=!0),!c&&f(d._any)&&(c=!0)),a&&(c=!0),c&&h&&e.stopPropagation(),Mh=null,c}class Tr{constructor(e,t,i,s,r){this.className=e,this.left=t,this.top=i,this.width=s,this.height=r}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,i){if(i.empty){let s=e.coordsAtPos(i.head,i.assoc||1);if(!s)return[];let r=tb(e);return[new Tr(t,s.left-r.left,s.top-r.top,null,s.bottom-s.top)]}else return xie(e,t,i)}}function tb(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==Pe.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function om(n,e,t,i){let s=n.coordsAtPos(e,t*2);if(!s)return i;let r=n.dom.getBoundingClientRect(),o=(s.top+s.bottom)/2,l=n.posAtCoords({x:r.left+1,y:o}),c=n.posAtCoords({x:r.right-1,y:o});return l==null||c==null?i:{from:Math.max(i.from,Math.min(l,c)),to:Math.min(i.to,Math.max(l,c))}}function xie(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let i=Math.max(t.from,n.viewport.from),s=Math.min(t.to,n.viewport.to),r=n.textDirection==Pe.LTR,o=n.contentDOM,l=o.getBoundingClientRect(),c=tb(n),a=o.querySelector(".cm-line"),h=a&&window.getComputedStyle(a),u=l.left+(h?parseInt(h.paddingLeft)+Math.min(0,parseInt(h.textIndent)):0),f=l.right-(h?parseInt(h.paddingRight):0),d=Ch(n,i,1),p=Ch(n,s,-1),m=d.type==mt.Text?d:null,b=p.type==mt.Text?p:null;if(m&&(n.lineWrapping||d.widgetLineBreaks)&&(m=om(n,i,1,m)),b&&(n.lineWrapping||p.widgetLineBreaks)&&(b=om(n,s,-1,b)),m&&b&&m.from==b.from&&m.to==b.to)return x(y(t.from,t.to,m));{let k=m?y(t.from,null,m):v(d,!1),C=b?y(null,t.to,b):v(p,!0),A=[];return(m||d).to<(b||p).from-(m&&b?1:0)||d.widgetLineBreaks>1&&k.bottom+n.defaultLineHeight/2<C.top?A.push(g(u,k.bottom,f,C.top)):k.bottom<C.top&&n.elementAtHeight((k.bottom+C.top)/2).type==mt.Text&&(k.bottom=C.top=(k.bottom+C.top)/2),x(k).concat(A).concat(x(C))}function g(k,C,A,M){return new Tr(e,k-c.left,C-c.top,A-k,M-C)}function x({top:k,bottom:C,horizontal:A}){let M=[];for(let R=0;R<A.length;R+=2)M.push(g(A[R],k,A[R+1],C));return M}function y(k,C,A){let M=1e9,R=-1e9,T=[];function I(_,$,Y,ee,oe){let ce=n.coordsAtPos(_,_==A.to?-2:2),Q=n.coordsAtPos(Y,Y==A.from?2:-2);!ce||!Q||(M=Math.min(ce.top,Q.top,M),R=Math.max(ce.bottom,Q.bottom,R),oe==Pe.LTR?T.push(r&&$?u:ce.left,r&&ee?f:Q.right):T.push(!r&&ee?u:Q.left,!r&&$?f:ce.right))}let N=k??A.from,D=C??A.to;for(let _ of n.visibleRanges)if(_.to>N&&_.from<D)for(let $=Math.max(_.from,N),Y=Math.min(_.to,D);;){let ee=n.state.doc.lineAt($);for(let oe of n.bidiSpans(ee)){let ce=oe.from+ee.from,Q=oe.to+ee.from;if(ce>=Y)break;Q>$&&I(Math.max(ce,$),k==null&&ce<=N,Math.min(Q,Y),C==null&&Q>=D,oe.dir)}if($=ee.to+1,$>=Y)break}return T.length==0&&I(N,k==null,D,C==null,n.textDirection),{top:M,bottom:R,horizontal:T}}function v(k,C){let A=l.top+(C?k.top:k.bottom);return{top:A,bottom:A,horizontal:[]}}}function kie(n,e){return n.constructor==e.constructor&&n.eq(e)}class wie{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(wo)!=e.state.facet(wo)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,i=e.facet(wo);for(;t<i.length&&i[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,i)=>!kie(t,this.drawn[i]))){let t=this.dom.firstChild,i=0;for(let s of e)s.update&&t&&s.constructor&&this.drawn[i].constructor&&s.update(t,this.drawn[i])?(t=t.nextSibling,i++):this.dom.insertBefore(s.draw(),t);for(;t;){let s=t.nextSibling;t.remove(),t=s}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const wo=X.define();function nb(n){return[qe.define(e=>new wie(e,n)),wo.of(n)]}const pr=X.define({combine(n){return Yt(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function ib(n={}){return[pr.of(n),Cie,Sie,Aie,Ry.of(!0)]}function sb(n){return n.startState.facet(pr)!=n.state.facet(pr)}const Cie=nb({above:!0,markers(n){let{state:e}=n,t=e.facet(pr),i=[];for(let s of e.selection.ranges){let r=s==e.selection.main;if(s.empty||t.drawRangeCursor){let o=r?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",l=s.empty?s:P.cursor(s.head,s.head>s.anchor?-1:1);for(let c of Tr.forRange(n,o,l))i.push(c)}}return i},update(n,e){n.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=sb(n);return t&&lm(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){lm(e.state,n)},class:"cm-cursorLayer"});function lm(n,e){e.style.animationDuration=n.facet(pr).cursorBlinkRate+"ms"}const Sie=nb({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:Tr.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||sb(n)},class:"cm-selectionLayer"}),Aie=Li.highest(W.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),rb=he.define({map(n,e){return n==null?null:e.mapPos(n)}}),Ns=Ke.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,i)=>i.is(rb)?i.value:t,n)}}),_ie=qe.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(Ns);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(Ns)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(Ns),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let i=n.scrollDOM.getBoundingClientRect();return{left:t.left-i.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-i.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(Ns)!=n&&this.view.dispatch({effects:rb.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Eie(){return[Ns,_ie]}function cm(n,e,t,i,s){e.lastIndex=0;for(let r=n.iterRange(t,i),o=t,l;!r.next().done;o+=r.value.length)if(!r.lineBreak)for(;l=e.exec(r.value);)s(o+l.index,l)}function Mie(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let i=[];for(let{from:s,to:r}of t)s=Math.max(n.state.doc.lineAt(s).from,s-e),r=Math.min(n.state.doc.lineAt(r).to,r+e),i.length&&i[i.length-1].to>=s?i[i.length-1].to=r:i.push({from:s,to:r});return i}class Die{constructor(e){const{regexp:t,decoration:i,decorate:s,boundary:r,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,s)this.addMatch=(l,c,a,h)=>s(h,a,a+l[0].length,l,c);else if(typeof i=="function")this.addMatch=(l,c,a,h)=>{let u=i(l,c,a);u&&h(a,a+l[0].length,u)};else if(i)this.addMatch=(l,c,a,h)=>h(a,a+l[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=r,this.maxLength=o}createDeco(e){let t=new Ln,i=t.add.bind(t);for(let{from:s,to:r}of Mie(e,this.maxLength))cm(e.state.doc,this.regexp,s,r,(o,l)=>this.addMatch(l,e,o,i));return t.finish()}updateDeco(e,t){let i=1e9,s=-1;return e.docChanged&&e.changes.iterChanges((r,o,l,c)=>{c>=e.view.viewport.from&&l<=e.view.viewport.to&&(i=Math.min(l,i),s=Math.max(c,s))}),e.viewportMoved||s-i>1e3?this.createDeco(e.view):s>-1?this.updateRange(e.view,t.map(e.changes),i,s):t}updateRange(e,t,i,s){for(let r of e.visibleRanges){let o=Math.max(r.from,i),l=Math.min(r.to,s);if(l>=o){let c=e.state.doc.lineAt(o),a=c.to<l?e.state.doc.lineAt(l):c,h=Math.max(r.from,c.from),u=Math.min(r.to,a.to);if(this.boundary){for(;o>c.from;o--)if(this.boundary.test(c.text[o-1-c.from])){h=o;break}for(;l<a.to;l++)if(this.boundary.test(a.text[l-a.from])){u=l;break}}let f=[],d,p=(m,b,g)=>f.push(g.range(m,b));if(c==a)for(this.regexp.lastIndex=h-c.from;(d=this.regexp.exec(c.text))&&d.index<u-c.from;)this.addMatch(d,e,d.index+c.from,p);else cm(e.state.doc,this.regexp,h,u,(m,b)=>this.addMatch(b,e,m,p));t=t.update({filterFrom:h,filterTo:u,filter:(m,b)=>m<h||b>u,add:f})}}return t}}const Dh=/x/.unicode!=null?"gu":"g",Tie=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,Dh),Rie={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let ya=null;function Oie(){var n;if(ya==null&&typeof document<"u"&&document.body){let e=document.body.style;ya=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return ya||!1}const Co=X.define({combine(n){let e=Yt(n,{render:null,specialChars:Tie,addSpecialChars:null});return(e.replaceTabs=!Oie())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Dh)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Dh)),e}});function ob(n={}){return[Co.of(n),Pie()]}let am=null;function Pie(){return am||(am=qe.fromClass(class{constructor(n){this.view=n,this.decorations=se.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(Co)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new Die({regexp:n.specialChars,decoration:(e,t,i)=>{let{doc:s}=t.state,r=xt(e[0],0);if(r==9){let o=s.lineAt(i),l=t.state.tabSize,c=xs(o.text,l,i-o.from);return se.replace({widget:new Fie((l-c%l)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[r]||(this.decorationCache[r]=se.replace({widget:new Iie(n,r)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(Co);n.startState.facet(Co)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const Lie="";function Bie(n){return n>=32?Lie:n==10?"":String.fromCharCode(9216+n)}class Iie extends Nn{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=Bie(this.code),i=e.state.phrase("Control character")+" "+(Rie[this.code]||"0x"+this.code.toString(16)),s=this.options.render&&this.options.render(this.code,i,t);if(s)return s;let r=document.createElement("span");return r.textContent=t,r.title=i,r.setAttribute("aria-label",i),r.className="cm-specialChar",r}ignoreEvent(){return!1}}class Fie extends Nn{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function Nie(){return $ie}const qie=se.line({class:"cm-activeLine"}),$ie=qe.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let i of n.state.selection.ranges){let s=n.lineBlockAt(i.head);s.from>e&&(t.push(qie.range(s.from)),e=s.from)}return se.set(t)}},{decorations:n=>n.decorations});class Hie extends Nn{constructor(e){super(),this.content=e}toDOM(e){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),t.setAttribute("aria-hidden","true"),t}coordsAt(e){let t=e.firstChild?fs(e.firstChild):[];if(!t.length)return null;let i=window.getComputedStyle(e.parentNode),s=_r(t[0],i.direction!="rtl"),r=parseInt(i.lineHeight);return s.bottom-s.top>r*1.5?{left:s.left,right:s.right,top:s.top,bottom:s.top+r}:s}ignoreEvent(){return!1}}function lb(n){let e=qe.fromClass(class{constructor(t){this.view=t,this.placeholder=n?se.set([se.widget({widget:new Hie(n),side:1}).range(0)]):se.none}get decorations(){return this.view.state.doc.length?se.none:this.placeholder}},{decorations:t=>t.decorations});return typeof n=="string"?[e,W.contentAttributes.of({"aria-placeholder":n})]:e}const Th=2e3;function zie(n,e,t){let i=Math.min(e.line,t.line),s=Math.max(e.line,t.line),r=[];if(e.off>Th||t.off>Th||e.col<0||t.col<0){let o=Math.min(e.off,t.off),l=Math.max(e.off,t.off);for(let c=i;c<=s;c++){let a=n.doc.line(c);a.length<=l&&r.push(P.range(a.from+o,a.to+l))}}else{let o=Math.min(e.col,t.col),l=Math.max(e.col,t.col);for(let c=i;c<=s;c++){let a=n.doc.line(c),h=ch(a.text,o,n.tabSize,!0);if(h<0)r.push(P.cursor(a.to));else{let u=ch(a.text,l,n.tabSize);r.push(P.range(a.from+h,a.from+u))}}}return r}function Vie(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function hm(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),i=n.state.doc.lineAt(t),s=t-i.from,r=s>Th?-1:s==i.length?Vie(n,e.clientX):xs(i.text,n.state.tabSize,t-i.from);return{line:i.number,col:r,off:s}}function Wie(n,e){let t=hm(n,e),i=n.state.selection;return t?{update(s){if(s.docChanged){let r=s.changes.mapPos(s.startState.doc.line(t.line).from),o=s.state.doc.lineAt(r);t={line:o.number,col:t.col,off:Math.min(t.off,o.length)},i=i.map(s.changes)}},get(s,r,o){let l=hm(n,s);if(!l)return i;let c=zie(n.state,t,l);return c.length?o?P.create(c.concat(i.ranges)):P.create(c):i}}:null}function jie(n){let e=t=>t.altKey&&t.button==0;return W.mouseSelectionStyle.of((t,i)=>e(i)?Wie(t,i):null)}const Uie={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},Kie={style:"cursor: crosshair"};function Gie(n={}){let[e,t]=Uie[n.key||"Alt"],i=qe.fromClass(class{constructor(s){this.view=s,this.isDown=!1}set(s){this.isDown!=s&&(this.isDown=s,this.view.update([]))}},{eventObservers:{keydown(s){this.set(s.keyCode==e||t(s))},keyup(s){(s.keyCode==e||!t(s))&&this.set(!1)},mousemove(s){this.set(t(s))}}});return[i,W.contentAttributes.of(s=>{var r;return!((r=s.plugin(i))===null||r===void 0)&&r.isDown?Kie:null})]}const Ts="-10000px";class cb{constructor(e,t,i,s){this.facet=t,this.createTooltipView=i,this.removeTooltipView=s,this.input=e.state.facet(t),this.tooltips=this.input.filter(o=>o);let r=null;this.tooltipViews=this.tooltips.map(o=>r=i(o,r))}update(e,t){var i;let s=e.state.facet(this.facet),r=s.filter(c=>c);if(s===this.input){for(let c of this.tooltipViews)c.update&&c.update(e);return!1}let o=[],l=t?[]:null;for(let c=0;c<r.length;c++){let a=r[c],h=-1;if(a){for(let u=0;u<this.tooltips.length;u++){let f=this.tooltips[u];f&&f.create==a.create&&(h=u)}if(h<0)o[c]=this.createTooltipView(a,c?o[c-1]:null),l&&(l[c]=!!a.above);else{let u=o[c]=this.tooltipViews[h];l&&(l[c]=t[h]),u.update&&u.update(e)}}}for(let c of this.tooltipViews)o.indexOf(c)<0&&(this.removeTooltipView(c),(i=c.destroy)===null||i===void 0||i.call(c));return t&&(l.forEach((c,a)=>t[a]=c),t.length=l.length),this.input=s,this.tooltips=r,this.tooltipViews=o,!0}}function Yie(n){let e=n.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const ba=X.define({combine:n=>{var e,t,i;return{position:J.ios?"absolute":((e=n.find(s=>s.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(s=>s.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=n.find(s=>s.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||Yie}}}),um=new WeakMap,Fu=qe.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(ba);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new cb(n,Cl,(t,i)=>this.createTooltip(t,i),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,i=n.state.facet(ba);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let s of this.manager.tooltipViews)s.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let s of this.manager.tooltipViews)this.container.appendChild(s.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),i=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let s=document.createElement("div");s.className="cm-tooltip-arrow",t.dom.appendChild(s)}return t.dom.style.position=this.position,t.dom.style.top=Ts,t.dom.style.left="0px",this.container.insertBefore(t.dom,i),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let i of this.manager.tooltipViews)i.dom.remove(),(n=i.destroy)===null||n===void 0||n.call(i);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:r}=this.manager.tooltipViews[0];if(J.gecko)t=r.offsetParent!=this.container.ownerDocument.body;else if(r.style.top==Ts&&r.style.left=="0px"){let o=r.getBoundingClientRect();t=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(t||this.position=="absolute")if(this.parent){let r=this.parent.getBoundingClientRect();r.width&&r.height&&(n=r.width/this.parent.offsetWidth,e=r.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let i=this.view.scrollDOM.getBoundingClientRect(),s=Pu(this.view);return{visible:{left:i.left+s.left,top:i.top+s.top,right:i.right-s.right,bottom:i.bottom-s.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((r,o)=>{let l=this.manager.tooltipViews[o];return l.getCoords?l.getCoords(r.pos):this.view.coordsAtPos(r.pos)}),size:this.manager.tooltipViews.map(({dom:r})=>r.getBoundingClientRect()),space:this.view.state.facet(ba).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:t}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let l of this.manager.tooltipViews)l.dom.style.position="absolute"}let{visible:t,space:i,scaleX:s,scaleY:r}=n,o=[];for(let l=0;l<this.manager.tooltips.length;l++){let c=this.manager.tooltips[l],a=this.manager.tooltipViews[l],{dom:h}=a,u=n.pos[l],f=n.size[l];if(!u||c.clip!==!1&&(u.bottom<=Math.max(t.top,i.top)||u.top>=Math.min(t.bottom,i.bottom)||u.right<Math.max(t.left,i.left)-.1||u.left>Math.min(t.right,i.right)+.1)){h.style.top=Ts;continue}let d=c.arrow?a.dom.querySelector(".cm-tooltip-arrow"):null,p=d?7:0,m=f.right-f.left,b=(e=um.get(a))!==null&&e!==void 0?e:f.bottom-f.top,g=a.offset||Xie,x=this.view.textDirection==Pe.LTR,y=f.width>i.right-i.left?x?i.left:i.right-f.width:x?Math.max(i.left,Math.min(u.left-(d?14:0)+g.x,i.right-m)):Math.min(Math.max(i.left,u.left-m+(d?14:0)-g.x),i.right-m),v=this.above[l];!c.strictSide&&(v?u.top-b-p-g.y<i.top:u.bottom+b+p+g.y>i.bottom)&&v==i.bottom-u.bottom>u.top-i.top&&(v=this.above[l]=!v);let k=(v?u.top-i.top:i.bottom-u.bottom)-p;if(k<b&&a.resize!==!1){if(k<this.view.defaultLineHeight){h.style.top=Ts;continue}um.set(a,b),h.style.height=(b=k)/r+"px"}else h.style.height&&(h.style.height="");let C=v?u.top-b-p-g.y:u.bottom+p+g.y,A=y+m;if(a.overlap!==!0)for(let M of o)M.left<A&&M.right>y&&M.top<C+b&&M.bottom>C&&(C=v?M.top-b-2-p:M.bottom+p+2);if(this.position=="absolute"?(h.style.top=(C-n.parent.top)/r+"px",fm(h,(y-n.parent.left)/s)):(h.style.top=C/r+"px",fm(h,y/s)),d){let M=u.left+(x?g.x:-g.x)-(y+14-7);d.style.left=M/s+"px"}a.overlap!==!0&&o.push({left:y,top:C,right:A,bottom:C+b}),h.classList.toggle("cm-tooltip-above",v),h.classList.toggle("cm-tooltip-below",!v),a.positioned&&a.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Ts}},{eventObservers:{scroll(){this.maybeMeasure()}}});function fm(n,e){let t=parseInt(n.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(n.style.left=e+"px")}const Jie=W.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Xie={x:0,y:0},Cl=X.define({enables:[Fu,Jie]}),jo=X.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class Sl{static create(e){return new Sl(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new cb(e,jo,(t,i)=>this.createHostedView(t,i),t=>t.dom.remove())}createHostedView(e,t){let i=e.create(this.view);return i.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(i.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&i.mount&&i.mount(this.view),i}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let i of this.manager.tooltipViews){let s=i[e];if(s!==void 0){if(t===void 0)t=s;else if(t!==s)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const Zie=Cl.compute([jo],n=>{let e=n.facet(jo);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var i;return(i=t.end)!==null&&i!==void 0?i:t.pos})),create:Sl.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class Qie{constructor(e,t,i,s,r){this.view=e,this.source=t,this.field=i,this.setHover=s,this.hoverTime=r,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,i=e.docView.nearest(t.target);if(!i)return;let s,r=1;if(i instanceof Gn)s=i.posAtStart;else{if(s=e.posAtCoords(t),s==null)return;let l=e.coordsAtPos(s);if(!l||t.y<l.top||t.y>l.bottom||t.x<l.left-e.defaultCharacterWidth||t.x>l.right+e.defaultCharacterWidth)return;let c=e.bidiSpans(e.state.doc.lineAt(s)).find(h=>h.from<=s&&h.to>=s),a=c&&c.dir==Pe.RTL?-1:1;r=t.x<l.left?-a:a}let o=this.source(e,s,r);if(o!=null&&o.then){let l=this.pending={pos:s};o.then(c=>{this.pending==l&&(this.pending=null,c&&!(Array.isArray(c)&&!c.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(c)?c:[c])}))},c=>pt(e.state,c,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(Fu),t=e?e.manager.tooltips.findIndex(i=>i.create==Sl.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,i;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:s,tooltip:r}=this;if(s.length&&r&&!ese(r.dom,e)||this.pending){let{pos:o}=s[0]||this.pending,l=(i=(t=s[0])===null||t===void 0?void 0:t.end)!==null&&i!==void 0?i:o;(o==l?this.view.posAtCoords(this.lastMove)!=o:!tse(this.view,o,l,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:i}=this;i&&i.dom.contains(e.relatedTarget)?this.watchTooltipLeave(i.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=i=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(i.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Qr=4;function ese(n,e){let{left:t,right:i,top:s,bottom:r}=n.getBoundingClientRect(),o;if(o=n.querySelector(".cm-tooltip-arrow")){let l=o.getBoundingClientRect();s=Math.min(l.top,s),r=Math.max(l.bottom,r)}return e.clientX>=t-Qr&&e.clientX<=i+Qr&&e.clientY>=s-Qr&&e.clientY<=r+Qr}function tse(n,e,t,i,s,r){let o=n.scrollDOM.getBoundingClientRect(),l=n.documentTop+n.documentPadding.top+n.contentHeight;if(o.left>i||o.right<i||o.top>s||Math.min(o.bottom,l)<s)return!1;let c=n.posAtCoords({x:i,y:s},!1);return c>=e&&c<=t}function nse(n,e={}){let t=he.define(),i=Ke.define({create(){return[]},update(s,r){if(s.length&&(e.hideOnChange&&(r.docChanged||r.selection)?s=[]:e.hideOn&&(s=s.filter(o=>!e.hideOn(r,o))),r.docChanged)){let o=[];for(let l of s){let c=r.changes.mapPos(l.pos,-1,dt.TrackDel);if(c!=null){let a=Object.assign(Object.create(null),l);a.pos=c,a.end!=null&&(a.end=r.changes.mapPos(a.end)),o.push(a)}}s=o}for(let o of r.effects)o.is(t)&&(s=o.value),o.is(ise)&&(s=[]);return s},provide:s=>jo.from(s)});return{active:i,extension:[i,qe.define(s=>new Qie(s,n,i,t,e.hoverTime||300)),Zie]}}function ab(n,e){let t=n.plugin(Fu);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}const ise=he.define(),dm=X.define({combine(n){let e,t;for(let i of n)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}});function mr(n,e){let t=n.plugin(hb),i=t?t.specs.indexOf(e):-1;return i>-1?t.panels[i]:null}const hb=qe.fromClass(class{constructor(n){this.input=n.state.facet(gr),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(dm);this.top=new eo(n,!0,e.topContainer),this.bottom=new eo(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(dm);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new eo(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new eo(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(gr);if(t!=this.input){let i=t.filter(c=>c),s=[],r=[],o=[],l=[];for(let c of i){let a=this.specs.indexOf(c),h;a<0?(h=c(n.view),l.push(h)):(h=this.panels[a],h.update&&h.update(n)),s.push(h),(h.top?r:o).push(h)}this.specs=i,this.panels=s,this.top.sync(r),this.bottom.sync(o);for(let c of l)c.dom.classList.add("cm-panel"),c.mount&&c.mount()}else for(let i of this.panels)i.update&&i.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>W.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class eo{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=pm(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=pm(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function pm(n){let e=n.nextSibling;return n.remove(),e}const gr=X.define({enables:hb});class kn extends Ei{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}kn.prototype.elementClass="";kn.prototype.toDOM=void 0;kn.prototype.mapMode=dt.TrackBefore;kn.prototype.startSide=kn.prototype.endSide=-1;kn.prototype.point=!0;const So=X.define(),sse=X.define(),rse={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>de.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},Zs=X.define();function ub(n){return[fb(),Zs.of({...rse,...n})]}const mm=X.define({combine:n=>n.some(e=>e)});function fb(n){return[ose]}const ose=qe.fromClass(class{constructor(n){this.view=n,this.domAfter=null,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(Zs).map(e=>new ym(n,e)),this.fixed=!n.state.facet(mm);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}if(n.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(mm)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=de.iter(this.view.state.facet(So),this.view.viewport.from),i=[],s=this.gutters.map(r=>new lse(r,this.view.viewport,-this.view.documentPadding.top));for(let r of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(r.type)){let o=!0;for(let l of r.type)if(l.type==mt.Text&&o){Rh(t,i,l.from);for(let c of s)c.line(this.view,l,i);o=!1}else if(l.widget)for(let c of s)c.widget(this.view,l)}else if(r.type==mt.Text){Rh(t,i,r.from);for(let o of s)o.line(this.view,r,i)}else if(r.widget)for(let o of s)o.widget(this.view,r);for(let r of s)r.finish();n&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(n){let e=n.startState.facet(Zs),t=n.state.facet(Zs),i=n.docChanged||n.heightChanged||n.viewportChanged||!de.eq(n.startState.facet(So),n.state.facet(So),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let s of this.gutters)s.update(n)&&(i=!0);else{i=!0;let s=[];for(let r of t){let o=e.indexOf(r);o<0?s.push(new ym(this.view,r)):(this.gutters[o].update(n),s.push(this.gutters[o]))}for(let r of this.gutters)r.dom.remove(),s.indexOf(r)<0&&r.destroy();for(let r of s)r.config.side=="after"?this.getDOMAfter().appendChild(r.dom):this.dom.appendChild(r.dom);this.gutters=s}return i}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:n=>W.scrollMargins.of(e=>{let t=e.plugin(n);if(!t||t.gutters.length==0||!t.fixed)return null;let i=t.dom.offsetWidth*e.scaleX,s=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==Pe.LTR?{left:i,right:s}:{right:i,left:s}})});function gm(n){return Array.isArray(n)?n:[n]}function Rh(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class lse{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=de.iter(e.markers,t.from)}addElement(e,t,i){let{gutter:s}=this,r=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==s.elements.length){let l=new db(e,o,r,i);s.elements.push(l),s.dom.appendChild(l.dom)}else s.elements[this.i].update(e,o,r,i);this.height=t.bottom,this.i++}line(e,t,i){let s=[];Rh(this.cursor,s,t.from),i.length&&(s=s.concat(i));let r=this.gutter.config.lineMarker(e,t,s);r&&s.unshift(r);let o=this.gutter;s.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,s)}widget(e,t){let i=this.gutter.config.widgetMarker(e,t.widget,t),s=i?[i]:null;for(let r of e.state.facet(sse)){let o=r(e,t.widget,t);o&&(s||(s=[])).push(o)}s&&this.addElement(e,t,s)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class ym{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,s=>{let r=s.target,o;if(r!=this.dom&&this.dom.contains(r)){for(;r.parentNode!=this.dom;)r=r.parentNode;let c=r.getBoundingClientRect();o=(c.top+c.bottom)/2}else o=s.clientY;let l=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[i](e,l,s)&&s.preventDefault()});this.markers=gm(t.markers(e)),t.initialSpacer&&(this.spacer=new db(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=gm(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let s=this.config.updateSpacer(this.spacer.markers[0],e);s!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[s])}let i=e.view.viewport;return!de.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class db{constructor(e,t,i,s){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,s)}update(e,t,i,s){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),cse(this.markers,s)||this.setMarkers(e,s)}setMarkers(e,t){let i="cm-gutterElement",s=this.dom.firstChild;for(let r=0,o=0;;){let l=o,c=r<t.length?t[r++]:null,a=!1;if(c){let h=c.elementClass;h&&(i+=" "+h);for(let u=o;u<this.markers.length;u++)if(this.markers[u].compare(c)){l=u,a=!0;break}}else l=this.markers.length;for(;o<l;){let h=this.markers[o++];if(h.toDOM){h.destroy(s);let u=s.nextSibling;s.remove(),s=u}}if(!c)break;c.toDOM&&(a?s=s.nextSibling:this.dom.insertBefore(c.toDOM(e),s)),a&&o++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function cse(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const ase=X.define(),hse=X.define(),Ui=X.define({combine(n){return Yt(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let s in t){let r=i[s],o=t[s];i[s]=r?(l,c,a)=>r(l,c,a)||o(l,c,a):o}return i}})}});class va extends kn{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function xa(n,e){return n.state.facet(Ui).formatNumber(e,n.state)}const use=Zs.compute([Ui],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(ase)},lineMarker(e,t,i){return i.some(s=>s.toDOM)?null:new va(xa(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,i)=>{for(let s of e.state.facet(hse)){let r=s(e,t,i);if(r)return r}return null},lineMarkerChange:e=>e.startState.facet(Ui)!=e.state.facet(Ui),initialSpacer(e){return new va(xa(e,bm(e.state.doc.lines)))},updateSpacer(e,t){let i=xa(t.view,bm(t.view.state.doc.lines));return i==e.number?e:new va(i)},domEventHandlers:n.facet(Ui).domEventHandlers,side:"before"}));function fse(n={}){return[Ui.of(n),fb(),use]}function bm(n){let e=9;for(;e<n;)e=e*10+9;return e}const dse=new class extends kn{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},pse=So.compute(["selection"],n=>{let e=[],t=-1;for(let i of n.selection.ranges){let s=n.doc.lineAt(i.head).from;s>t&&(t=s,e.push(dse.range(s)))}return de.of(e)});function mse(){return pse}const gse=1024;let yse=0;class ka{constructor(e,t){this.from=e,this.to=t}}class pe{constructor(e={}){this.id=yse++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Ht.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}pe.closedBy=new pe({deserialize:n=>n.split(" ")});pe.openedBy=new pe({deserialize:n=>n.split(" ")});pe.group=new pe({deserialize:n=>n.split(" ")});pe.isolate=new pe({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});pe.contextHash=new pe({perNode:!0});pe.lookAhead=new pe({perNode:!0});pe.mounted=new pe({perNode:!0});class Uo{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[pe.mounted.id]}}const bse=Object.create(null);class Ht{constructor(e,t,i,s=0){this.name=e,this.props=t,this.id=i,this.flags=s}static define(e){let t=e.props&&e.props.length?Object.create(null):bse,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),s=new Ht(e.name||"",t,e.id,i);if(e.props){for(let r of e.props)if(Array.isArray(r)||(r=r(s)),r){if(r[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[r[0].id]=r[1]}}return s}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(pe.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let s of i.split(" "))t[s]=e[i];return i=>{for(let s=i.prop(pe.group),r=-1;r<(s?s.length:0);r++){let o=t[r<0?i.name:s[r]];if(o)return o}}}}Ht.none=new Ht("",Object.create(null),0,8);const to=new WeakMap,vm=new WeakMap;var et;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(et||(et={}));class ot{constructor(e,t,i,s,r){if(this.type=e,this.children=t,this.positions=i,this.length=s,this.props=null,r&&r.length){this.props=Object.create(null);for(let[o,l]of r)this.props[typeof o=="number"?o:o.id]=l}}toString(){let e=Uo.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let s=i.toString();s&&(t&&(t+=","),t+=s)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Ph(this.topNode,e)}cursorAt(e,t=0,i=0){let s=to.get(this)||this.topNode,r=new Ph(s);return r.moveTo(e,t),to.set(this,r._tree),r}get topNode(){return new Nt(this,0,0,null)}resolve(e,t=0){let i=yr(to.get(this)||this.topNode,e,t,!1);return to.set(this,i),i}resolveInner(e,t=0){let i=yr(vm.get(this)||this.topNode,e,t,!0);return vm.set(this,i),i}resolveStack(e,t=0){return kse(this,e,t)}iterate(e){let{enter:t,leave:i,from:s=0,to:r=this.length}=e,o=e.mode||0,l=(o&et.IncludeAnonymous)>0;for(let c=this.cursor(o|et.IncludeAnonymous);;){let a=!1;if(c.from<=r&&c.to>=s&&(!l&&c.type.isAnonymous||t(c)!==!1)){if(c.firstChild())continue;a=!0}for(;a&&i&&(l||!c.type.isAnonymous)&&i(c),!c.nextSibling();){if(!c.parent())return;a=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:$u(Ht.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,s)=>new ot(this.type,t,i,s,this.propValues),e.makeTree||((t,i,s)=>new ot(Ht.none,t,i,s)))}static build(e){return wse(e)}}ot.empty=new ot(Ht.none,[],[],0);class Nu{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Nu(this.buffer,this.index)}}class li{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return Ht.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],s=this.set.types[t],r=s.name;if(/\W/.test(r)&&!s.isError&&(r=JSON.stringify(r)),e+=4,i==e)return r;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return r+"("+o.join(",")+")"}findChild(e,t,i,s,r){let{buffer:o}=this,l=-1;for(let c=e;c!=t&&!(pb(r,s,o[c+1],o[c+2])&&(l=c,i>0));c=o[c+3]);return l}slice(e,t,i){let s=this.buffer,r=new Uint16Array(t-e),o=0;for(let l=e,c=0;l<t;){r[c++]=s[l++],r[c++]=s[l++]-i;let a=r[c++]=s[l++]-i;r[c++]=s[l++]-e,o=Math.max(o,a)}return new li(r,o,this.set)}}function pb(n,e,t,i){switch(n){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function yr(n,e,t,i){for(var s;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!i&&n instanceof Nt&&n.index<0?null:n.parent;if(!o)return n;n=o}let r=i?0:et.IgnoreOverlays;if(i)for(let o=n,l=o.parent;l;o=l,l=o.parent)o instanceof Nt&&o.index<0&&((s=l.enter(e,t,r))===null||s===void 0?void 0:s.from)!=o.from&&(n=l);for(;;){let o=n.enter(e,t,r);if(!o)return n;n=o}}class mb{cursor(e=0){return new Ph(this,e)}getChild(e,t=null,i=null){let s=xm(this,e,t,i);return s.length?s[0]:null}getChildren(e,t=null,i=null){return xm(this,e,t,i)}resolve(e,t=0){return yr(this,e,t,!1)}resolveInner(e,t=0){return yr(this,e,t,!0)}matchContext(e){return Oh(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let s=t.lastChild;if(!s||s.to!=t.to)break;s.type.isError&&s.from==s.to?(i=t,t=s.prevSibling):t=s}return i}get node(){return this}get next(){return this.parent}}class Nt extends mb{constructor(e,t,i,s){super(),this._tree=e,this.from=t,this.index=i,this._parent=s}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,s,r=0){for(let o=this;;){for(let{children:l,positions:c}=o._tree,a=t>0?l.length:-1;e!=a;e+=t){let h=l[e],u=c[e]+o.from;if(pb(s,i,u,u+h.length)){if(h instanceof li){if(r&et.ExcludeBuffers)continue;let f=h.findChild(0,h.buffer.length,t,i-u,s);if(f>-1)return new Jn(new vse(o,h,e,u),null,f)}else if(r&et.IncludeAnonymous||!h.type.isAnonymous||qu(h)){let f;if(!(r&et.IgnoreMounts)&&(f=Uo.get(h))&&!f.overlay)return new Nt(f.tree,u,e,o);let d=new Nt(h,u,e,o);return r&et.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(t<0?h.children.length-1:0,t,i,s)}}}if(r&et.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let s;if(!(i&et.IgnoreOverlays)&&(s=Uo.get(this._tree))&&s.overlay){let r=e-this.from;for(let{from:o,to:l}of s.overlay)if((t>0?o<=r:o<r)&&(t<0?l>=r:l>r))return new Nt(s.tree,s.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function xm(n,e,t,i){let s=n.cursor(),r=[];if(!s.firstChild())return r;if(t!=null){for(let o=!1;!o;)if(o=s.type.is(t),!s.nextSibling())return r}for(;;){if(i!=null&&s.type.is(i))return r;if(s.type.is(e)&&r.push(s.node),!s.nextSibling())return i==null?r:[]}}function Oh(n,e,t=e.length-1){for(let i=n;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class vse{constructor(e,t,i,s){this.parent=e,this.buffer=t,this.index=i,this.start=s}}class Jn extends mb{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:s}=this.context,r=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.context.start,i);return r<0?null:new Jn(this.context,this,r)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&et.ExcludeBuffers)return null;let{buffer:s}=this.context,r=s.findChild(this.index+4,s.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return r<0?null:new Jn(this.context,this,r)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Jn(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Jn(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,s=this.index+4,r=i.buffer[this.index+3];if(r>s){let o=i.buffer[this.index+1];e.push(i.slice(s,r,o)),t.push(0)}return new ot(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function gb(n){if(!n.length)return null;let e=0,t=n[0];for(let r=1;r<n.length;r++){let o=n[r];(o.from>t.from||o.to<t.to)&&(t=o,e=r)}let i=t instanceof Nt&&t.index<0?null:t.parent,s=n.slice();return i?s[e]=i:s.splice(e,1),new xse(s,t)}class xse{constructor(e,t){this.heads=e,this.node=t}get next(){return gb(this.heads)}}function kse(n,e,t){let i=n.resolveInner(e,t),s=null;for(let r=i instanceof Nt?i:i.context.parent;r;r=r.parent)if(r.index<0){let o=r.parent;(s||(s=[i])).push(o.resolve(e,t)),r=o}else{let o=Uo.get(r.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let l=new Nt(o.tree,o.overlay[0].from+r.from,-1,r);(s||(s=[i])).push(yr(l,e,t,!1))}}return s?gb(s):i}class Ph{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Nt)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:s}=this.buffer;return this.type=t||s.set.types[s.buffer[e]],this.from=i+s.buffer[e+1],this.to=i+s.buffer[e+2],!0}yield(e){return e?e instanceof Nt?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:s}=this.buffer,r=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.buffer.start,i);return r<0?!1:(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&et.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&et.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&et.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let s=i<0?0:this.stack[i]+4;if(this.index!=s)return this.yieldBuf(t.findChild(s,this.index,-1,0,4))}else{let s=t.buffer[this.index+3];if(s<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(s)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:s}=this;if(s){if(e>0){if(this.index<s.buffer.buffer.length)return!1}else for(let r=0;r<this.index;r++)if(s.buffer.buffer[r+3]<this.index)return!1;({index:t,parent:i}=s)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let r=t+e,o=e<0?-1:i._tree.children.length;r!=o;r+=e){let l=i._tree.children[r];if(this.mode&et.IncludeAnonymous||l instanceof li||!l.type.isAnonymous||qu(l))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let s=this.index,r=this.stack.length;r>=0;){for(let o=e;o;o=o._parent)if(o.index==s){if(s==this.index)return o;t=o,i=r+1;break e}s=this.stack[--r]}for(let s=i;s<this.stack.length;s++)t=new Jn(this.buffer,t,this.stack[s]);return this.bufferNode=new Jn(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let s=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(s=!0)}for(;;){if(s&&t&&t(this),s=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,s=!0}}}matchContext(e){if(!this.buffer)return Oh(this.node.parent,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let s=e.length-1,r=this.stack.length-1;s>=0;r--){if(r<0)return Oh(this._tree,e,s);let o=i[t.buffer[this.stack[r]]];if(!o.isAnonymous){if(e[s]&&e[s]!=o.name)return!1;s--}}return!0}}function qu(n){return n.children.some(e=>e instanceof li||!e.type.isAnonymous||qu(e))}function wse(n){var e;let{buffer:t,nodeSet:i,maxBufferLength:s=gse,reused:r=[],minRepeatType:o=i.types.length}=n,l=Array.isArray(t)?new Nu(t,t.length):t,c=i.types,a=0,h=0;function u(k,C,A,M,R,T){let{id:I,start:N,end:D,size:_}=l,$=h,Y=a;for(;_<0;)if(l.next(),_==-1){let Ce=r[I];A.push(Ce),M.push(N-k);return}else if(_==-3){a=I;return}else if(_==-4){h=I;return}else throw new RangeError(`Unrecognized record size: ${_}`);let ee=c[I],oe,ce,Q=N-k;if(D-N<=s&&(ce=b(l.pos-C,R))){let Ce=new Uint16Array(ce.size-ce.skip),me=l.pos-ce.size,$e=Ce.length;for(;l.pos>me;)$e=g(ce.start,Ce,$e);oe=new li(Ce,D-ce.start,i),Q=ce.start-k}else{let Ce=l.pos-_;l.next();let me=[],$e=[],yt=I>=o?I:-1,Vt=0,Je=D;for(;l.pos>Ce;)yt>=0&&l.id==yt&&l.size>=0?(l.end<=Je-s&&(p(me,$e,N,Vt,l.end,Je,yt,$,Y),Vt=me.length,Je=l.end),l.next()):T>2500?f(N,Ce,me,$e):u(N,Ce,me,$e,yt,T+1);if(yt>=0&&Vt>0&&Vt<me.length&&p(me,$e,N,Vt,N,Je,yt,$,Y),me.reverse(),$e.reverse(),yt>-1&&Vt>0){let O=d(ee,Y);oe=$u(ee,me,$e,0,me.length,0,D-N,O,O)}else oe=m(ee,me,$e,D-N,$-D,Y)}A.push(oe),M.push(Q)}function f(k,C,A,M){let R=[],T=0,I=-1;for(;l.pos>C;){let{id:N,start:D,end:_,size:$}=l;if($>4)l.next();else{if(I>-1&&D<I)break;I<0&&(I=_-s),R.push(N,D,_),T++,l.next()}}if(T){let N=new Uint16Array(T*4),D=R[R.length-2];for(let _=R.length-3,$=0;_>=0;_-=3)N[$++]=R[_],N[$++]=R[_+1]-D,N[$++]=R[_+2]-D,N[$++]=$;A.push(new li(N,R[2]-D,i)),M.push(D-k)}}function d(k,C){return(A,M,R)=>{let T=0,I=A.length-1,N,D;if(I>=0&&(N=A[I])instanceof ot){if(!I&&N.type==k&&N.length==R)return N;(D=N.prop(pe.lookAhead))&&(T=M[I]+N.length+D)}return m(k,A,M,R,T,C)}}function p(k,C,A,M,R,T,I,N,D){let _=[],$=[];for(;k.length>M;)_.push(k.pop()),$.push(C.pop()+A-R);k.push(m(i.types[I],_,$,T-R,N-T,D)),C.push(R-A)}function m(k,C,A,M,R,T,I){if(T){let N=[pe.contextHash,T];I=I?[N].concat(I):[N]}if(R>25){let N=[pe.lookAhead,R];I=I?[N].concat(I):[N]}return new ot(k,C,A,M,I)}function b(k,C){let A=l.fork(),M=0,R=0,T=0,I=A.end-s,N={size:0,start:0,skip:0};e:for(let D=A.pos-k;A.pos>D;){let _=A.size;if(A.id==C&&_>=0){N.size=M,N.start=R,N.skip=T,T+=4,M+=4,A.next();continue}let $=A.pos-_;if(_<0||$<D||A.start<I)break;let Y=A.id>=o?4:0,ee=A.start;for(A.next();A.pos>$;){if(A.size<0)if(A.size==-3)Y+=4;else break e;else A.id>=o&&(Y+=4);A.next()}R=ee,M+=_,T+=Y}return(C<0||M==k)&&(N.size=M,N.start=R,N.skip=T),N.size>4?N:void 0}function g(k,C,A){let{id:M,start:R,end:T,size:I}=l;if(l.next(),I>=0&&M<o){let N=A;if(I>4){let D=l.pos-(I-4);for(;l.pos>D;)A=g(k,C,A)}C[--A]=N,C[--A]=T-k,C[--A]=R-k,C[--A]=M}else I==-3?a=M:I==-4&&(h=M);return A}let x=[],y=[];for(;l.pos>0;)u(n.start||0,n.bufferStart||0,x,y,-1,0);let v=(e=n.length)!==null&&e!==void 0?e:x.length?y[0]+x[0].length:0;return new ot(c[n.topID],x.reverse(),y.reverse(),v)}const km=new WeakMap;function Ao(n,e){if(!n.isAnonymous||e instanceof li||e.type!=n)return 1;let t=km.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=n||!(i instanceof ot)){t=1;break}t+=Ao(n,i)}km.set(e,t)}return t}function $u(n,e,t,i,s,r,o,l,c){let a=0;for(let p=i;p<s;p++)a+=Ao(n,e[p]);let h=Math.ceil(a*1.5/8),u=[],f=[];function d(p,m,b,g,x){for(let y=b;y<g;){let v=y,k=m[y],C=Ao(n,p[y]);for(y++;y<g;y++){let A=Ao(n,p[y]);if(C+A>=h)break;C+=A}if(y==v+1){if(C>h){let A=p[v];d(A.children,A.positions,0,A.children.length,m[v]+x);continue}u.push(p[v])}else{let A=m[y-1]+p[y-1].length-k;u.push($u(n,p,m,v,y,k,A,null,c))}f.push(k+x-r)}}return d(e,t,i,s,0),(l||c)(u,f,o)}class Ai{constructor(e,t,i,s,r=!1,o=!1){this.from=e,this.to=t,this.tree=i,this.offset=s,this.open=(r?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let s=[new Ai(0,e.length,e,0,!1,i)];for(let r of t)r.to>e.length&&s.push(r);return s}static applyChanges(e,t,i=128){if(!t.length)return e;let s=[],r=1,o=e.length?e[0]:null;for(let l=0,c=0,a=0;;l++){let h=l<t.length?t[l]:null,u=h?h.fromA:1e9;if(u-c>=i)for(;o&&o.from<u;){let f=o;if(c>=f.from||u<=f.to||a){let d=Math.max(f.from,c)-a,p=Math.min(f.to,u)-a;f=d>=p?null:new Ai(d,p,f.tree,f.offset+a,l>0,!!h)}if(f&&s.push(f),o.to>u)break;o=r<e.length?e[r++]:null}if(!h)break;c=h.toA,a=h.toA-h.toB}return s}}class Cse{startParse(e,t,i){return typeof e=="string"&&(e=new Sse(e)),i=i?i.length?i.map(s=>new ka(s.from,s.to)):[new ka(0,0)]:[new ka(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let s=this.startParse(e,t,i);for(;;){let r=s.advance();if(r)return r}}}class Sse{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new pe({perNode:!0});let Ase=0;class Pt{constructor(e,t,i,s){this.name=e,this.set=t,this.base=i,this.modified=s,this.id=Ase++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let i=typeof e=="string"?e:"?";if(e instanceof Pt&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let s=new Pt(i,[],null,[]);if(s.set.push(s),t)for(let r of t.set)s.set.push(r);return s}static defineModifier(e){let t=new Ko(e);return i=>i.modified.indexOf(t)>-1?i:Ko.get(i.base||i,i.modified.concat(t).sort((s,r)=>s.id-r.id))}}let _se=0;class Ko{constructor(e){this.name=e,this.instances=[],this.id=_se++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(l=>l.base==e&&Ese(t,l.modified));if(i)return i;let s=[],r=new Pt(e.name,s,e,t);for(let l of t)l.instances.push(r);let o=Mse(t);for(let l of e.set)if(!l.modified.length)for(let c of o)s.push(Ko.get(l,c));return r}}function Ese(n,e){return n.length==e.length&&n.every((t,i)=>t==e[i])}function Mse(n){let e=[[]];for(let t=0;t<n.length;t++)for(let i=0,s=e.length;i<s;i++)e.push(e[i].concat(n[t]));return e.sort((t,i)=>i.length-t.length)}function Dse(n){let e=Object.create(null);for(let t in n){let i=n[t];Array.isArray(i)||(i=[i]);for(let s of t.split(" "))if(s){let r=[],o=2,l=s;for(let u=0;;){if(l=="..."&&u>0&&u+3==s.length){o=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!f)throw new RangeError("Invalid path: "+s);if(r.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),u+=f[0].length,u==s.length)break;let d=s[u++];if(u==s.length&&d=="!"){o=0;break}if(d!="/")throw new RangeError("Invalid path: "+s);l=s.slice(u)}let c=r.length-1,a=r[c];if(!a)throw new RangeError("Invalid path: "+s);let h=new Go(i,o,c>0?r.slice(0,c):null);e[a]=h.sort(e[a])}}return yb.add(e)}const yb=new pe;class Go{constructor(e,t,i,s){this.tags=e,this.mode=t,this.context=i,this.next=s}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Go.empty=new Go([],2,null);function bb(n,e){let t=Object.create(null);for(let r of n)if(!Array.isArray(r.tag))t[r.tag.id]=r.class;else for(let o of r.tag)t[o.id]=r.class;let{scope:i,all:s=null}=e||{};return{style:r=>{let o=s;for(let l of r)for(let c of l.set){let a=t[c.id];if(a){o=o?o+" "+a:a;break}}return o},scope:i}}function Tse(n,e){let t=null;for(let i of n){let s=i.style(e);s&&(t=t?t+" "+s:s)}return t}function Rse(n,e,t,i=0,s=n.length){let r=new Ose(i,Array.isArray(e)?e:[e],t);r.highlightRange(n.cursor(),i,s,"",r.highlighters),r.flush(s)}class Ose{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,s,r){let{type:o,from:l,to:c}=e;if(l>=i||c<=t)return;o.isTop&&(r=this.highlighters.filter(d=>!d.scope||d.scope(o)));let a=s,h=Pse(e)||Go.empty,u=Tse(r,h.tags);if(u&&(a&&(a+=" "),a+=u,h.mode==1&&(s+=(s?" ":"")+u)),this.startSpan(Math.max(t,l),a),h.opaque)return;let f=e.tree&&e.tree.prop(pe.mounted);if(f&&f.overlay){let d=e.node.enter(f.overlay[0].from+l,1),p=this.highlighters.filter(b=>!b.scope||b.scope(f.tree.type)),m=e.firstChild();for(let b=0,g=l;;b++){let x=b<f.overlay.length?f.overlay[b]:null,y=x?x.from+l:c,v=Math.max(t,g),k=Math.min(i,y);if(v<k&&m)for(;e.from<k&&(this.highlightRange(e,v,k,s,r),this.startSpan(Math.min(k,e.to),a),!(e.to>=y||!e.nextSibling())););if(!x||y>i)break;g=x.to+l,g>t&&(this.highlightRange(d.cursor(),Math.max(t,x.from+l),Math.min(i,g),"",p),this.startSpan(Math.min(i,g),a))}m&&e.parent()}else if(e.firstChild()){f&&(s="");do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,s,r),this.startSpan(Math.min(i,e.to),a)}while(e.nextSibling());e.parent()}}}function Pse(n){let e=n.type.prop(yb);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const V=Pt.define,no=V(),Wn=V(),wm=V(Wn),Cm=V(Wn),jn=V(),io=V(jn),wa=V(jn),rn=V(),pi=V(rn),nn=V(),sn=V(),Lh=V(),Rs=V(Lh),so=V(),j={comment:no,lineComment:V(no),blockComment:V(no),docComment:V(no),name:Wn,variableName:V(Wn),typeName:wm,tagName:V(wm),propertyName:Cm,attributeName:V(Cm),className:V(Wn),labelName:V(Wn),namespace:V(Wn),macroName:V(Wn),literal:jn,string:io,docString:V(io),character:V(io),attributeValue:V(io),number:wa,integer:V(wa),float:V(wa),bool:V(jn),regexp:V(jn),escape:V(jn),color:V(jn),url:V(jn),keyword:nn,self:V(nn),null:V(nn),atom:V(nn),unit:V(nn),modifier:V(nn),operatorKeyword:V(nn),controlKeyword:V(nn),definitionKeyword:V(nn),moduleKeyword:V(nn),operator:sn,derefOperator:V(sn),arithmeticOperator:V(sn),logicOperator:V(sn),bitwiseOperator:V(sn),compareOperator:V(sn),updateOperator:V(sn),definitionOperator:V(sn),typeOperator:V(sn),controlOperator:V(sn),punctuation:Lh,separator:V(Lh),bracket:Rs,angleBracket:V(Rs),squareBracket:V(Rs),paren:V(Rs),brace:V(Rs),content:rn,heading:pi,heading1:V(pi),heading2:V(pi),heading3:V(pi),heading4:V(pi),heading5:V(pi),heading6:V(pi),contentSeparator:V(rn),list:V(rn),quote:V(rn),emphasis:V(rn),strong:V(rn),link:V(rn),monospace:V(rn),strikethrough:V(rn),inserted:V(),deleted:V(),changed:V(),invalid:V(),meta:so,documentMeta:V(so),annotation:V(so),processingInstruction:V(so),definition:Pt.defineModifier("definition"),constant:Pt.defineModifier("constant"),function:Pt.defineModifier("function"),standard:Pt.defineModifier("standard"),local:Pt.defineModifier("local"),special:Pt.defineModifier("special")};for(let n in j){let e=j[n];e instanceof Pt&&(e.name=n)}bb([{tag:j.link,class:"tok-link"},{tag:j.heading,class:"tok-heading"},{tag:j.emphasis,class:"tok-emphasis"},{tag:j.strong,class:"tok-strong"},{tag:j.keyword,class:"tok-keyword"},{tag:j.atom,class:"tok-atom"},{tag:j.bool,class:"tok-bool"},{tag:j.url,class:"tok-url"},{tag:j.labelName,class:"tok-labelName"},{tag:j.inserted,class:"tok-inserted"},{tag:j.deleted,class:"tok-deleted"},{tag:j.literal,class:"tok-literal"},{tag:j.string,class:"tok-string"},{tag:j.number,class:"tok-number"},{tag:[j.regexp,j.escape,j.special(j.string)],class:"tok-string2"},{tag:j.variableName,class:"tok-variableName"},{tag:j.local(j.variableName),class:"tok-variableName tok-local"},{tag:j.definition(j.variableName),class:"tok-variableName tok-definition"},{tag:j.special(j.variableName),class:"tok-variableName2"},{tag:j.definition(j.propertyName),class:"tok-propertyName tok-definition"},{tag:j.typeName,class:"tok-typeName"},{tag:j.namespace,class:"tok-namespace"},{tag:j.className,class:"tok-className"},{tag:j.macroName,class:"tok-macroName"},{tag:j.propertyName,class:"tok-propertyName"},{tag:j.operator,class:"tok-operator"},{tag:j.comment,class:"tok-comment"},{tag:j.meta,class:"tok-meta"},{tag:j.invalid,class:"tok-invalid"},{tag:j.punctuation,class:"tok-punctuation"}]);var Ca;const qs=new pe,Lse=new pe;class dn{constructor(e,t,i=[],s=""){this.data=e,this.name=s,fe.prototype.hasOwnProperty("tree")||Object.defineProperty(fe.prototype,"tree",{get(){return at(this)}}),this.parser=t,this.extension=[ci.of(this),fe.languageData.of((r,o,l)=>{let c=Sm(r,o,l),a=c.type.prop(qs);if(!a)return[];let h=r.facet(a),u=c.type.prop(Lse);if(u){let f=c.resolve(o-c.from,l);for(let d of u)if(d.test(f,r)){let p=r.facet(d.facet);return d.type=="replace"?p:p.concat(h)}}return h})].concat(i)}isActiveAt(e,t,i=-1){return Sm(e,t,i).type.prop(qs)==this.data}findRegions(e){let t=e.facet(ci);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],s=(r,o)=>{if(r.prop(qs)==this.data){i.push({from:o,to:o+r.length});return}let l=r.prop(pe.mounted);if(l){if(l.tree.prop(qs)==this.data){if(l.overlay)for(let c of l.overlay)i.push({from:c.from+o,to:c.to+o});else i.push({from:o,to:o+r.length});return}else if(l.overlay){let c=i.length;if(s(l.tree,l.overlay[0].from+o),i.length>c)return}}for(let c=0;c<r.children.length;c++){let a=r.children[c];a instanceof ot&&s(a,r.positions[c]+o)}};return s(at(e),0),i}get allowsNesting(){return!0}}dn.setState=he.define();function Sm(n,e,t){let i=n.facet(ci),s=at(n).topNode;if(!i||i.allowsNesting)for(let r=s;r;r=r.enter(e,t,et.ExcludeBuffers))r.type.isTop&&(s=r);return s}function at(n){let e=n.field(dn.state,!1);return e?e.tree:ot.empty}class Bse{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let Os=null;class Yo{constructor(e,t,i=[],s,r,o,l,c){this.parser=e,this.state=t,this.fragments=i,this.tree=s,this.treeLen=r,this.viewport=o,this.skipped=l,this.scheduleOn=c,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new Yo(e,t,[],ot.empty,0,i,[],null)}startParse(){return this.parser.startParse(new Bse(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=ot.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let s=Date.now()+e;e=()=>Date.now()>s}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let s=this.parse.advance();if(s)if(this.fragments=this.withoutTempSkipped(Ai.addTree(s,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=s,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Ai.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Os;Os=this;try{return e()}finally{Os=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=Am(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:s,treeLen:r,viewport:o,skipped:l}=this;if(this.takeTree(),!e.empty){let c=[];if(e.iterChangedRanges((a,h,u,f)=>c.push({fromA:a,toA:h,fromB:u,toB:f})),i=Ai.applyChanges(i,c),s=ot.empty,r=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){l=[];for(let a of this.skipped){let h=e.mapPos(a.from,1),u=e.mapPos(a.to,-1);h<u&&l.push({from:h,to:u})}}}return new Yo(this.parser,t,i,s,r,o,l,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:s,to:r}=this.skipped[i];s<e.to&&r>e.from&&(this.fragments=Am(this.fragments,s,r),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Cse{createParse(t,i,s){let r=s[0].from,o=s[s.length-1].to;return{parsedPos:r,advance(){let c=Os;if(c){for(let a of s)c.tempSkipped.push(a);e&&(c.scheduleOn=c.scheduleOn?Promise.all([c.scheduleOn,e]):e)}return this.parsedPos=o,new ot(Ht.none,[],[],o-r)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Os}}function Am(n,e,t){return Ai.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class gs{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new gs(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=Yo.create(e.facet(ci).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new gs(i)}}dn.state=Ke.define({create:gs.init,update(n,e){for(let t of e.effects)if(t.is(dn.setState))return t.value;return e.startState.facet(ci)!=e.state.facet(ci)?gs.init(e.state):n.apply(e)}});let vb=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(vb=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const Sa=typeof navigator<"u"&&(!((Ca=navigator.scheduling)===null||Ca===void 0)&&Ca.isInputPending)?()=>navigator.scheduling.isInputPending():null,Ise=qe.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(dn.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(dn.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=vb(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:s}}=this.view,r=i.field(dn.state);if(r.tree==r.context.tree&&r.context.isDone(s+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Sa?Math.max(25,e.timeRemaining()-5):1e9),l=r.context.treeLen<s&&i.doc.length>s+1e3,c=r.context.work(()=>Sa&&Sa()||Date.now()>o,s+(l?0:1e5));this.chunkBudget-=Date.now()-t,(c||this.chunkBudget<=0)&&(r.context.takeTree(),this.view.dispatch({effects:dn.setState.of(new gs(r.context))})),this.chunkBudget>0&&!(c&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(r.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>pt(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),ci=X.define({combine(n){return n.length?n[0]:null},enables:n=>[dn.state,Ise,W.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]}),Fse=X.define(),Al=X.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function Jo(n){let e=n.facet(Al);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function br(n,e){let t="",i=n.tabSize,s=n.facet(Al)[0];if(s=="	"){for(;e>=i;)t+="	",e-=i;s=" "}for(let r=0;r<e;r++)t+=s;return t}function Hu(n,e){n instanceof fe&&(n=new _l(n));for(let i of n.state.facet(Fse)){let s=i(n,e);if(s!==void 0)return s}let t=at(n.state);return t.length>=e?qse(n,t,e):null}class _l{constructor(e,t={}){this.state=e,this.options=t,this.unit=Jo(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:s,simulateDoubleBreak:r}=this.options;return s!=null&&s>=i.from&&s<=i.to?r&&s==e?{text:"",from:e}:(t<0?s<e:s<=e)?{text:i.text.slice(s-i.from),from:s}:{text:i.text.slice(0,s-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:s}=this.lineAt(e,t);return i.slice(e-s,Math.min(i.length,e+100-s))}column(e,t=1){let{text:i,from:s}=this.lineAt(e,t),r=this.countColumn(i,e-s),o=this.options.overrideIndentation?this.options.overrideIndentation(s):-1;return o>-1&&(r+=o-this.countColumn(i,i.search(/\S|$/))),r}countColumn(e,t=e.length){return xs(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:s}=this.lineAt(e,t),r=this.options.overrideIndentation;if(r){let o=r(s);if(o>-1)return o}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Nse=new pe;function qse(n,e,t){let i=e.resolveStack(t),s=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(s!=i.node){let r=[];for(let o=s;o&&!(o.from<i.node.from||o.to>i.node.to||o.from==i.node.from&&o.type==i.node.type);o=o.parent)r.push(o);for(let o=r.length-1;o>=0;o--)i={node:r[o],next:i}}return xb(i,n,t)}function xb(n,e,t){for(let i=n;i;i=i.next){let s=Hse(i.node);if(s)return s(zu.create(e,t,i))}return 0}function $se(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function Hse(n){let e=n.type.prop(Nse);if(e)return e;let t=n.firstChild,i;if(t&&(i=t.type.prop(pe.closedBy))){let s=n.lastChild,r=s&&i.indexOf(s.name)>-1;return o=>jse(o,!0,1,void 0,r&&!$se(o)?s.from:void 0)}return n.parent==null?zse:null}function zse(){return 0}class zu extends _l{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.context=i}get node(){return this.context.node}static create(e,t,i){return new zu(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(t.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(Vse(i,e))break;t=this.state.doc.lineAt(i.from)}return this.lineIndent(t.from)}continue(){return xb(this.context.next,this.base,this.pos)}}function Vse(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function Wse(n){let e=n.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let s=n.options.simulateBreak,r=n.state.doc.lineAt(t.from),o=s==null||s<=r.from?r.to:Math.min(r.to,s);for(let l=t.to;;){let c=e.childAfter(l);if(!c||c==i)return null;if(!c.type.isSkipped){if(c.from>=o)return null;let a=/^ */.exec(r.text.slice(t.to-r.from))[0].length;return{from:t.from,to:t.to+a}}l=c.to}}function jse(n,e,t,i,s){let r=n.textAfter,o=r.match(/^\s*/)[0].length,l=i&&r.slice(o,o+i.length)==i||s==n.pos+o,c=Wse(n);return c?l?n.column(c.from):n.column(c.to):n.baseIndent+(l?0:n.unit*t)}const Use=200;function Kse(){return fe.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:i}=n.newSelection.main,s=t.lineAt(i);if(i>s.from+Use)return n;let r=t.sliceString(s.from,i);if(!e.some(a=>a.test(r)))return n;let{state:o}=n,l=-1,c=[];for(let{head:a}of o.selection.ranges){let h=o.doc.lineAt(a);if(h.from==l)continue;l=h.from;let u=Hu(o,h.from);if(u==null)continue;let f=/^\s*/.exec(h.text)[0],d=br(o,u);f!=d&&c.push({from:h.from,to:h.from+f.length,insert:d})}return c.length?[n,{changes:c,sequential:!0}]:n})}const Gse=X.define(),Yse=new pe;function Jse(n,e,t){let i=at(n);if(i.length<t)return null;let s=i.resolveStack(t,1),r=null;for(let o=s;o;o=o.next){let l=o.node;if(l.to<=t||l.from>t)continue;if(r&&l.from<e)break;let c=l.type.prop(Yse);if(c&&(l.to<i.length-50||i.length==n.doc.length||!Xse(l))){let a=c(l,n);a&&a.from<=t&&a.from>=e&&a.to>t&&(r=a)}}return r}function Xse(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function Xo(n,e,t){for(let i of n.facet(Gse)){let s=i(n,e,t);if(s)return s}return Jse(n,e,t)}function kb(n,e){let t=e.mapPos(n.from,1),i=e.mapPos(n.to,-1);return t>=i?void 0:{from:t,to:i}}const El=he.define({map:kb}),Rr=he.define({map:kb});function wb(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(i=>i.from<=t&&i.to>=t)||e.push(n.lineBlockAt(t));return e}const Ri=Ke.define({create(){return se.none},update(n,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((t,i)=>n=_m(n,t,i)),n=n.map(e.changes);for(let t of e.effects)if(t.is(El)&&!Zse(n,t.value.from,t.value.to)){let{preparePlaceholder:i}=e.state.facet(Ab),s=i?se.replace({widget:new rre(i(e.state,t.value))}):Em;n=n.update({add:[s.range(t.value.from,t.value.to)]})}else t.is(Rr)&&(n=n.update({filter:(i,s)=>t.value.from!=i||t.value.to!=s,filterFrom:t.value.from,filterTo:t.value.to}));return e.selection&&(n=_m(n,e.selection.main.head)),n},provide:n=>W.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(i,s)=>{t.push(i,s)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let i=n[t++],s=n[t++];if(typeof i!="number"||typeof s!="number")throw new RangeError("Invalid JSON for fold state");e.push(Em.range(i,s))}return se.set(e,!0)}});function _m(n,e,t=e){let i=!1;return n.between(e,t,(s,r)=>{s<t&&r>e&&(i=!0)}),i?n.update({filterFrom:e,filterTo:t,filter:(s,r)=>s>=t||r<=e}):n}function Zo(n,e,t){var i;let s=null;return(i=n.field(Ri,!1))===null||i===void 0||i.between(e,t,(r,o)=>{(!s||s.from>r)&&(s={from:r,to:o})}),s}function Zse(n,e,t){let i=!1;return n.between(e,e,(s,r)=>{s==e&&r==t&&(i=!0)}),i}function Cb(n,e){return n.field(Ri,!1)?e:e.concat(he.appendConfig.of(_b()))}const Qse=n=>{for(let e of wb(n)){let t=Xo(n.state,e.from,e.to);if(t)return n.dispatch({effects:Cb(n.state,[El.of(t),Sb(n,t)])}),!0}return!1},ere=n=>{if(!n.state.field(Ri,!1))return!1;let e=[];for(let t of wb(n)){let i=Zo(n.state,t.from,t.to);i&&e.push(Rr.of(i),Sb(n,i,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function Sb(n,e,t=!0){let i=n.state.doc.lineAt(e.from).number,s=n.state.doc.lineAt(e.to).number;return W.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${i} ${n.state.phrase("to")} ${s}.`)}const tre=n=>{let{state:e}=n,t=[];for(let i=0;i<e.doc.length;){let s=n.lineBlockAt(i),r=Xo(e,s.from,s.to);r&&t.push(El.of(r)),i=(r?n.lineBlockAt(r.to):s).to+1}return t.length&&n.dispatch({effects:Cb(n.state,t)}),!!t.length},nre=n=>{let e=n.state.field(Ri,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(i,s)=>{t.push(Rr.of({from:i,to:s}))}),n.dispatch({effects:t}),!0},ire=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Qse},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:ere},{key:"Ctrl-Alt-[",run:tre},{key:"Ctrl-Alt-]",run:nre}],sre={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},Ab=X.define({combine(n){return Yt(n,sre)}});function _b(n){return[Ri,cre]}function Eb(n,e){let{state:t}=n,i=t.facet(Ab),s=o=>{let l=n.lineBlockAt(n.posAtDOM(o.target)),c=Zo(n.state,l.from,l.to);c&&n.dispatch({effects:Rr.of(c)}),o.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(n,s,e);let r=document.createElement("span");return r.textContent=i.placeholderText,r.setAttribute("aria-label",t.phrase("folded code")),r.title=t.phrase("unfold"),r.className="cm-foldPlaceholder",r.onclick=s,r}const Em=se.replace({widget:new class extends Nn{toDOM(n){return Eb(n,null)}}});class rre extends Nn{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return Eb(e,this.value)}}const ore={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Aa extends kn{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function lre(n={}){let e={...ore,...n},t=new Aa(e,!0),i=new Aa(e,!1),s=qe.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(ci)!=o.state.facet(ci)||o.startState.field(Ri,!1)!=o.state.field(Ri,!1)||at(o.startState)!=at(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let l=new Ln;for(let c of o.viewportLineBlocks){let a=Zo(o.state,c.from,c.to)?i:Xo(o.state,c.from,c.to)?t:null;a&&l.add(c.from,c.from,a)}return l.finish()}}),{domEventHandlers:r}=e;return[s,ub({class:"cm-foldGutter",markers(o){var l;return((l=o.plugin(s))===null||l===void 0?void 0:l.markers)||de.empty},initialSpacer(){return new Aa(e,!1)},domEventHandlers:{...r,click:(o,l,c)=>{if(r.click&&r.click(o,l,c))return!0;let a=Zo(o.state,l.from,l.to);if(a)return o.dispatch({effects:Rr.of(a)}),!0;let h=Xo(o.state,l.from,l.to);return h?(o.dispatch({effects:El.of(h)}),!0):!1}}}),_b()]}const cre=W.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Ml{constructor(e,t){this.specs=e;let i;function s(l){let c=si.newName();return(i||(i=Object.create(null)))["."+c]=l,c}const r=typeof t.all=="string"?t.all:t.all?s(t.all):void 0,o=t.scope;this.scope=o instanceof dn?l=>l.prop(qs)==o.data:o?l=>l==o:void 0,this.style=bb(e.map(l=>({tag:l.tag,class:l.class||s(Object.assign({},l,{tag:null}))})),{all:r}).style,this.module=i?new si(i):null,this.themeType=t.themeType}static define(e,t){return new Ml(e,t||{})}}const Bh=X.define(),Mb=X.define({combine(n){return n.length?[n[0]]:null}});function _a(n){let e=n.facet(Bh);return e.length?e:n.facet(Mb)}function Db(n,e){let t=[hre],i;return n instanceof Ml&&(n.module&&t.push(W.styleModule.of(n.module)),i=n.themeType),e!=null&&e.fallback?t.push(Mb.of(n)):i?t.push(Bh.computeN([W.darkTheme],s=>s.facet(W.darkTheme)==(i=="dark")?[n]:[])):t.push(Bh.of(n)),t}class are{constructor(e){this.markCache=Object.create(null),this.tree=at(e.state),this.decorations=this.buildDeco(e,_a(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=at(e.state),i=_a(e.state),s=i!=_a(e.startState),{viewport:r}=e.view,o=e.changes.mapPos(this.decoratedTo,1);t.length<r.to&&!s&&t.type==this.tree.type&&o>=r.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(t!=this.tree||e.viewportChanged||s)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i),this.decoratedTo=r.to)}buildDeco(e,t){if(!t||!this.tree.length)return se.none;let i=new Ln;for(let{from:s,to:r}of e.visibleRanges)Rse(this.tree,t,(o,l,c)=>{i.add(o,l,this.markCache[c]||(this.markCache[c]=se.mark({class:c})))},s,r);return i.finish()}}const hre=Li.high(qe.fromClass(are,{decorations:n=>n.decorations})),Tb=Ml.define([{tag:j.meta,color:"#404740"},{tag:j.link,textDecoration:"underline"},{tag:j.heading,textDecoration:"underline",fontWeight:"bold"},{tag:j.emphasis,fontStyle:"italic"},{tag:j.strong,fontWeight:"bold"},{tag:j.strikethrough,textDecoration:"line-through"},{tag:j.keyword,color:"#708"},{tag:[j.atom,j.bool,j.url,j.contentSeparator,j.labelName],color:"#219"},{tag:[j.literal,j.inserted],color:"#164"},{tag:[j.string,j.deleted],color:"#a11"},{tag:[j.regexp,j.escape,j.special(j.string)],color:"#e40"},{tag:j.definition(j.variableName),color:"#00f"},{tag:j.local(j.variableName),color:"#30a"},{tag:[j.typeName,j.namespace],color:"#085"},{tag:j.className,color:"#167"},{tag:[j.special(j.variableName),j.macroName],color:"#256"},{tag:j.definition(j.propertyName),color:"#00c"},{tag:j.comment,color:"#940"},{tag:j.invalid,color:"#f00"}]),ure=W.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Rb=1e4,Ob="()[]{}",Pb=X.define({combine(n){return Yt(n,{afterCursor:!0,brackets:Ob,maxScanDistance:Rb,renderMatch:pre})}}),fre=se.mark({class:"cm-matchingBracket"}),dre=se.mark({class:"cm-nonmatchingBracket"});function pre(n){let e=[],t=n.matched?fre:dre;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const mre=Ke.define({create(){return se.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],i=e.state.facet(Pb);for(let s of e.state.selection.ranges){if(!s.empty)continue;let r=pn(e.state,s.head,-1,i)||s.head>0&&pn(e.state,s.head-1,1,i)||i.afterCursor&&(pn(e.state,s.head,1,i)||s.head<e.state.doc.length&&pn(e.state,s.head+1,-1,i));r&&(t=t.concat(i.renderMatch(r,e.state)))}return se.set(t,!0)},provide:n=>W.decorations.from(n)}),gre=[mre,ure];function yre(n={}){return[Pb.of(n),gre]}const bre=new pe;function Ih(n,e,t){let i=n.prop(e<0?pe.openedBy:pe.closedBy);if(i)return i;if(n.name.length==1){let s=t.indexOf(n.name);if(s>-1&&s%2==(e<0?1:0))return[t[s+e]]}return null}function Fh(n){let e=n.type.prop(bre);return e?e(n.node):n}function pn(n,e,t,i={}){let s=i.maxScanDistance||Rb,r=i.brackets||Ob,o=at(n),l=o.resolveInner(e,t);for(let c=l;c;c=c.parent){let a=Ih(c.type,t,r);if(a&&c.from<c.to){let h=Fh(c);if(h&&(t>0?e>=h.from&&e<h.to:e>h.from&&e<=h.to))return vre(n,e,t,c,h,a,r)}}return xre(n,e,t,o,l.type,s,r)}function vre(n,e,t,i,s,r,o){let l=i.parent,c={from:s.from,to:s.to},a=0,h=l==null?void 0:l.cursor();if(h&&(t<0?h.childBefore(i.from):h.childAfter(i.to)))do if(t<0?h.to<=i.from:h.from>=i.to){if(a==0&&r.indexOf(h.type.name)>-1&&h.from<h.to){let u=Fh(h);return{start:c,end:u?{from:u.from,to:u.to}:void 0,matched:!0}}else if(Ih(h.type,t,o))a++;else if(Ih(h.type,-t,o)){if(a==0){let u=Fh(h);return{start:c,end:u&&u.from<u.to?{from:u.from,to:u.to}:void 0,matched:!1}}a--}}while(t<0?h.prevSibling():h.nextSibling());return{start:c,matched:!1}}function xre(n,e,t,i,s,r,o){let l=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),c=o.indexOf(l);if(c<0||c%2==0!=t>0)return null;let a={from:t<0?e-1:e,to:t>0?e+1:e},h=n.doc.iterRange(e,t>0?n.doc.length:0),u=0;for(let f=0;!h.next().done&&f<=r;){let d=h.value;t<0&&(f+=d.length);let p=e+f*t;for(let m=t>0?0:d.length-1,b=t>0?d.length:-1;m!=b;m+=t){let g=o.indexOf(d[m]);if(!(g<0||i.resolveInner(p+m,1).type!=s))if(g%2==0==t>0)u++;else{if(u==1)return{start:a,end:{from:p+m,to:p+m+1},matched:g>>1==c>>1};u--}}t>0&&(f+=d.length)}return h.done?{start:a,matched:!1}:null}const kre=Object.create(null),Mm=[Ht.none],Dm=[],Tm=Object.create(null),wre=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])wre[n]=Cre(kre,e);function Ea(n,e){Dm.indexOf(n)>-1||(Dm.push(n),console.warn(e))}function Cre(n,e){let t=[];for(let l of e.split(" ")){let c=[];for(let a of l.split(".")){let h=n[a]||j[a];h?typeof h=="function"?c.length?c=c.map(h):Ea(a,`Modifier ${a} used at start of tag`):c.length?Ea(a,`Tag ${a} used as modifier`):c=Array.isArray(h)?h:[h]:Ea(a,`Unknown highlighting tag ${a}`)}for(let a of c)t.push(a)}if(!t.length)return 0;let i=e.replace(/ /g,"_"),s=i+" "+t.map(l=>l.id),r=Tm[s];if(r)return r.id;let o=Tm[s]=Ht.define({id:Mm.length,name:i,props:[Dse({[i]:t})]});return Mm.push(o),o.id}Pe.RTL,Pe.LTR;const Sre=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),i=Wu(n.state,t.from);return i.line?Are(n):i.block?Ere(n):!1};function Vu(n,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let s=n(e,t);return s?(i(t.update(s)),!0):!1}}const Are=Vu(Tre,0),_re=Vu(Lb,0),Ere=Vu((n,e)=>Lb(n,e,Dre(e)),0);function Wu(n,e){let t=n.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const Ps=50;function Mre(n,{open:e,close:t},i,s){let r=n.sliceDoc(i-Ps,i),o=n.sliceDoc(s,s+Ps),l=/\s*$/.exec(r)[0].length,c=/^\s*/.exec(o)[0].length,a=r.length-l;if(r.slice(a-e.length,a)==e&&o.slice(c,c+t.length)==t)return{open:{pos:i-l,margin:l&&1},close:{pos:s+c,margin:c&&1}};let h,u;s-i<=2*Ps?h=u=n.sliceDoc(i,s):(h=n.sliceDoc(i,i+Ps),u=n.sliceDoc(s-Ps,s));let f=/^\s*/.exec(h)[0].length,d=/\s*$/.exec(u)[0].length,p=u.length-d-t.length;return h.slice(f,f+e.length)==e&&u.slice(p,p+t.length)==t?{open:{pos:i+f+e.length,margin:/\s/.test(h.charAt(f+e.length))?1:0},close:{pos:s-d-t.length,margin:/\s/.test(u.charAt(p-1))?1:0}}:null}function Dre(n){let e=[];for(let t of n.selection.ranges){let i=n.doc.lineAt(t.from),s=t.to<=i.to?i:n.doc.lineAt(t.to);s.from>i.from&&s.from==t.to&&(s=t.to==i.to+1?i:n.doc.lineAt(t.to-1));let r=e.length-1;r>=0&&e[r].to>i.from?e[r].to=s.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:s.to})}return e}function Lb(n,e,t=e.selection.ranges){let i=t.map(r=>Wu(e,r.from).block);if(!i.every(r=>r))return null;let s=t.map((r,o)=>Mre(e,i[o],r.from,r.to));if(n!=2&&!s.every(r=>r))return{changes:e.changes(t.map((r,o)=>s[o]?[]:[{from:r.from,insert:i[o].open+" "},{from:r.to,insert:" "+i[o].close}]))};if(n!=1&&s.some(r=>r)){let r=[];for(let o=0,l;o<s.length;o++)if(l=s[o]){let c=i[o],{open:a,close:h}=l;r.push({from:a.pos-c.open.length,to:a.pos+a.margin},{from:h.pos-h.margin,to:h.pos+c.close.length})}return{changes:r}}return null}function Tre(n,e,t=e.selection.ranges){let i=[],s=-1;for(let{from:r,to:o}of t){let l=i.length,c=1e9,a=Wu(e,r).line;if(a){for(let h=r;h<=o;){let u=e.doc.lineAt(h);if(u.from>s&&(r==o||o>u.from)){s=u.from;let f=/^\s*/.exec(u.text)[0].length,d=f==u.length,p=u.text.slice(f,f+a.length)==a?f:-1;f<u.text.length&&f<c&&(c=f),i.push({line:u,comment:p,token:a,indent:f,empty:d,single:!1})}h=u.to+1}if(c<1e9)for(let h=l;h<i.length;h++)i[h].indent<i[h].line.text.length&&(i[h].indent=c);i.length==l+1&&(i[l].single=!0)}}if(n!=2&&i.some(r=>r.comment<0&&(!r.empty||r.single))){let r=[];for(let{line:l,token:c,indent:a,empty:h,single:u}of i)(u||!h)&&r.push({from:l.from+a,insert:c+" "});let o=e.changes(r);return{changes:o,selection:e.selection.map(o,1)}}else if(n!=1&&i.some(r=>r.comment>=0)){let r=[];for(let{line:o,comment:l,token:c}of i)if(l>=0){let a=o.from+l,h=a+c.length;o.text[h-o.from]==" "&&h++,r.push({from:a,to:h})}return{changes:r}}return null}const Nh=Fn.define(),Rre=Fn.define(),Ore=X.define(),Bb=X.define({combine(n){return Yt(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(i,s)=>e(i,s)||t(i,s)})}}),Ib=Ke.define({create(){return mn.empty},update(n,e){let t=e.state.facet(Bb),i=e.annotation(Nh);if(i){let c=Ct.fromTransaction(e,i.selection),a=i.side,h=a==0?n.undone:n.done;return c?h=Qo(h,h.length,t.minDepth,c):h=$b(h,e.startState.selection),new mn(a==0?i.rest:h,a==0?h:i.rest)}let s=e.annotation(Rre);if((s=="full"||s=="before")&&(n=n.isolate()),e.annotation(Ue.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let r=Ct.fromTransaction(e),o=e.annotation(Ue.time),l=e.annotation(Ue.userEvent);return r?n=n.addChanges(r,o,l,t,e):e.selection&&(n=n.addSelection(e.startState.selection,o,l,t.newGroupDelay)),(s=="full"||s=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new mn(n.done.map(Ct.fromJSON),n.undone.map(Ct.fromJSON))}});function Fb(n={}){return[Ib,Bb.of(n),W.domEventHandlers({beforeinput(e,t){let i=e.inputType=="historyUndo"?Nb:e.inputType=="historyRedo"?qh:null;return i?(e.preventDefault(),i(t)):!1}})]}function Dl(n,e){return function({state:t,dispatch:i}){if(!e&&t.readOnly)return!1;let s=t.field(Ib,!1);if(!s)return!1;let r=s.pop(n,t,e);return r?(i(r),!0):!1}}const Nb=Dl(0,!1),qh=Dl(1,!1),Pre=Dl(0,!0),Lre=Dl(1,!0);class Ct{constructor(e,t,i,s,r){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=s,this.selectionsAfter=r}setSelAfter(e){return new Ct(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(s=>s.toJSON())}}static fromJSON(e){return new Ct(e.changes&&je.fromJSON(e.changes),[],e.mapped&&bn.fromJSON(e.mapped),e.startSelection&&P.fromJSON(e.startSelection),e.selectionsAfter.map(P.fromJSON))}static fromTransaction(e,t){let i=Lt;for(let s of e.startState.facet(Ore)){let r=s(e);r.length&&(i=i.concat(r))}return!i.length&&e.changes.empty?null:new Ct(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,Lt)}static selection(e){return new Ct(void 0,Lt,void 0,void 0,e)}}function Qo(n,e,t,i){let s=e+1>t+20?e-t-1:0,r=n.slice(s,e);return r.push(i),r}function Bre(n,e){let t=[],i=!1;return n.iterChangedRanges((s,r)=>t.push(s,r)),e.iterChangedRanges((s,r,o,l)=>{for(let c=0;c<t.length;){let a=t[c++],h=t[c++];l>=a&&o<=h&&(i=!0)}}),i}function Ire(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,i)=>t.empty!=e.ranges[i].empty).length===0}function qb(n,e){return n.length?e.length?n.concat(e):n:e}const Lt=[],Fre=200;function $b(n,e){if(n.length){let t=n[n.length-1],i=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-Fre));return i.length&&i[i.length-1].eq(e)?n:(i.push(e),Qo(n,n.length-1,1e9,t.setSelAfter(i)))}else return[Ct.selection([e])]}function Nre(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function Ma(n,e){if(!n.length)return n;let t=n.length,i=Lt;for(;t;){let s=qre(n[t-1],e,i);if(s.changes&&!s.changes.empty||s.effects.length){let r=n.slice(0,t);return r[t-1]=s,r}else e=s.mapped,t--,i=s.selectionsAfter}return i.length?[Ct.selection(i)]:Lt}function qre(n,e,t){let i=qb(n.selectionsAfter.length?n.selectionsAfter.map(l=>l.map(e)):Lt,t);if(!n.changes)return Ct.selection(i);let s=n.changes.map(e),r=e.mapDesc(n.changes,!0),o=n.mapped?n.mapped.composeDesc(r):r;return new Ct(s,he.mapEffects(n.effects,e),o,n.startSelection.map(r),i)}const $re=/^(input\.type|delete)($|\.)/;class mn{constructor(e,t,i=0,s=void 0){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=s}isolate(){return this.prevTime?new mn(this.done,this.undone):this}addChanges(e,t,i,s,r){let o=this.done,l=o[o.length-1];return l&&l.changes&&!l.changes.empty&&e.changes&&(!i||$re.test(i))&&(!l.selectionsAfter.length&&t-this.prevTime<s.newGroupDelay&&s.joinToEvent(r,Bre(l.changes,e.changes))||i=="input.type.compose")?o=Qo(o,o.length-1,s.minDepth,new Ct(e.changes.compose(l.changes),qb(he.mapEffects(e.effects,l.changes),l.effects),l.mapped,l.startSelection,Lt)):o=Qo(o,o.length,s.minDepth,e),new mn(o,Lt,t,i)}addSelection(e,t,i,s){let r=this.done.length?this.done[this.done.length-1].selectionsAfter:Lt;return r.length>0&&t-this.prevTime<s&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&Ire(r[r.length-1],e)?this:new mn($b(this.done,e),this.undone,t,i)}addMapping(e){return new mn(Ma(this.done,e),Ma(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let s=e==0?this.done:this.undone;if(s.length==0)return null;let r=s[s.length-1],o=r.selectionsAfter[0]||t.selection;if(i&&r.selectionsAfter.length)return t.update({selection:r.selectionsAfter[r.selectionsAfter.length-1],annotations:Nh.of({side:e,rest:Nre(s),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(r.changes){let l=s.length==1?Lt:s.slice(0,s.length-1);return r.mapped&&(l=Ma(l,r.mapped)),t.update({changes:r.changes,selection:r.startSelection,effects:r.effects,annotations:Nh.of({side:e,rest:l,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}mn.empty=new mn(Lt,Lt);const Hb=[{key:"Mod-z",run:Nb,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:qh,preventDefault:!0},{linux:"Ctrl-Shift-z",run:qh,preventDefault:!0},{key:"Mod-u",run:Pre,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Lre,preventDefault:!0}];function ks(n,e){return P.create(n.ranges.map(e),n.mainIndex)}function wn(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Jt({state:n,dispatch:e},t){let i=ks(n.selection,t);return i.eq(n.selection,!0)?!1:(e(wn(n,i)),!0)}function Tl(n,e){return P.cursor(e?n.to:n.from)}function zb(n,e){return Jt(n,t=>t.empty?n.moveByChar(t,e):Tl(t,e))}function ht(n){return n.textDirectionAt(n.state.selection.main.head)==Pe.LTR}const Vb=n=>zb(n,!ht(n)),Wb=n=>zb(n,ht(n));function jb(n,e){return Jt(n,t=>t.empty?n.moveByGroup(t,e):Tl(t,e))}const Hre=n=>jb(n,!ht(n)),zre=n=>jb(n,ht(n));function Vre(n,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function Rl(n,e,t){let i=at(n).resolveInner(e.head),s=t?pe.closedBy:pe.openedBy;for(let c=e.head;;){let a=t?i.childAfter(c):i.childBefore(c);if(!a)break;Vre(n,a,s)?i=a:c=t?a.to:a.from}let r=i.type.prop(s),o,l;return r&&(o=t?pn(n,i.from,1):pn(n,i.to,-1))&&o.matched?l=t?o.end.to:o.end.from:l=t?i.to:i.from,P.cursor(l,t?-1:1)}const Wre=n=>Jt(n,e=>Rl(n.state,e,!ht(n))),jre=n=>Jt(n,e=>Rl(n.state,e,ht(n)));function Ub(n,e){return Jt(n,t=>{if(!t.empty)return Tl(t,e);let i=n.moveVertically(t,e);return i.head!=t.head?i:n.moveToLineBoundary(t,e)})}const Kb=n=>Ub(n,!1),Gb=n=>Ub(n,!0);function Yb(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,i=0,s;if(e){for(let r of n.state.facet(W.scrollMargins)){let o=r(n);o!=null&&o.top&&(t=Math.max(o==null?void 0:o.top,t)),o!=null&&o.bottom&&(i=Math.max(o==null?void 0:o.bottom,i))}s=n.scrollDOM.clientHeight-t-i}else s=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:i,selfScroll:e,height:Math.max(n.defaultLineHeight,s-5)}}function Jb(n,e){let t=Yb(n),{state:i}=n,s=ks(i.selection,o=>o.empty?n.moveVertically(o,e,t.height):Tl(o,e));if(s.eq(i.selection))return!1;let r;if(t.selfScroll){let o=n.coordsAtPos(i.selection.main.head),l=n.scrollDOM.getBoundingClientRect(),c=l.top+t.marginTop,a=l.bottom-t.marginBottom;o&&o.top>c&&o.bottom<a&&(r=W.scrollIntoView(s.main.head,{y:"start",yMargin:o.top-c}))}return n.dispatch(wn(i,s),{effects:r}),!0}const Rm=n=>Jb(n,!1),$h=n=>Jb(n,!0);function hi(n,e,t){let i=n.lineBlockAt(e.head),s=n.moveToLineBoundary(e,t);if(s.head==e.head&&s.head!=(t?i.to:i.from)&&(s=n.moveToLineBoundary(e,t,!1)),!t&&s.head==i.from&&i.length){let r=/^\s*/.exec(n.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;r&&e.head!=i.from+r&&(s=P.cursor(i.from+r))}return s}const Ure=n=>Jt(n,e=>hi(n,e,!0)),Kre=n=>Jt(n,e=>hi(n,e,!1)),Gre=n=>Jt(n,e=>hi(n,e,!ht(n))),Yre=n=>Jt(n,e=>hi(n,e,ht(n))),Jre=n=>Jt(n,e=>P.cursor(n.lineBlockAt(e.head).from,1)),Xre=n=>Jt(n,e=>P.cursor(n.lineBlockAt(e.head).to,-1));function Zre(n,e,t){let i=!1,s=ks(n.selection,r=>{let o=pn(n,r.head,-1)||pn(n,r.head,1)||r.head>0&&pn(n,r.head-1,1)||r.head<n.doc.length&&pn(n,r.head+1,-1);if(!o||!o.end)return r;i=!0;let l=o.start.from==r.head?o.end.to:o.end.from;return P.cursor(l)});return i?(e(wn(n,s)),!0):!1}const Qre=({state:n,dispatch:e})=>Zre(n,e);function zt(n,e){let t=ks(n.state.selection,i=>{let s=e(i);return P.range(i.anchor,s.head,s.goalColumn,s.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(wn(n.state,t)),!0)}function Xb(n,e){return zt(n,t=>n.moveByChar(t,e))}const Zb=n=>Xb(n,!ht(n)),Qb=n=>Xb(n,ht(n));function ev(n,e){return zt(n,t=>n.moveByGroup(t,e))}const eoe=n=>ev(n,!ht(n)),toe=n=>ev(n,ht(n)),noe=n=>zt(n,e=>Rl(n.state,e,!ht(n))),ioe=n=>zt(n,e=>Rl(n.state,e,ht(n)));function tv(n,e){return zt(n,t=>n.moveVertically(t,e))}const nv=n=>tv(n,!1),iv=n=>tv(n,!0);function sv(n,e){return zt(n,t=>n.moveVertically(t,e,Yb(n).height))}const Om=n=>sv(n,!1),Pm=n=>sv(n,!0),soe=n=>zt(n,e=>hi(n,e,!0)),roe=n=>zt(n,e=>hi(n,e,!1)),ooe=n=>zt(n,e=>hi(n,e,!ht(n))),loe=n=>zt(n,e=>hi(n,e,ht(n))),coe=n=>zt(n,e=>P.cursor(n.lineBlockAt(e.head).from)),aoe=n=>zt(n,e=>P.cursor(n.lineBlockAt(e.head).to)),Lm=({state:n,dispatch:e})=>(e(wn(n,{anchor:0})),!0),Bm=({state:n,dispatch:e})=>(e(wn(n,{anchor:n.doc.length})),!0),Im=({state:n,dispatch:e})=>(e(wn(n,{anchor:n.selection.main.anchor,head:0})),!0),Fm=({state:n,dispatch:e})=>(e(wn(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),hoe=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),uoe=({state:n,dispatch:e})=>{let t=Ol(n).map(({from:i,to:s})=>P.range(i,Math.min(s+1,n.doc.length)));return e(n.update({selection:P.create(t),userEvent:"select"})),!0},foe=({state:n,dispatch:e})=>{let t=ks(n.selection,i=>{let s=at(n),r=s.resolveStack(i.from,1);if(i.empty){let o=s.resolveStack(i.from,-1);o.node.from>=r.node.from&&o.node.to<=r.node.to&&(r=o)}for(let o=r;o;o=o.next){let{node:l}=o;if((l.from<i.from&&l.to>=i.to||l.to>i.to&&l.from<=i.from)&&o.next)return P.range(l.to,l.from)}return i});return t.eq(n.selection)?!1:(e(wn(n,t)),!0)},doe=({state:n,dispatch:e})=>{let t=n.selection,i=null;return t.ranges.length>1?i=P.create([t.main]):t.main.empty||(i=P.create([P.cursor(t.main.head)])),i?(e(wn(n,i)),!0):!1};function Or(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:i}=n,s=i.changeByRange(r=>{let{from:o,to:l}=r;if(o==l){let c=e(r);c<o?(t="delete.backward",c=ro(n,c,!1)):c>o&&(t="delete.forward",c=ro(n,c,!0)),o=Math.min(o,c),l=Math.max(l,c)}else o=ro(n,o,!1),l=ro(n,l,!0);return o==l?{range:r}:{changes:{from:o,to:l},range:P.cursor(o,o<r.head?-1:1)}});return s.changes.empty?!1:(n.dispatch(i.update(s,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?W.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function ro(n,e,t){if(n instanceof W)for(let i of n.state.facet(W.atomicRanges).map(s=>s(n)))i.between(e,e,(s,r)=>{s<e&&r>e&&(e=t?r:s)});return e}const rv=(n,e,t)=>Or(n,i=>{let s=i.from,{state:r}=n,o=r.doc.lineAt(s),l,c;if(t&&!e&&s>o.from&&s<o.from+200&&!/[^ \t]/.test(l=o.text.slice(0,s-o.from))){if(l[l.length-1]=="	")return s-1;let a=xs(l,r.tabSize),h=a%Jo(r)||Jo(r);for(let u=0;u<h&&l[l.length-1-u]==" ";u++)s--;c=s}else c=tt(o.text,s-o.from,e,e)+o.from,c==s&&o.number!=(e?r.doc.lines:1)?c+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(c-o.from,s-o.from))&&(c=tt(o.text,c-o.from,!1,!1)+o.from);return c}),Hh=n=>rv(n,!1,!0),ov=n=>rv(n,!0,!1),lv=(n,e)=>Or(n,t=>{let i=t.head,{state:s}=n,r=s.doc.lineAt(i),o=s.charCategorizer(i);for(let l=null;;){if(i==(e?r.to:r.from)){i==t.head&&r.number!=(e?s.doc.lines:1)&&(i+=e?1:-1);break}let c=tt(r.text,i-r.from,e)+r.from,a=r.text.slice(Math.min(i,c)-r.from,Math.max(i,c)-r.from),h=o(a);if(l!=null&&h!=l)break;(a!=" "||i!=t.head)&&(l=h),i=c}return i}),cv=n=>lv(n,!1),poe=n=>lv(n,!0),moe=n=>Or(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),goe=n=>Or(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),yoe=n=>Or(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),boe=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:ye.of(["",""])},range:P.cursor(i.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},voe=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>{if(!i.empty||i.from==0||i.from==n.doc.length)return{range:i};let s=i.from,r=n.doc.lineAt(s),o=s==r.from?s-1:tt(r.text,s-r.from,!1)+r.from,l=s==r.to?s+1:tt(r.text,s-r.from,!0)+r.from;return{changes:{from:o,to:l,insert:n.doc.slice(s,l).append(n.doc.slice(o,s))},range:P.cursor(l)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Ol(n){let e=[],t=-1;for(let i of n.selection.ranges){let s=n.doc.lineAt(i.from),r=n.doc.lineAt(i.to);if(!i.empty&&i.to==r.from&&(r=n.doc.lineAt(i.to-1)),t>=s.number){let o=e[e.length-1];o.to=r.to,o.ranges.push(i)}else e.push({from:s.from,to:r.to,ranges:[i]});t=r.number+1}return e}function av(n,e,t){if(n.readOnly)return!1;let i=[],s=[];for(let r of Ol(n)){if(t?r.to==n.doc.length:r.from==0)continue;let o=n.doc.lineAt(t?r.to+1:r.from-1),l=o.length+1;if(t){i.push({from:r.to,to:o.to},{from:r.from,insert:o.text+n.lineBreak});for(let c of r.ranges)s.push(P.range(Math.min(n.doc.length,c.anchor+l),Math.min(n.doc.length,c.head+l)))}else{i.push({from:o.from,to:r.from},{from:r.to,insert:n.lineBreak+o.text});for(let c of r.ranges)s.push(P.range(c.anchor-l,c.head-l))}}return i.length?(e(n.update({changes:i,scrollIntoView:!0,selection:P.create(s,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const xoe=({state:n,dispatch:e})=>av(n,e,!1),koe=({state:n,dispatch:e})=>av(n,e,!0);function hv(n,e,t){if(n.readOnly)return!1;let i=[];for(let s of Ol(n))t?i.push({from:s.from,insert:n.doc.slice(s.from,s.to)+n.lineBreak}):i.push({from:s.to,insert:n.lineBreak+n.doc.slice(s.from,s.to)});return e(n.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const woe=({state:n,dispatch:e})=>hv(n,e,!1),Coe=({state:n,dispatch:e})=>hv(n,e,!0),Soe=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(Ol(e).map(({from:s,to:r})=>(s>0?s--:r<e.doc.length&&r++,{from:s,to:r}))),i=ks(e.selection,s=>{let r;if(n.lineWrapping){let o=n.lineBlockAt(s.head),l=n.coordsAtPos(s.head,s.assoc||1);l&&(r=o.bottom+n.documentTop-l.bottom+n.defaultLineHeight/2)}return n.moveVertically(s,!0,r)}).map(t);return n.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function Aoe(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=at(n).resolveInner(e),i=t.childBefore(e),s=t.childAfter(e),r;return i&&s&&i.to<=e&&s.from>=e&&(r=i.type.prop(pe.closedBy))&&r.indexOf(s.name)>-1&&n.doc.lineAt(i.to).from==n.doc.lineAt(s.from).from&&!/\S/.test(n.sliceDoc(i.to,s.from))?{from:i.to,to:s.from}:null}const Nm=uv(!1),_oe=uv(!0);function uv(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(s=>{let{from:r,to:o}=s,l=e.doc.lineAt(r),c=!n&&r==o&&Aoe(e,r);n&&(r=o=(o<=l.to?l:e.doc.lineAt(o)).to);let a=new _l(e,{simulateBreak:r,simulateDoubleBreak:!!c}),h=Hu(a,r);for(h==null&&(h=xs(/^\s*/.exec(e.doc.lineAt(r).text)[0],e.tabSize));o<l.to&&/\s/.test(l.text[o-l.from]);)o++;c?{from:r,to:o}=c:r>l.from&&r<l.from+100&&!/\S/.test(l.text.slice(0,r))&&(r=l.from);let u=["",br(e,h)];return c&&u.push(br(e,a.lineIndent(l.from,-1))),{changes:{from:r,to:o,insert:ye.of(u)},range:P.cursor(r+1+u[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function ju(n,e){let t=-1;return n.changeByRange(i=>{let s=[];for(let o=i.from;o<=i.to;){let l=n.doc.lineAt(o);l.number>t&&(i.empty||i.to>l.from)&&(e(l,s,i),t=l.number),o=l.to+1}let r=n.changes(s);return{changes:s,range:P.range(r.mapPos(i.anchor,1),r.mapPos(i.head,1))}})}const Eoe=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),i=new _l(n,{overrideIndentation:r=>{let o=t[r];return o??-1}}),s=ju(n,(r,o,l)=>{let c=Hu(i,r.from);if(c==null)return;/\S/.test(r.text)||(c=0);let a=/^\s*/.exec(r.text)[0],h=br(n,c);(a!=h||l.from<r.from+a.length)&&(t[r.from]=c,o.push({from:r.from,to:r.from+a.length,insert:h}))});return s.changes.empty||e(n.update(s,{userEvent:"indent"})),!0},fv=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(ju(n,(t,i)=>{i.push({from:t.from,insert:n.facet(Al)})}),{userEvent:"input.indent"})),!0),dv=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(ju(n,(t,i)=>{let s=/^\s*/.exec(t.text)[0];if(!s)return;let r=xs(s,n.tabSize),o=0,l=br(n,Math.max(0,r-Jo(n)));for(;o<s.length&&o<l.length&&s.charCodeAt(o)==l.charCodeAt(o);)o++;i.push({from:t.from+o,to:t.from+s.length,insert:l.slice(o)})}),{userEvent:"delete.dedent"})),!0),Moe=n=>(n.setTabFocusMode(),!0),Doe=[{key:"Ctrl-b",run:Vb,shift:Zb,preventDefault:!0},{key:"Ctrl-f",run:Wb,shift:Qb},{key:"Ctrl-p",run:Kb,shift:nv},{key:"Ctrl-n",run:Gb,shift:iv},{key:"Ctrl-a",run:Jre,shift:coe},{key:"Ctrl-e",run:Xre,shift:aoe},{key:"Ctrl-d",run:ov},{key:"Ctrl-h",run:Hh},{key:"Ctrl-k",run:moe},{key:"Ctrl-Alt-h",run:cv},{key:"Ctrl-o",run:boe},{key:"Ctrl-t",run:voe},{key:"Ctrl-v",run:$h}],Toe=[{key:"ArrowLeft",run:Vb,shift:Zb,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:Hre,shift:eoe,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Gre,shift:ooe,preventDefault:!0},{key:"ArrowRight",run:Wb,shift:Qb,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:zre,shift:toe,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Yre,shift:loe,preventDefault:!0},{key:"ArrowUp",run:Kb,shift:nv,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Lm,shift:Im},{mac:"Ctrl-ArrowUp",run:Rm,shift:Om},{key:"ArrowDown",run:Gb,shift:iv,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Bm,shift:Fm},{mac:"Ctrl-ArrowDown",run:$h,shift:Pm},{key:"PageUp",run:Rm,shift:Om},{key:"PageDown",run:$h,shift:Pm},{key:"Home",run:Kre,shift:roe,preventDefault:!0},{key:"Mod-Home",run:Lm,shift:Im},{key:"End",run:Ure,shift:soe,preventDefault:!0},{key:"Mod-End",run:Bm,shift:Fm},{key:"Enter",run:Nm,shift:Nm},{key:"Mod-a",run:hoe},{key:"Backspace",run:Hh,shift:Hh},{key:"Delete",run:ov},{key:"Mod-Backspace",mac:"Alt-Backspace",run:cv},{key:"Mod-Delete",mac:"Alt-Delete",run:poe},{mac:"Mod-Backspace",run:goe},{mac:"Mod-Delete",run:yoe}].concat(Doe.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),pv=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Wre,shift:noe},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:jre,shift:ioe},{key:"Alt-ArrowUp",run:xoe},{key:"Shift-Alt-ArrowUp",run:woe},{key:"Alt-ArrowDown",run:koe},{key:"Shift-Alt-ArrowDown",run:Coe},{key:"Escape",run:doe},{key:"Mod-Enter",run:_oe},{key:"Alt-l",mac:"Ctrl-l",run:uoe},{key:"Mod-i",run:foe,preventDefault:!0},{key:"Mod-[",run:dv},{key:"Mod-]",run:fv},{key:"Mod-Alt-\\",run:Eoe},{key:"Shift-Mod-k",run:Soe},{key:"Shift-Mod-\\",run:Qre},{key:"Mod-/",run:Sre},{key:"Alt-A",run:_re},{key:"Ctrl-m",mac:"Shift-Alt-m",run:Moe}].concat(Toe),Roe={key:"Tab",run:fv,shift:dv};class qm{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class bi{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let s=i.facet(gn).markerFilter;s&&(e=s(e,i));let r=e.slice().sort((h,u)=>h.from-u.from||h.to-u.to),o=new Ln,l=[],c=0;for(let h=0;;){let u=h==r.length?null:r[h];if(!u&&!l.length)break;let f,d;for(l.length?(f=c,d=l.reduce((m,b)=>Math.min(m,b.to),u&&u.from>f?u.from:1e8)):(f=u.from,d=u.to,l.push(u),h++);h<r.length;){let m=r[h];if(m.from==f&&(m.to>m.from||m.to==f))l.push(m),h++,d=Math.min(m.to,d);else{d=Math.min(m.from,d);break}}let p=Cv(l);if(l.some(m=>m.from==m.to||m.from==m.to-1&&i.doc.lineAt(m.from).to==m.from))o.add(f,f,se.widget({widget:new $oe(p),diagnostics:l.slice()}));else{let m=l.reduce((b,g)=>g.markClass?b+" "+g.markClass:b,"");o.add(f,d,se.mark({class:"cm-lintRange cm-lintRange-"+p+m,diagnostics:l.slice(),inclusiveEnd:l.some(b=>b.to>d)}))}c=d;for(let m=0;m<l.length;m++)l[m].to<=c&&l.splice(m--,1)}let a=o.finish();return new bi(a,t,ys(a))}}function ys(n,e=null,t=0){let i=null;return n.between(t,1e9,(s,r,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!i)i=new qm(s,r,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(i.diagnostic)<0)return!1;i=new qm(i.from,r,i.diagnostic)}}),i}function mv(n,e){let t=e.pos,i=e.end||t,s=n.state.facet(gn).hideOn(n,t,i);if(s!=null)return s;let r=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(o=>o.is(Pl))||n.changes.touchesRange(r.from,Math.max(r.to,i)))}function gv(n,e){return n.field(St,!1)?e:e.concat(he.appendConfig.of(_v))}function Ooe(n,e){return{effects:gv(n,[Pl.of(e)])}}const Pl=he.define(),Uu=he.define(),yv=he.define(),St=Ke.define({create(){return new bi(se.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),i=null,s=n.panel;if(n.selected){let r=e.changes.mapPos(n.selected.from,1);i=ys(t,n.selected.diagnostic,r)||ys(t,null,r)}!t.size&&s&&e.state.facet(gn).autoPanel&&(s=null),n=new bi(t,s,i)}for(let t of e.effects)if(t.is(Pl)){let i=e.state.facet(gn).autoPanel?t.value.length?vr.open:null:n.panel;n=bi.init(t.value,i,e.state)}else t.is(Uu)?n=new bi(n.diagnostics,t.value?vr.open:null,n.selected):t.is(yv)&&(n=new bi(n.diagnostics,n.panel,t.value));return n},provide:n=>[gr.from(n,e=>e.panel),W.decorations.from(n,e=>e.diagnostics)]});function Poe(n){let e=n.field(St,!1);return e?e.diagnostics.size:0}const Loe=se.mark({class:"cm-lintRange cm-lintRange-active"});function Boe(n,e,t){let{diagnostics:i}=n.state.field(St),s,r=-1,o=-1;i.between(e-(t<0?1:0),e+(t>0?1:0),(c,a,{spec:h})=>{if(e>=c&&e<=a&&(c==a||(e>c||t>0)&&(e<a||t<0)))return s=h.diagnostics,r=c,o=a,!1});let l=n.state.facet(gn).tooltipFilter;return s&&l&&(s=l(s,n.state)),s?{pos:r,end:o,above:n.state.doc.lineAt(r).to<o,create(){return{dom:bv(n,s)}}}:null}function bv(n,e){return Ae("ul",{class:"cm-tooltip-lint"},e.map(t=>wv(n,t,!1)))}const Ioe=n=>{let e=n.state.field(St,!1);(!e||!e.panel)&&n.dispatch({effects:gv(n.state,[Uu.of(!0)])});let t=mr(n,vr.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},$m=n=>{let e=n.state.field(St,!1);return!e||!e.panel?!1:(n.dispatch({effects:Uu.of(!1)}),!0)},Foe=n=>{let e=n.state.field(St,!1);if(!e)return!1;let t=n.state.selection.main,i=e.diagnostics.iter(t.to+1);return!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==t.from&&i.to==t.to)?!1:(n.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},Noe=[{key:"Mod-Shift-m",run:Ioe,preventDefault:!0},{key:"F8",run:Foe}],vv=qe.fromClass(class{constructor(n){this.view=n,this.timeout=-1,this.set=!0;let{delay:e}=n.state.facet(gn);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){clearTimeout(this.timeout);let n=Date.now();if(n<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-n);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(gn);t.length&&qoe(t.map(i=>Promise.resolve(i(this.view))),i=>{this.view.state.doc==e.doc&&this.view.dispatch(Ooe(this.view.state,i.reduce((s,r)=>s.concat(r))))},i=>{pt(this.view.state,i)})}}update(n){let e=n.state.facet(gn);(n.docChanged||e!=n.startState.facet(gn)||e.needsRefresh&&e.needsRefresh(n))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}});function qoe(n,e,t){let i=[],s=-1;for(let r of n)r.then(o=>{i.push(o),clearTimeout(s),i.length==n.length?e(i):s=setTimeout(()=>e(i),200)},t)}const gn=X.define({combine(n){return Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},Yt(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?i=>e(i)||t(i):e:t}))}});function xv(n,e={}){return[gn.of({source:n,config:e}),vv,_v]}function Hm(n){let e=n.plugin(vv);e&&e.force()}function kv(n){let e=[];if(n)e:for(let{name:t}of n){for(let i=0;i<t.length;i++){let s=t[i];if(/[a-zA-Z]/.test(s)&&!e.some(r=>r.toLowerCase()==s.toLowerCase())){e.push(s);continue e}}e.push("")}return e}function wv(n,e,t){var i;let s=t?kv(e.actions):[];return Ae("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Ae("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(i=e.actions)===null||i===void 0?void 0:i.map((r,o)=>{let l=!1,c=f=>{if(f.preventDefault(),l)return;l=!0;let d=ys(n.state.field(St).diagnostics,e);d&&r.apply(n,d.from,d.to)},{name:a}=r,h=s[o]?a.indexOf(s[o]):-1,u=h<0?a:[a.slice(0,h),Ae("u",a.slice(h,h+1)),a.slice(h+1)];return Ae("button",{type:"button",class:"cm-diagnosticAction",onclick:c,onmousedown:c,"aria-label":` Action: ${a}${h<0?"":` (access key "${s[o]})"`}.`},u)}),e.source&&Ae("div",{class:"cm-diagnosticSource"},e.source))}class $oe extends Nn{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return Ae("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class zm{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=wv(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class vr{constructor(e){this.view=e,this.items=[];let t=s=>{if(s.keyCode==27)$m(this.view),this.view.focus();else if(s.keyCode==38||s.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(s.keyCode==40||s.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(s.keyCode==36)this.moveSelection(0);else if(s.keyCode==35)this.moveSelection(this.items.length-1);else if(s.keyCode==13)this.view.focus();else if(s.keyCode>=65&&s.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:r}=this.items[this.selectedIndex],o=kv(r.actions);for(let l=0;l<o.length;l++)if(o[l].toUpperCase().charCodeAt(0)==s.keyCode){let c=ys(this.view.state.field(St).diagnostics,r);c&&r.actions[l].apply(e,c.from,c.to)}}else return;s.preventDefault()},i=s=>{for(let r=0;r<this.items.length;r++)this.items[r].dom.contains(s.target)&&this.moveSelection(r)};this.list=Ae("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:i}),this.dom=Ae("div",{class:"cm-panel-lint"},this.list,Ae("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>$m(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(St).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(St),i=0,s=!1,r=null,o=new Set;for(e.between(0,this.view.state.doc.length,(l,c,{spec:a})=>{for(let h of a.diagnostics){if(o.has(h))continue;o.add(h);let u=-1,f;for(let d=i;d<this.items.length;d++)if(this.items[d].diagnostic==h){u=d;break}u<0?(f=new zm(this.view,h),this.items.splice(i,0,f),s=!0):(f=this.items[u],u>i&&(this.items.splice(i,u-i),s=!0)),t&&f.diagnostic==t.diagnostic?f.dom.hasAttribute("aria-selected")||(f.dom.setAttribute("aria-selected","true"),r=f):f.dom.hasAttribute("aria-selected")&&f.dom.removeAttribute("aria-selected"),i++}});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)s=!0,this.items.pop();this.items.length==0&&(this.items.push(new zm(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),s=!0),r?(this.list.setAttribute("aria-activedescendant",r.id),this.view.requestMeasure({key:this,read:()=>({sel:r.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:l,panel:c})=>{let a=c.height/this.list.offsetHeight;l.top<c.top?this.list.scrollTop-=(c.top-l.top)/a:l.bottom>c.bottom&&(this.list.scrollTop+=(l.bottom-c.bottom)/a)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),s&&this.sync()}sync(){let e=this.list.firstChild;function t(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(St),i=ys(t.diagnostics,this.items[e].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:yv.of(i)})}static open(e){return new vr(e)}}function _o(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function oo(n){return _o(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Hoe=W.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:oo("#d11")},".cm-lintRange-warning":{backgroundImage:oo("orange")},".cm-lintRange-info":{backgroundImage:oo("#999")},".cm-lintRange-hint":{backgroundImage:oo("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function zoe(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function Cv(n){let e="hint",t=1;for(let i of n){let s=zoe(i.severity);s>t&&(t=s,e=i.severity)}return e}class Sv extends kn{constructor(e){super(),this.diagnostics=e,this.severity=Cv(e)}toDOM(e){let t=document.createElement("div");t.className="cm-lint-marker cm-lint-marker-"+this.severity;let i=this.diagnostics,s=e.state.facet(Ll).tooltipFilter;return s&&(i=s(i,e.state)),i.length&&(t.onmouseover=()=>Woe(e,t,i)),t}}function Voe(n,e){let t=i=>{let s=e.getBoundingClientRect();if(!(i.clientX>s.left-10&&i.clientX<s.right+10&&i.clientY>s.top-10&&i.clientY<s.bottom+10)){for(let r=i.target;r;r=r.parentNode)if(r.nodeType==1&&r.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",t),n.state.field(Av)&&n.dispatch({effects:Ku.of(null)})}};window.addEventListener("mousemove",t)}function Woe(n,e,t){function i(){let o=n.elementAtHeight(e.getBoundingClientRect().top+5-n.documentTop);n.coordsAtPos(o.from)&&n.dispatch({effects:Ku.of({pos:o.from,above:!1,clip:!1,create(){return{dom:bv(n,t),getCoords:()=>e.getBoundingClientRect()}}})}),e.onmouseout=e.onmousemove=null,Voe(n,e)}let{hoverTime:s}=n.state.facet(Ll),r=setTimeout(i,s);e.onmouseout=()=>{clearTimeout(r),e.onmouseout=e.onmousemove=null},e.onmousemove=()=>{clearTimeout(r),r=setTimeout(i,s)}}function joe(n,e){let t=Object.create(null);for(let s of e){let r=n.lineAt(s.from);(t[r.from]||(t[r.from]=[])).push(s)}let i=[];for(let s in t)i.push(new Sv(t[s]).range(+s));return de.of(i,!0)}const Uoe=ub({class:"cm-gutter-lint",markers:n=>n.state.field(zh),widgetMarker:(n,e,t)=>{let i=[];return n.state.field(zh).between(t.from,t.to,(s,r,o)=>{s>t.from&&s<t.to&&i.push(...o.diagnostics)}),i.length?new Sv(i):null}}),zh=Ke.define({create(){return de.empty},update(n,e){n=n.map(e.changes);let t=e.state.facet(Ll).markerFilter;for(let i of e.effects)if(i.is(Pl)){let s=i.value;t&&(s=t(s||[],e.state)),n=joe(e.state.doc,s.slice(0))}return n}}),Ku=he.define(),Av=Ke.define({create(){return null},update(n,e){return n&&e.docChanged&&(n=mv(e,n)?null:Object.assign(Object.assign({},n),{pos:e.changes.mapPos(n.pos)})),e.effects.reduce((t,i)=>i.is(Ku)?i.value:t,n)},provide:n=>Cl.from(n)}),Koe=W.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:_o('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:_o('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error":{content:_o('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),_v=[St,W.decorations.compute([St],n=>{let{selected:e,panel:t}=n.field(St);return!e||!t||e.from==e.to?se.none:se.set([Loe.range(e.from,e.to)])}),nse(Boe,{hideOn:mv}),Hoe],Ll=X.define({combine(n){return Yt(n,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function Ev(n={}){return[Ll.of(n),zh,Uoe,Koe,Av]}const Vm=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class bs{constructor(e,t,i=0,s=e.length,r,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,s),this.bufferStart=i,this.normalize=r?l=>r(Vm(l)):Vm,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return xt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=Cu(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=an(e);let s=this.normalize(t);if(s.length)for(let r=0,o=i;;r++){let l=s.charCodeAt(r),c=this.match(l,o,this.bufferPos+this.bufferStart);if(r==s.length-1){if(c)return this.value=c,this;break}o==i&&r<t.length&&t.charCodeAt(r)==l&&o++}}}match(e,t,i){let s=null;for(let r=0;r<this.matches.length;r+=2){let o=this.matches[r],l=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?s={from:this.matches[r+1],to:i}:(this.matches[r]++,l=!0)),l||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?s={from:t,to:i}:this.matches.push(1,t)),s&&this.test&&!this.test(s.from,s.to,this.buffer,this.bufferStart)&&(s=null),s}}typeof Symbol<"u"&&(bs.prototype[Symbol.iterator]=function(){return this});const Mv={from:-1,to:-1,match:/.*/.exec("")},Gu="gm"+(/x/.unicode==null?"":"u");class Dv{constructor(e,t,i,s=0,r=e.length){if(this.text=e,this.to=r,this.curLine="",this.done=!1,this.value=Mv,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new Tv(e,t,i,s,r);this.re=new RegExp(t,Gu+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.iter=e.iter();let o=e.lineAt(s);this.curLineStart=o.from,this.matchPos=el(e,s),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,s=i+t[0].length;if(this.matchPos=el(this.text,s+(i==s?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<s||i>this.value.to)&&(!this.test||this.test(i,s,t)))return this.value={from:i,to:s,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Da=new WeakMap;class ss{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let s=Da.get(e);if(!s||s.from>=i||s.to<=t){let l=new ss(t,e.sliceString(t,i));return Da.set(e,l),l}if(s.from==t&&s.to==i)return s;let{text:r,from:o}=s;return o>t&&(r=e.sliceString(t,o)+r,o=t),s.to<i&&(r+=e.sliceString(s.to,i)),Da.set(e,new ss(o,r)),new ss(t,r.slice(t-o,i-o))}}class Tv{constructor(e,t,i,s,r){this.text=e,this.to=r,this.done=!1,this.value=Mv,this.matchPos=el(e,s),this.re=new RegExp(t,Gu+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.flat=ss.get(e,s,this.chunkEnd(s+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let i=this.flat.from+t.index,s=i+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,s,t)))return this.value={from:i,to:s,match:t},this.matchPos=el(this.text,s+(i==s?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=ss.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(Dv.prototype[Symbol.iterator]=Tv.prototype[Symbol.iterator]=function(){return this});function Goe(n){try{return new RegExp(n,Gu),!0}catch{return!1}}function el(n,e){if(e>=n.length)return e;let t=n.lineAt(e),i;for(;e<t.to&&(i=t.text.charCodeAt(e-t.from))>=56320&&i<57344;)e++;return e}function Vh(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),t=Ae("input",{class:"cm-textfield",name:"line",value:e}),i=Ae("form",{class:"cm-gotoLine",onkeydown:r=>{r.keyCode==27?(r.preventDefault(),n.dispatch({effects:Qs.of(!1)}),n.focus()):r.keyCode==13&&(r.preventDefault(),s())},onsubmit:r=>{r.preventDefault(),s()}},Ae("label",n.state.phrase("Go to line"),": ",t)," ",Ae("button",{class:"cm-button",type:"submit"},n.state.phrase("go")),Ae("button",{name:"close",onclick:()=>{n.dispatch({effects:Qs.of(!1)}),n.focus()},"aria-label":n.state.phrase("close"),type:"button"},[""]));function s(){let r=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!r)return;let{state:o}=n,l=o.doc.lineAt(o.selection.main.head),[,c,a,h,u]=r,f=h?+h.slice(1):0,d=a?+a:l.number;if(a&&u){let b=d/100;c&&(b=b*(c=="-"?-1:1)+l.number/o.doc.lines),d=Math.round(o.doc.lines*b)}else a&&c&&(d=d*(c=="-"?-1:1)+l.number);let p=o.doc.line(Math.max(1,Math.min(o.doc.lines,d))),m=P.cursor(p.from+Math.max(0,Math.min(f,p.length)));n.dispatch({effects:[Qs.of(!1),W.scrollIntoView(m.from,{y:"center"})],selection:m}),n.focus()}return{dom:i}}const Qs=he.define(),Wm=Ke.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(Qs)&&(n=t.value);return n},provide:n=>gr.from(n,e=>e?Vh:null)}),Yoe=n=>{let e=mr(n,Vh);if(!e){let t=[Qs.of(!0)];n.state.field(Wm,!1)==null&&t.push(he.appendConfig.of([Wm,Joe])),n.dispatch({effects:t}),e=mr(n,Vh)}return e&&e.dom.querySelector("input").select(),!0},Joe=W.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),Xoe={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Zoe=X.define({combine(n){return Yt(n,Xoe,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function Qoe(n){return[sle,ile]}const ele=se.mark({class:"cm-selectionMatch"}),tle=se.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function jm(n,e,t,i){return(t==0||n(e.sliceDoc(t-1,t))!=Le.Word)&&(i==e.doc.length||n(e.sliceDoc(i,i+1))!=Le.Word)}function nle(n,e,t,i){return n(e.sliceDoc(t,t+1))==Le.Word&&n(e.sliceDoc(i-1,i))==Le.Word}const ile=qe.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(Zoe),{state:t}=n,i=t.selection;if(i.ranges.length>1)return se.none;let s=i.main,r,o=null;if(s.empty){if(!e.highlightWordAroundCursor)return se.none;let c=t.wordAt(s.head);if(!c)return se.none;o=t.charCategorizer(s.head),r=t.sliceDoc(c.from,c.to)}else{let c=s.to-s.from;if(c<e.minSelectionLength||c>200)return se.none;if(e.wholeWords){if(r=t.sliceDoc(s.from,s.to),o=t.charCategorizer(s.head),!(jm(o,t,s.from,s.to)&&nle(o,t,s.from,s.to)))return se.none}else if(r=t.sliceDoc(s.from,s.to),!r)return se.none}let l=[];for(let c of n.visibleRanges){let a=new bs(t.doc,r,c.from,c.to);for(;!a.next().done;){let{from:h,to:u}=a.value;if((!o||jm(o,t,h,u))&&(s.empty&&h<=s.from&&u>=s.to?l.push(tle.range(h,u)):(h>=s.to||u<=s.from)&&l.push(ele.range(h,u)),l.length>e.maxMatches))return se.none}}return se.set(l)}},{decorations:n=>n.decorations}),sle=W.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),rle=({state:n,dispatch:e})=>{let{selection:t}=n,i=P.create(t.ranges.map(s=>n.wordAt(s.head)||P.cursor(s.head)),t.mainIndex);return i.eq(t)?!1:(e(n.update({selection:i})),!0)};function ole(n,e){let{main:t,ranges:i}=n.selection,s=n.wordAt(t.head),r=s&&s.from==t.from&&s.to==t.to;for(let o=!1,l=new bs(n.doc,e,i[i.length-1].to);;)if(l.next(),l.done){if(o)return null;l=new bs(n.doc,e,0,Math.max(0,i[i.length-1].from-1)),o=!0}else{if(o&&i.some(c=>c.from==l.value.from))continue;if(r){let c=n.wordAt(l.value.from);if(!c||c.from!=l.value.from||c.to!=l.value.to)continue}return l.value}}const lle=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(r=>r.from===r.to))return rle({state:n,dispatch:e});let i=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(r=>n.sliceDoc(r.from,r.to)!=i))return!1;let s=ole(n,i);return s?(e(n.update({selection:n.selection.addRange(P.range(s.from,s.to),!1),effects:W.scrollIntoView(s.to)})),!0):!1},ws=X.define({combine(n){return Yt(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new vle(e),scrollToMatch:e=>W.scrollIntoView(e)})}});class Rv{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||Goe(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new ule(this):new ale(this)}getCursor(e,t=0,i){let s=e.doc?e:fe.create({doc:e});return i==null&&(i=s.doc.length),this.regexp?Vi(this,s,t,i):zi(this,s,t,i)}}class Ov{constructor(e){this.spec=e}}function zi(n,e,t,i){return new bs(e.doc,n.unquoted,t,i,n.caseSensitive?void 0:s=>s.toLowerCase(),n.wholeWord?cle(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function cle(n,e){return(t,i,s,r)=>((r>t||r+s.length<i)&&(r=Math.max(0,t-2),s=n.sliceString(r,Math.min(n.length,i+2))),(e(tl(s,t-r))!=Le.Word||e(nl(s,t-r))!=Le.Word)&&(e(nl(s,i-r))!=Le.Word||e(tl(s,i-r))!=Le.Word))}class ale extends Ov{constructor(e){super(e)}nextMatch(e,t,i){let s=zi(this.spec,e,i,e.doc.length).nextOverlapping();if(s.done){let r=Math.min(e.doc.length,t+this.spec.unquoted.length);s=zi(this.spec,e,0,r).nextOverlapping()}return s.done||s.value.from==t&&s.value.to==i?null:s.value}prevMatchInRange(e,t,i){for(let s=i;;){let r=Math.max(t,s-1e4-this.spec.unquoted.length),o=zi(this.spec,e,r,s),l=null;for(;!o.nextOverlapping().done;)l=o.value;if(l)return l;if(r==t)return null;s-=1e4}}prevMatch(e,t,i){let s=this.prevMatchInRange(e,0,t);return s||(s=this.prevMatchInRange(e,Math.max(0,i-this.spec.unquoted.length),e.doc.length)),s&&(s.from!=t||s.to!=i)?s:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let i=zi(this.spec,e,0,e.doc.length),s=[];for(;!i.next().done;){if(s.length>=t)return null;s.push(i.value)}return s}highlight(e,t,i,s){let r=zi(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!r.next().done;)s(r.value.from,r.value.to)}}function Vi(n,e,t,i){return new Dv(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?hle(e.charCategorizer(e.selection.main.head)):void 0},t,i)}function tl(n,e){return n.slice(tt(n,e,!1),e)}function nl(n,e){return n.slice(e,tt(n,e))}function hle(n){return(e,t,i)=>!i[0].length||(n(tl(i.input,i.index))!=Le.Word||n(nl(i.input,i.index))!=Le.Word)&&(n(nl(i.input,i.index+i[0].length))!=Le.Word||n(tl(i.input,i.index+i[0].length))!=Le.Word)}class ule extends Ov{nextMatch(e,t,i){let s=Vi(this.spec,e,i,e.doc.length).next();return s.done&&(s=Vi(this.spec,e,0,t).next()),s.done?null:s.value}prevMatchInRange(e,t,i){for(let s=1;;s++){let r=Math.max(t,i-s*1e4),o=Vi(this.spec,e,r,i),l=null;for(;!o.next().done;)l=o.value;if(l&&(r==t||l.from>r+10))return l;if(r==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,i)=>{if(i=="&")return e.match[0];if(i=="$")return"$";for(let s=i.length;s>0;s--){let r=+i.slice(0,s);if(r>0&&r<e.match.length)return e.match[r]+i.slice(s)}return t})}matchAll(e,t){let i=Vi(this.spec,e,0,e.doc.length),s=[];for(;!i.next().done;){if(s.length>=t)return null;s.push(i.value)}return s}highlight(e,t,i,s){let r=Vi(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.doc.length));for(;!r.next().done;)s(r.value.from,r.value.to)}}const xr=he.define(),Yu=he.define(),Qn=Ke.define({create(n){return new Ta(Wh(n).create(),null)},update(n,e){for(let t of e.effects)t.is(xr)?n=new Ta(t.value.create(),n.panel):t.is(Yu)&&(n=new Ta(n.query,t.value?Ju:null));return n},provide:n=>gr.from(n,e=>e.panel)});class Ta{constructor(e,t){this.query=e,this.panel=t}}const fle=se.mark({class:"cm-searchMatch"}),dle=se.mark({class:"cm-searchMatch cm-searchMatch-selected"}),ple=qe.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(Qn))}update(n){let e=n.state.field(Qn);(e!=n.startState.field(Qn)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return se.none;let{view:t}=this,i=new Ln;for(let s=0,r=t.visibleRanges,o=r.length;s<o;s++){let{from:l,to:c}=r[s];for(;s<o-1&&c>r[s+1].from-2*250;)c=r[++s].to;n.highlight(t.state,l,c,(a,h)=>{let u=t.state.selection.ranges.some(f=>f.from==a&&f.to==h);i.add(a,h,u?dle:fle)})}return i.finish()}},{decorations:n=>n.decorations});function Pr(n){return e=>{let t=e.state.field(Qn,!1);return t&&t.query.spec.valid?n(e,t):Bv(e)}}const il=Pr((n,{query:e})=>{let{to:t}=n.state.selection.main,i=e.nextMatch(n.state,t,t);if(!i)return!1;let s=P.single(i.from,i.to),r=n.state.facet(ws);return n.dispatch({selection:s,effects:[Xu(n,i),r.scrollToMatch(s.main,n)],userEvent:"select.search"}),Lv(n),!0}),sl=Pr((n,{query:e})=>{let{state:t}=n,{from:i}=t.selection.main,s=e.prevMatch(t,i,i);if(!s)return!1;let r=P.single(s.from,s.to),o=n.state.facet(ws);return n.dispatch({selection:r,effects:[Xu(n,s),o.scrollToMatch(r.main,n)],userEvent:"select.search"}),Lv(n),!0}),mle=Pr((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:P.create(t.map(i=>P.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),gle=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:i,to:s}=t.main,r=[],o=0;for(let l=new bs(n.doc,n.sliceDoc(i,s));!l.next().done;){if(r.length>1e3)return!1;l.value.from==i&&(o=r.length),r.push(P.range(l.value.from,l.value.to))}return e(n.update({selection:P.create(r,o),userEvent:"select.search.matches"})),!0},Um=Pr((n,{query:e})=>{let{state:t}=n,{from:i,to:s}=t.selection.main;if(t.readOnly)return!1;let r=e.nextMatch(t,i,i);if(!r)return!1;let o=r,l=[],c,a,h=[];o.from==i&&o.to==s&&(a=t.toText(e.getReplacement(o)),l.push({from:o.from,to:o.to,insert:a}),o=e.nextMatch(t,o.from,o.to),h.push(W.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(i).number)+".")));let u=n.state.changes(l);return o&&(c=P.single(o.from,o.to).map(u),h.push(Xu(n,o)),h.push(t.facet(ws).scrollToMatch(c.main,n))),n.dispatch({changes:u,selection:c,effects:h,userEvent:"input.replace"}),!0}),yle=Pr((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(s=>{let{from:r,to:o}=s;return{from:r,to:o,insert:e.getReplacement(s)}});if(!t.length)return!1;let i=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:W.announce.of(i),userEvent:"input.replace.all"}),!0});function Ju(n){return n.state.facet(ws).createPanel(n)}function Wh(n,e){var t,i,s,r,o;let l=n.selection.main,c=l.empty||l.to>l.from+100?"":n.sliceDoc(l.from,l.to);if(e&&!c)return e;let a=n.facet(ws);return new Rv({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:a.literal)?c:c.replace(/\n/g,"\\n"),caseSensitive:(i=e==null?void 0:e.caseSensitive)!==null&&i!==void 0?i:a.caseSensitive,literal:(s=e==null?void 0:e.literal)!==null&&s!==void 0?s:a.literal,regexp:(r=e==null?void 0:e.regexp)!==null&&r!==void 0?r:a.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:a.wholeWord})}function Pv(n){let e=mr(n,Ju);return e&&e.dom.querySelector("[main-field]")}function Lv(n){let e=Pv(n);e&&e==n.root.activeElement&&e.select()}const Bv=n=>{let e=n.state.field(Qn,!1);if(e&&e.panel){let t=Pv(n);if(t&&t!=n.root.activeElement){let i=Wh(n.state,e.query.spec);i.valid&&n.dispatch({effects:xr.of(i)}),t.focus(),t.select()}}else n.dispatch({effects:[Yu.of(!0),e?xr.of(Wh(n.state,e.query.spec)):he.appendConfig.of(kle)]});return!0},Iv=n=>{let e=n.state.field(Qn,!1);if(!e||!e.panel)return!1;let t=mr(n,Ju);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:Yu.of(!1)}),!0},ble=[{key:"Mod-f",run:Bv,scope:"editor search-panel"},{key:"F3",run:il,shift:sl,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:il,shift:sl,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Iv,scope:"editor search-panel"},{key:"Mod-Shift-l",run:gle},{key:"Mod-Alt-g",run:Yoe},{key:"Mod-d",run:lle,preventDefault:!0}];class vle{constructor(e){this.view=e;let t=this.query=e.state.field(Qn).query.spec;this.commit=this.commit.bind(this),this.searchField=Ae("input",{value:t.search,placeholder:Et(e,"Find"),"aria-label":Et(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Ae("input",{value:t.replace,placeholder:Et(e,"Replace"),"aria-label":Et(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Ae("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=Ae("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=Ae("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function i(s,r,o){return Ae("button",{class:"cm-button",name:s,onclick:r,type:"button"},o)}this.dom=Ae("div",{onkeydown:s=>this.keydown(s),class:"cm-search"},[this.searchField,i("next",()=>il(e),[Et(e,"next")]),i("prev",()=>sl(e),[Et(e,"previous")]),i("select",()=>mle(e),[Et(e,"all")]),Ae("label",null,[this.caseField,Et(e,"match case")]),Ae("label",null,[this.reField,Et(e,"regexp")]),Ae("label",null,[this.wordField,Et(e,"by word")]),...e.state.readOnly?[]:[Ae("br"),this.replaceField,i("replace",()=>Um(e),[Et(e,"replace")]),i("replaceAll",()=>yle(e),[Et(e,"replace all")])],Ae("button",{name:"close",onclick:()=>Iv(e),"aria-label":Et(e,"close"),type:"button"},[""])])}commit(){let e=new Rv({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:xr.of(e)}))}keydown(e){yie(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?sl:il)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),Um(this.view))}update(e){for(let t of e.transactions)for(let i of t.effects)i.is(xr)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(ws).top}}function Et(n,e){return n.state.phrase(e)}const lo=30,co=/[\s\.,:;?!]/;function Xu(n,{from:e,to:t}){let i=n.state.doc.lineAt(e),s=n.state.doc.lineAt(t).to,r=Math.max(i.from,e-lo),o=Math.min(s,t+lo),l=n.state.sliceDoc(r,o);if(r!=i.from){for(let c=0;c<lo;c++)if(!co.test(l[c+1])&&co.test(l[c])){l=l.slice(c);break}}if(o!=s){for(let c=l.length-1;c>l.length-lo;c--)if(!co.test(l[c-1])&&co.test(l[c])){l=l.slice(0,c);break}}return W.announce.of(`${n.state.phrase("current match")}. ${l} ${n.state.phrase("on line")} ${i.number}.`)}const xle=W.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),kle=[Qn,Li.low(ple),xle];class Fv{constructor(e,t,i,s){this.state=e,this.pos=t,this.explicit=i,this.view=s,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=at(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),s=t.text.slice(i-t.from,this.pos-t.from),r=s.search(Nv(e,!1));return r<0?null:{from:i+r,to:this.pos,text:s.slice(r)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,i){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),i&&i.onDocChange&&(this.abortOnDocChange=!0))}}function Km(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function wle(n){let e=Object.create(null),t=Object.create(null);for(let{label:s}of n){e[s[0]]=!0;for(let r=1;r<s.length;r++)t[s[r]]=!0}let i=Km(e)+Km(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function Cle(n){let e=n.map(s=>typeof s=="string"?{label:s}:s),[t,i]=e.every(s=>/^\w+$/.test(s.label))?[/\w*$/,/\w+$/]:wle(e);return s=>{let r=s.matchBefore(i);return r||s.explicit?{from:r?r.from:s.pos,options:e,validFor:t}:null}}class Gm{constructor(e,t,i,s){this.completion=e,this.source=t,this.match=i,this.score=s}}function _i(n){return n.selection.main.from}function Nv(n,e){var t;let{source:i}=n,s=e&&i[0]!="^",r=i[i.length-1]!="$";return!s&&!r?n:new RegExp(`${s?"^":""}(?:${i})${r?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const qv=Fn.define();function Sle(n,e,t,i){let{main:s}=n.selection,r=t-s.from,o=i-s.from;return Object.assign(Object.assign({},n.changeByRange(l=>{if(l!=s&&t!=i&&n.sliceDoc(l.from+r,l.from+o)!=n.sliceDoc(t,i))return{range:l};let c=n.toText(e);return{changes:{from:l.from+r,to:i==s.from?l.to:l.from+o,insert:c},range:P.cursor(l.from+r+c.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const Ym=new WeakMap;function Ale(n){if(!Array.isArray(n))return n;let e=Ym.get(n);return e||Ym.set(n,e=Cle(n)),e}const rl=he.define(),kr=he.define();class _le{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let i=xt(e,t),s=an(i);this.chars.push(i);let r=e.slice(t,t+s),o=r.toUpperCase();this.folded.push(xt(o==r?r.toLowerCase():o,0)),t+=s}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:i,any:s,precise:r,byWord:o}=this;if(t.length==1){let x=xt(e,0),y=an(x),v=y==e.length?0:-100;if(x!=t[0])if(x==i[0])v+=-200;else return null;return this.ret(v,[0,y])}let l=e.indexOf(this.pattern);if(l==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let c=t.length,a=0;if(l<0){for(let x=0,y=Math.min(e.length,200);x<y&&a<c;){let v=xt(e,x);(v==t[a]||v==i[a])&&(s[a++]=x),x+=an(v)}if(a<c)return null}let h=0,u=0,f=!1,d=0,p=-1,m=-1,b=/[a-z]/.test(e),g=!0;for(let x=0,y=Math.min(e.length,200),v=0;x<y&&u<c;){let k=xt(e,x);l<0&&(h<c&&k==t[h]&&(r[h++]=x),d<c&&(k==t[d]||k==i[d]?(d==0&&(p=x),m=x+1,d++):d=0));let C,A=k<255?k>=48&&k<=57||k>=97&&k<=122?2:k>=65&&k<=90?1:0:(C=Cu(k))!=C.toLowerCase()?1:C!=C.toUpperCase()?2:0;(!x||A==1&&b||v==0&&A!=0)&&(t[u]==k||i[u]==k&&(f=!0)?o[u++]=x:o.length&&(g=!1)),v=A,x+=an(k)}return u==c&&o[0]==0&&g?this.result(-100+(f?-200:0),o,e):d==c&&p==0?this.ret(-200-e.length+(m==e.length?0:-100),[0,m]):l>-1?this.ret(-700-e.length,[l,l+this.pattern.length]):d==c?this.ret(-900-e.length,[p,m]):u==c?this.result(-100+(f?-200:0)+-700+(g?0:-1100),o,e):t.length==2?null:this.result((s[0]?-700:0)+-200+-1100,s,e)}result(e,t,i){let s=[],r=0;for(let o of t){let l=o+(this.astral?an(xt(i,o)):1);r&&s[r-1]==o?s[r-1]=l:(s[r++]=o,s[r++]=l)}return this.ret(e-i.length,s)}}class Ele{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),i=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return i==null?null:(this.matched=[0,t.length],this.score=i+(e.length==this.pattern.length?0:-100),this)}}const Ge=X.define({combine(n){return Yt(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Mle,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>i=>Jm(e(i),t(i)),optionClass:(e,t)=>i=>Jm(e(i),t(i)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function Jm(n,e){return n?e?n+" "+e:n:e}function Mle(n,e,t,i,s,r){let o=n.textDirection==Pe.RTL,l=o,c=!1,a="top",h,u,f=e.left-s.left,d=s.right-e.right,p=i.right-i.left,m=i.bottom-i.top;if(l&&f<Math.min(p,d)?l=!1:!l&&d<Math.min(p,f)&&(l=!0),p<=(l?f:d))h=Math.max(s.top,Math.min(t.top,s.bottom-m))-e.top,u=Math.min(400,l?f:d);else{c=!0,u=Math.min(400,(o?e.right:s.right-e.left)-30);let x=s.bottom-e.bottom;x>=m||x>e.top?h=t.bottom-e.top:(a="bottom",h=e.bottom-t.top)}let b=(e.bottom-e.top)/r.offsetHeight,g=(e.right-e.left)/r.offsetWidth;return{style:`${a}: ${h/b}px; max-width: ${u/g}px`,class:"cm-completionInfo-"+(c?o?"left-narrow":"right-narrow":l?"left":"right")}}function Dle(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),t.type&&i.classList.add(...t.type.split(/\s+/g).map(s=>"cm-completionIcon-"+s)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(t,i,s,r){let o=document.createElement("span");o.className="cm-completionLabel";let l=t.displayLabel||t.label,c=0;for(let a=0;a<r.length;){let h=r[a++],u=r[a++];h>c&&o.appendChild(document.createTextNode(l.slice(c,h)));let f=o.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(l.slice(h,u))),f.className="cm-completionMatchedText",c=u}return c<l.length&&o.appendChild(document.createTextNode(l.slice(c))),o},position:50},{render(t){if(!t.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=t.detail,i},position:80}),e.sort((t,i)=>t.position-i.position).map(t=>t.render)}function Ra(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let s=Math.floor(e/t);return{from:s*t,to:(s+1)*t}}let i=Math.floor((n-e)/t);return{from:n-(i+1)*t,to:n-i*t}}class Tle{constructor(e,t,i){this.view=e,this.stateField=t,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:c=>this.placeInfo(c),key:this},this.space=null,this.currentClass="";let s=e.state.field(t),{options:r,selected:o}=s.open,l=e.state.facet(Ge);this.optionContent=Dle(l),this.optionClass=l.optionClass,this.tooltipClass=l.tooltipClass,this.range=Ra(r.length,o,l.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",c=>{let{options:a}=e.state.field(t).open;for(let h=c.target,u;h&&h!=this.dom;h=h.parentNode)if(h.nodeName=="LI"&&(u=/-(\d+)$/.exec(h.id))&&+u[1]<a.length){this.applyCompletion(e,a[+u[1]]),c.preventDefault();return}}),this.dom.addEventListener("focusout",c=>{let a=e.state.field(this.stateField,!1);a&&a.tooltip&&e.state.facet(Ge).closeOnBlur&&c.relatedTarget!=e.contentDOM&&e.dispatch({effects:kr.of(null)})}),this.showOptions(r,s.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let i=e.state.field(this.stateField),s=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),i!=s){let{options:r,selected:o,disabled:l}=i.open;(!s.open||s.open.options!=r)&&(this.range=Ra(r.length,o,e.state.facet(Ge).maxRenderedOptions),this.showOptions(r,i.id)),this.updateSel(),l!=((t=s.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!l)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of t.split(" "))i&&this.dom.classList.add(i);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=Ra(t.options.length,t.selected,this.view.state.facet(Ge).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:i}=t.options[t.selected],{info:s}=i;if(!s)return;let r=typeof s=="string"?document.createTextNode(s):s(i);if(!r)return;"then"in r?r.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,i)}).catch(o=>pt(this.view.state,o,"completion info")):this.addInfoPane(r,i)}}addInfoPane(e,t){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",e.nodeType!=null)i.appendChild(e),this.infoDestroy=null;else{let{dom:s,destroy:r}=e;i.appendChild(s),this.infoDestroy=r||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,s=this.range.from;i;i=i.nextSibling,s++)i.nodeName!="LI"||!i.id?s--:s==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return t&&Ole(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),s=e.getBoundingClientRect(),r=this.space;if(!r){let o=this.dom.ownerDocument.documentElement;r={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return s.top>Math.min(r.bottom,t.bottom)-10||s.bottom<Math.max(r.top,t.top)+10?null:this.view.state.facet(Ge).positionInfo(this.view,t,s,i,r,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,i){const s=document.createElement("ul");s.id=t,s.setAttribute("role","listbox"),s.setAttribute("aria-expanded","true"),s.setAttribute("aria-label",this.view.state.phrase("Completions")),s.addEventListener("mousedown",o=>{o.target==s&&o.preventDefault()});let r=null;for(let o=i.from;o<i.to;o++){let{completion:l,match:c}=e[o],{section:a}=l;if(a){let f=typeof a=="string"?a:a.name;if(f!=r&&(o>i.from||i.from==0))if(r=f,typeof a!="string"&&a.header)s.appendChild(a.header(a));else{let d=s.appendChild(document.createElement("completion-section"));d.textContent=f}}const h=s.appendChild(document.createElement("li"));h.id=t+"-"+o,h.setAttribute("role","option");let u=this.optionClass(l);u&&(h.className=u);for(let f of this.optionContent){let d=f(l,this.view.state,this.view,c);d&&h.appendChild(d)}}return i.from&&s.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&s.classList.add("cm-completionListIncompleteBottom"),s}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Rle(n,e){return t=>new Tle(t,n,e)}function Ole(n,e){let t=n.getBoundingClientRect(),i=e.getBoundingClientRect(),s=t.height/n.offsetHeight;i.top<t.top?n.scrollTop-=(t.top-i.top)/s:i.bottom>t.bottom&&(n.scrollTop+=(i.bottom-t.bottom)/s)}function Xm(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function Ple(n,e){let t=[],i=null,s=a=>{t.push(a);let{section:h}=a.completion;if(h){i||(i=[]);let u=typeof h=="string"?h:h.name;i.some(f=>f.name==u)||i.push(typeof h=="string"?{name:u}:h)}},r=e.facet(Ge);for(let a of n)if(a.hasResult()){let h=a.result.getMatch;if(a.result.filter===!1)for(let u of a.result.options)s(new Gm(u,a.source,h?h(u):[],1e9-t.length));else{let u=e.sliceDoc(a.from,a.to),f,d=r.filterStrict?new Ele(u):new _le(u);for(let p of a.result.options)if(f=d.match(p.label)){let m=p.displayLabel?h?h(p,f.matched):[]:f.matched;s(new Gm(p,a.source,m,f.score+(p.boost||0)))}}}if(i){let a=Object.create(null),h=0,u=(f,d)=>{var p,m;return((p=f.rank)!==null&&p!==void 0?p:1e9)-((m=d.rank)!==null&&m!==void 0?m:1e9)||(f.name<d.name?-1:1)};for(let f of i.sort(u))h-=1e5,a[f.name]=h;for(let f of t){let{section:d}=f.completion;d&&(f.score+=a[typeof d=="string"?d:d.name])}}let o=[],l=null,c=r.compareCompletions;for(let a of t.sort((h,u)=>u.score-h.score||c(h.completion,u.completion))){let h=a.completion;!l||l.label!=h.label||l.detail!=h.detail||l.type!=null&&h.type!=null&&l.type!=h.type||l.apply!=h.apply||l.boost!=h.boost?o.push(a):Xm(a.completion)>Xm(l)&&(o[o.length-1]=a),l=a.completion}return o}class Ki{constructor(e,t,i,s,r,o){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=s,this.selected=r,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Ki(this.options,Zm(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,i,s,r,o){if(s&&!o&&e.some(a=>a.isPending))return s.setDisabled();let l=Ple(e,t);if(!l.length)return s&&e.some(a=>a.isPending)?s.setDisabled():null;let c=t.facet(Ge).selectOnOpen?0:-1;if(s&&s.selected!=c&&s.selected!=-1){let a=s.options[s.selected].completion;for(let h=0;h<l.length;h++)if(l[h].completion==a){c=h;break}}return new Ki(l,Zm(i,c),{pos:e.reduce((a,h)=>h.hasResult()?Math.min(a,h.from):a,1e8),create:qle,above:r.aboveCursor},s?s.timestamp:Date.now(),c,!1)}map(e){return new Ki(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new Ki(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class ol{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new ol(Fle,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,i=t.facet(Ge),r=(i.override||t.languageDataAt("autocomplete",_i(t)).map(Ale)).map(c=>(this.active.find(h=>h.source==c)||new Bt(c,this.active.some(h=>h.state!=0)?1:0)).update(e,i));r.length==this.active.length&&r.every((c,a)=>c==this.active[a])&&(r=this.active);let o=this.open,l=e.effects.some(c=>c.is(Zu));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||r.some(c=>c.hasResult()&&e.changes.touchesRange(c.from,c.to))||!Lle(r,this.active)||l?o=Ki.build(r,t,this.id,o,i,l):o&&o.disabled&&!r.some(c=>c.isPending)&&(o=null),!o&&r.every(c=>!c.isPending)&&r.some(c=>c.hasResult())&&(r=r.map(c=>c.hasResult()?new Bt(c.source,0):c));for(let c of e.effects)c.is(Hv)&&(o=o&&o.setSelected(c.value,this.id));return r==this.active&&o==this.open?this:new ol(r,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?Ble:Ile}}function Lle(n,e){if(n==e)return!0;for(let t=0,i=0;;){for(;t<n.length&&!n[t].hasResult();)t++;for(;i<e.length&&!e[i].hasResult();)i++;let s=t==n.length,r=i==e.length;if(s||r)return s==r;if(n[t++].result!=e[i++].result)return!1}}const Ble={"aria-autocomplete":"list"},Ile={};function Zm(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const Fle=[];function $v(n,e){if(n.isUserEvent("input.complete")){let i=n.annotation(qv);if(i&&e.activateOnCompletion(i))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class Bt{constructor(e,t,i=!1){this.source=e,this.state=t,this.explicit=i}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let i=$v(e,t),s=this;(i&8||i&16&&this.touches(e))&&(s=new Bt(s.source,0)),i&4&&s.state==0&&(s=new Bt(this.source,1)),s=s.updateFor(e,i);for(let r of e.effects)if(r.is(rl))s=new Bt(s.source,1,r.value);else if(r.is(kr))s=new Bt(s.source,0);else if(r.is(Zu))for(let o of r.value)o.source==s.source&&(s=o);return s}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(_i(e.state))}}class rs extends Bt{constructor(e,t,i,s,r,o){super(e,3,t),this.limit=i,this.result=s,this.from=r,this.to=o}hasResult(){return!0}updateFor(e,t){var i;if(!(t&3))return this.map(e.changes);let s=this.result;s.map&&!e.changes.empty&&(s=s.map(s,e.changes));let r=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),l=_i(e.state);if(l>o||!s||t&2&&(_i(e.startState)==this.from||l<this.limit))return new Bt(this.source,t&4?1:0);let c=e.changes.mapPos(this.limit);return Nle(s.validFor,e.state,r,o)?new rs(this.source,this.explicit,c,s,r,o):s.update&&(s=s.update(s,r,o,new Fv(e.state,l,!1)))?new rs(this.source,this.explicit,c,s,s.from,(i=s.to)!==null&&i!==void 0?i:_i(e.state)):new Bt(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new rs(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Bt(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function Nle(n,e,t,i){if(!n)return!1;let s=e.sliceDoc(t,i);return typeof n=="function"?n(s,t,i,e):Nv(n,!0).test(s)}const Zu=he.define({map(n,e){return n.map(t=>t.map(e))}}),Hv=he.define(),wt=Ke.define({create(){return ol.start()},update(n,e){return n.update(e)},provide:n=>[Cl.from(n,e=>e.tooltip),W.contentAttributes.from(n,e=>e.attrs)]});function Qu(n,e){const t=e.completion.apply||e.completion.label;let i=n.state.field(wt).active.find(s=>s.source==e.source);return i instanceof rs?(typeof t=="string"?n.dispatch(Object.assign(Object.assign({},Sle(n.state,t,i.from,i.to)),{annotations:qv.of(e.completion)})):t(n,e.completion,i.from,i.to),!0):!1}const qle=Rle(wt,Qu);function ao(n,e="option"){return t=>{let i=t.state.field(wt,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<t.state.facet(Ge).interactionDelay)return!1;let s=1,r;e=="page"&&(r=ab(t,i.open.tooltip))&&(s=Math.max(2,Math.floor(r.dom.offsetHeight/r.dom.querySelector("li").offsetHeight)-1));let{length:o}=i.open.options,l=i.open.selected>-1?i.open.selected+s*(n?1:-1):n?0:o-1;return l<0?l=e=="page"?0:o-1:l>=o&&(l=e=="page"?o-1:0),t.dispatch({effects:Hv.of(l)}),!0}}const $le=n=>{let e=n.state.field(wt,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(Ge).interactionDelay?!1:Qu(n,e.open.options[e.open.selected])},Qm=n=>n.state.field(wt,!1)?(n.dispatch({effects:rl.of(!0)}),!0):!1,Hle=n=>{let e=n.state.field(wt,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:kr.of(null)}),!0)};class zle{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const Vle=50,Wle=1e3,jle=qe.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(wt).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(wt),t=n.state.facet(Ge);if(!n.selectionSet&&!n.docChanged&&n.startState.field(wt)==e)return;let i=n.transactions.some(r=>{let o=$v(r,t);return o&8||(r.selection||r.docChanged)&&!(o&3)});for(let r=0;r<this.running.length;r++){let o=this.running[r];if(i||o.context.abortOnDocChange&&n.docChanged||o.updates.length+n.transactions.length>Vle&&Date.now()-o.time>Wle){for(let l of o.context.abortListeners)try{l()}catch(c){pt(this.view.state,c)}o.context.abortListeners=null,this.running.splice(r--,1)}else o.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(r=>r.effects.some(o=>o.is(rl)))&&(this.pendingStart=!0);let s=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(r=>r.isPending&&!this.running.some(o=>o.active.source==r.source))?setTimeout(()=>this.startUpdate(),s):-1,this.composing!=0)for(let r of n.transactions)r.isUserEvent("input.type")?this.composing=2:this.composing==2&&r.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(wt);for(let t of e.active)t.isPending&&!this.running.some(i=>i.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Ge).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=_i(e),i=new Fv(e,t,n.explicit,this.view),s=new zle(n,i);this.running.push(s),Promise.resolve(n.source(i)).then(r=>{s.context.aborted||(s.done=r||null,this.scheduleAccept())},r=>{this.view.dispatch({effects:kr.of(null)}),pt(this.view.state,r)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Ge).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(Ge),i=this.view.state.field(wt);for(let s=0;s<this.running.length;s++){let r=this.running[s];if(r.done===void 0)continue;if(this.running.splice(s--,1),r.done){let l=_i(r.updates.length?r.updates[0].startState:this.view.state),c=Math.min(l,r.done.from+(r.active.explicit?0:1)),a=new rs(r.active.source,r.active.explicit,c,r.done,r.done.from,(n=r.done.to)!==null&&n!==void 0?n:l);for(let h of r.updates)a=a.update(h,t);if(a.hasResult()){e.push(a);continue}}let o=i.active.find(l=>l.source==r.active.source);if(o&&o.isPending)if(r.done==null){let l=new Bt(r.active.source,0);for(let c of r.updates)l=l.update(c,t);l.isPending||e.push(l)}else this.startQuery(o)}(e.length||i.open&&i.open.disabled)&&this.view.dispatch({effects:Zu.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(wt,!1);if(e&&e.tooltip&&this.view.state.facet(Ge).closeOnBlur){let t=e.open&&ab(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:kr.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:rl.of(!1)}),20),this.composing=0}}}),Ule=typeof navigator=="object"&&/Win/.test(navigator.platform),Kle=Li.highest(W.domEventHandlers({keydown(n,e){let t=e.state.field(wt,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(Ule&&n.altKey)||n.metaKey)return!1;let i=t.open.options[t.open.selected],s=t.active.find(o=>o.source==i.source),r=i.completion.commitCharacters||s.result.commitCharacters;return r&&r.indexOf(n.key)>-1&&Qu(e,i),!1}})),Gle=W.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),wr={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},xi=he.define({map(n,e){let t=e.mapPos(n,-1,dt.TrackAfter);return t??void 0}}),ef=new class extends Ei{};ef.startSide=1;ef.endSide=-1;const zv=Ke.define({create(){return de.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:i=>i>=t.from&&i<=t.to})}for(let t of e.effects)t.is(xi)&&(n=n.update({add:[ef.range(t.value,t.value+1)]}));return n}});function Yle(){return[Xle,zv]}const Oa="()[]{}<>";function Vv(n){for(let e=0;e<Oa.length;e+=2)if(Oa.charCodeAt(e)==n)return Oa.charAt(e+1);return Cu(n<128?n:n+1)}function Wv(n,e){return n.languageDataAt("closeBrackets",e)[0]||wr}const Jle=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Xle=W.inputHandler.of((n,e,t,i)=>{if((Jle?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let s=n.state.selection.main;if(i.length>2||i.length==2&&an(xt(i,0))==1||e!=s.from||t!=s.to)return!1;let r=ece(n.state,i);return r?(n.dispatch(r),!0):!1}),Zle=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let i=Wv(n,n.selection.main.head).brackets||wr.brackets,s=null,r=n.changeByRange(o=>{if(o.empty){let l=tce(n.doc,o.head);for(let c of i)if(c==l&&Bl(n.doc,o.head)==Vv(xt(c,0)))return{changes:{from:o.head-c.length,to:o.head+c.length},range:P.cursor(o.head-c.length)}}return{range:s=o}});return s||e(n.update(r,{scrollIntoView:!0,userEvent:"delete.backward"})),!s},Qle=[{key:"Backspace",run:Zle}];function ece(n,e){let t=Wv(n,n.selection.main.head),i=t.brackets||wr.brackets;for(let s of i){let r=Vv(xt(s,0));if(e==s)return r==s?sce(n,s,i.indexOf(s+s+s)>-1,t):nce(n,s,r,t.before||wr.before);if(e==r&&jv(n,n.selection.main.from))return ice(n,s,r)}return null}function jv(n,e){let t=!1;return n.field(zv).between(0,n.doc.length,i=>{i==e&&(t=!0)}),t}function Bl(n,e){let t=n.sliceString(e,e+2);return t.slice(0,an(xt(t,0)))}function tce(n,e){let t=n.sliceString(e-2,e);return an(xt(t,0))==t.length?t:t.slice(1)}function nce(n,e,t,i){let s=null,r=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:xi.of(o.to+e.length),range:P.range(o.anchor+e.length,o.head+e.length)};let l=Bl(n.doc,o.head);return!l||/\s/.test(l)||i.indexOf(l)>-1?{changes:{insert:e+t,from:o.head},effects:xi.of(o.head+e.length),range:P.cursor(o.head+e.length)}:{range:s=o}});return s?null:n.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function ice(n,e,t){let i=null,s=n.changeByRange(r=>r.empty&&Bl(n.doc,r.head)==t?{changes:{from:r.head,to:r.head+t.length,insert:t},range:P.cursor(r.head+t.length)}:i={range:r});return i?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function sce(n,e,t,i){let s=i.stringPrefixes||wr.stringPrefixes,r=null,o=n.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:e,from:l.to}],effects:xi.of(l.to+e.length),range:P.range(l.anchor+e.length,l.head+e.length)};let c=l.head,a=Bl(n.doc,c),h;if(a==e){if(eg(n,c))return{changes:{insert:e+e,from:c},effects:xi.of(c+e.length),range:P.cursor(c+e.length)};if(jv(n,c)){let f=t&&n.sliceDoc(c,c+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:c,to:c+f.length,insert:f},range:P.cursor(c+f.length)}}}else{if(t&&n.sliceDoc(c-2*e.length,c)==e+e&&(h=tg(n,c-2*e.length,s))>-1&&eg(n,h))return{changes:{insert:e+e+e+e,from:c},effects:xi.of(c+e.length),range:P.cursor(c+e.length)};if(n.charCategorizer(c)(a)!=Le.Word&&tg(n,c,s)>-1&&!rce(n,c,e,s))return{changes:{insert:e+e,from:c},effects:xi.of(c+e.length),range:P.cursor(c+e.length)}}return{range:r=l}});return r?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function eg(n,e){let t=at(n).resolveInner(e+1);return t.parent&&t.from==e}function rce(n,e,t,i){let s=at(n).resolveInner(e,-1),r=i.reduce((o,l)=>Math.max(o,l.length),0);for(let o=0;o<5;o++){let l=n.sliceDoc(s.from,Math.min(s.to,s.from+t.length+r)),c=l.indexOf(t);if(!c||c>-1&&i.indexOf(l.slice(0,c))>-1){let h=s.firstChild;for(;h&&h.from==s.from&&h.to-h.from>t.length+c;){if(n.sliceDoc(h.to-t.length,h.to)==t)return!1;h=h.firstChild}return!0}let a=s.to==e&&s.parent;if(!a)break;s=a}return!1}function tg(n,e,t){let i=n.charCategorizer(e);if(i(n.sliceDoc(e-1,e))!=Le.Word)return e;for(let s of t){let r=e-s.length;if(n.sliceDoc(r,e)==s&&i(n.sliceDoc(r-1,r))!=Le.Word)return r}return-1}function oce(n={}){return[Kle,wt,Ge.of(n),jle,lce,Gle]}const Uv=[{key:"Ctrl-Space",run:Qm},{mac:"Alt-`",run:Qm},{key:"Escape",run:Hle},{key:"ArrowDown",run:ao(!0)},{key:"ArrowUp",run:ao(!1)},{key:"PageDown",run:ao(!0,"page")},{key:"PageUp",run:ao(!1,"page")},{key:"Enter",run:$le}],lce=Li.highest(Dr.computeN([Ge],n=>n.facet(Ge).defaultKeymap?[Uv]:[])),Kv=[fse(),mse(),ob(),Fb(),lre(),ib(),Eie(),fe.allowMultipleSelections.of(!0),Kse(),Db(Tb,{fallback:!0}),yre(),Yle(),oce(),jie(),Gie(),Nie(),Qoe(),Dr.of([...Qle,...pv,...ble,...Hb,...ire,...Uv,...Noe])],cce=[ob(),Fb(),ib(),Db(Tb,{fallback:!0}),Dr.of([...pv,...Hb])];/**
 * vue-codemirror6
 *
 * @description CodeMirror6 Component for vue2 and vue3.
 * @author Logue <logue@hotmail.co.jp>
 * @copyright 2022-2025 By Masashi Yoshikawa All rights reserved.
 * @license MIT
 * @version 1.3.22
 * @see {@link https://github.com/logue/vue-codemirror6}
 */const ace=n=>n?Object.entries(n).reduce((e,[t,i])=>(t=t.charAt(0).toUpperCase()+t.slice(1),t=`on${t}`,{...e,[t]:i}),{}):{};function ng(n,e={},t){const{props:i,domProps:s,on:r,...o}=e,l=r?ace(r):{};return vl(n,{...o,...i,...s,...l},t)}const hce=n=>typeof n=="function"?n():n;var uce=Ot({name:"CodeMirror",model:{prop:"modelValue",event:"update:modelValue"},props:{modelValue:{type:String,default:""},theme:{type:Object,default:()=>({})},dark:{type:Boolean,default:!1},basic:{type:Boolean,default:!1},minimal:{type:Boolean,default:!1},placeholder:{type:String,default:void 0},wrap:{type:Boolean,default:!1},tab:{type:Boolean,default:!1},indentUnit:{type:String,default:void 0},allowMultipleSelections:{type:Boolean,default:!1},tabSize:{type:Number,default:void 0},lineSeparator:{type:String,default:void 0},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},extensions:{type:Array,default:()=>[]},phrases:{type:Object,default:void 0},lang:{type:Object,default:void 0},linter:{type:Function,default:void 0},linterConfig:{type:Object,default:()=>({})},forceLinting:{type:Boolean,default:!1},gutter:{type:Boolean,default:!1},gutterConfig:{type:Object,default:void 0},tag:{type:String,default:"div"},scrollIntoView:{type:Boolean,default:!0},keymap:{type:Array,default:()=>[]}},emits:{"update:modelValue":(n="")=>!0,update:n=>!0,ready:n=>!0,focus:n=>!0,change:n=>!0,destroy:()=>!0},setup(n,e){const t=Ye(),i=Ye(n.modelValue),s=Rg(new W),r=Fe({get:()=>s.value.hasFocus,set:D=>{D&&s.value.focus()}}),o=Fe({get:()=>s.value.state.selection,set:D=>s.value.dispatch({selection:D})}),l=Fe({get:()=>s.value.state.selection.main.head,set:D=>s.value.dispatch({selection:{anchor:D}})}),c=Fe({get:()=>s.value.state.toJSON(),set:D=>s.value.setState(fe.fromJSON(D))}),a=Ye(0),h=Ye(0),u=Fe(()=>{const D=new us,_=new us;if(n.basic&&n.minimal)throw new Error("[Vue CodeMirror] Both basic and minimal cannot be specified.");let $=[];return n.keymap&&n.keymap.length>0&&($=n.keymap),n.tab&&$.push(Roe),[n.basic&&!n.minimal?Kv:void 0,n.minimal&&!n.basic?cce:void 0,W.updateListener.of(Y=>{var ee;e.emit("focus",s.value.hasFocus),a.value=(ee=s.value.state.doc)==null?void 0:ee.length,!(Y.changes.empty||!Y.docChanged)&&(n.linter&&(n.forceLinting&&Hm(s.value),h.value=n.linter(s.value).length),e.emit("update",Y))}),W.theme(n.theme,{dark:n.dark}),n.wrap?W.lineWrapping:void 0,n.indentUnit?Al.of(n.indentUnit):void 0,fe.allowMultipleSelections.of(n.allowMultipleSelections),n.tabSize?_.of(fe.tabSize.of(n.tabSize)):void 0,n.phrases?fe.phrases.of(n.phrases):void 0,fe.readOnly.of(n.readonly),W.editable.of(!n.disabled),n.lineSeparator?fe.lineSeparator.of(n.lineSeparator):void 0,n.lang?D.of(n.lang):void 0,n.linter?xv(n.linter,n.linterConfig):void 0,n.linter&&n.gutter?Ev(n.gutterConfig):void 0,n.placeholder?lb(n.placeholder):void 0,$.length!==0?Dr.of($):void 0,...n.extensions].filter(Y=>!!Y)});Zn(u,D=>{var _;return(_=s.value)==null?void 0:_.dispatch({effects:he.reconfigure.of(D)})},{immediate:!0}),Zn(()=>n.modelValue,async D=>{if(s.value.composing||s.value.state.doc.toJSON().join(n.lineSeparator??`
`)===D)return;const _=!s.value.state.selection.ranges.every($=>$.anchor<D.length&&$.head<D.length);s.value.dispatch({changes:{from:0,to:s.value.state.doc.length,insert:D},selection:_?{anchor:0,head:0}:s.value.state.selection,scrollIntoView:n.scrollIntoView})},{immediate:!0}),zg(async()=>{let D=i.value;t.value&&(t.value.childNodes[0]&&(i.value!==""&&console.warn("[CodeMirror.vue] The <code-mirror> tag contains child elements that overwrite the `v-model` values."),D=t.value.childNodes[0].innerText.trim()),s.value=new W({parent:t.value,state:fe.create({doc:D,extensions:u.value}),dispatch:_=>{s.value.update([_]),!(_.changes.empty||!_.docChanged)&&(e.emit("update:modelValue",_.state.doc.toString()),e.emit("change",_.state))}}),await su(),e.emit("ready",{view:s.value,state:s.value.state,container:t.value}))}),lu(()=>{s.value.destroy(),e.emit("destroy")});const f=()=>{!n.linter||!s.value||(n.forceLinting&&Hm(s.value),h.value=Poe(s.value.state))},d=()=>{var D,_;(D=s.value)==null||D.dispatch({effects:he.reconfigure.of([])}),(_=s.value)==null||_.dispatch({effects:he.appendConfig.of(u.value)})},p=(D,_)=>s.value.state.sliceDoc(D,_),m=D=>s.value.state.doc.line(D+1).text,b=()=>s.value.state.doc.lines,g=()=>s.value.state.selection.main.head,x=()=>{let D;return(D=s.value.state.selection.ranges)!==null&&D!==void 0?D:[]},y=()=>{let D;return(D=s.value.state.sliceDoc(s.value.state.selection.main.from,s.value.state.selection.main.to))!==null&&D!==void 0?D:""},v=()=>{const D=s.value.state;return D?D.selection.ranges.map(_=>D.sliceDoc(_.from,_.to)):[]},k=()=>s.value.state.selection.ranges.some(D=>!D.empty),C=(D,_,$)=>s.value.dispatch({changes:{from:_,to:$,insert:D}}),A=D=>s.value.dispatch(s.value.state.replaceSelection(D)),M=D=>s.value.dispatch({selection:{anchor:D}}),R=(D,_)=>s.value.dispatch({selection:{anchor:D,head:_}}),T=(D,_)=>s.value.dispatch({selection:P.create(D,_)}),I=D=>s.value.dispatch({selection:P.create(o.value.ranges.map(_=>_.extend(D(_))))}),N={editor:t,view:s,cursor:l,selection:o,focus:r,length:a,json:c,diagnosticCount:h,dom:s.value.contentDOM,lint:f,forceReconfigure:d,getRange:p,getLine:m,lineCount:b,getCursor:g,listSelections:x,getSelection:y,getSelections:v,somethingSelected:k,replaceRange:C,replaceSelection:A,setCursor:M,setSelection:R,setSelections:T,extendSelectionsBy:I};return e.expose(N),N},render(){return ng(this.$props.tag,{ref:"editor",class:"vue-codemirror"},this.$slots.default?ng("aside",{style:"display: none;","aria-hidden":"true"},hce(this.$slots.default)):void 0)}});const fce={class:"code-editor"},dce={class:"header"},pce={class:"options"},mce=["value"],gce=`Enter trace-chart code here
such as

+ main() // start
++ parse argv
++ do tasks
`,Pa="55ch",yce=Ot({__name:"CodeEditor",props:{code:{}},emits:["update:code"],setup(n,{emit:e}){const t=n,i=e;let s=!1;const r=Ye(t.code),o=Ye(""),l=()=>{i("update:code",r.value)},c=W.theme({"&":{maxWidth:Pa},".cm-scroller":{overflow:"auto",maxWidth:Pa,"min-height":"140px"},".cm-line":{maxWidth:Pa,wordWrap:"break-word"}}),a=xv(f=>{const d=[];return fu.value.forEach(p=>{let m,b;if("line"in p){const g=f.state.doc.line(p.line);m=g.from+(p.from??0),b=typeof p.to=="number"?g.from+p.to:g.to}else m=p.fromChar,b=p.toChar;d.push({from:m,to:b,severity:p.severity||"error",message:p.message})}),d},{needsRefresh:()=>{const f=s;return s=!1,f}});Zn(()=>t.code,f=>{r.value=f});function h(){Ak(),s=!0}function u(f){o.value=f}return(f,d)=>{var p;return Ie(),We("div",fce,[ne("h3",dce,[d[5]||(d[5]=sr(" Code Editor ")),ne("span",{class:"help",onClick:d[0]||(d[0]=m=>u("code"))}," ? ")]),ne("div",pce,[ne("label",null,[ne("input",{type:"checkbox",value:Me(Fo).parseFromConsole,onInput:d[1]||(d[1]=m=>h())},null,40,mce),d[6]||(d[6]=sr(" Parse from console ")),ne("span",{class:"help",onClick:d[2]||(d[2]=mo(m=>u("parseFromConsole"),["stop","prevent"]))}," ? ")])]),Ne(Me(uce),{class:ti({error:((p=Me(Tn))==null?void 0:p.origin)==="code"}),modelValue:r.value,"onUpdate:modelValue":d[3]||(d[3]=m=>r.value=m),onChange:l,extensions:[Me(Kv),Me(c),Me(a),Me(Ev)(),Me(lb)(gce)]},null,8,["class","modelValue","extensions"]),o.value?(Ie(),hu(bte,{key:0,message:o.value,onClose:d[4]||(d[4]=m=>o.value="")},null,8,["message"])):Bo("",!0)])}}}),bce=Pi(yce,[["__scopeId","data-v-b15e1840"]]),ig=["#FF6F00","#006FFF","#388E3C","#FF4343","#673AB7","#D73AB7","#6F0808","#F5BC00","#200070","#00B0A0","#E09080","#A0E000","#9090E0","#9D939A"];function tf(n,e){return ig[n%ig.length]}const vce={class:"legend-editor"},xce=["value","onInput"],kce=["value","onInput"],wce=["value","onInput"],Cce=["onClick"],Sce={key:1,class:"not-used",title:"This category is currently not used. Remove it from the code if you don't want it anymore."},Ace=["placeholder"],_ce=["placeholder"],Ece=Ot({__name:"LegendEditor",props:{categories:{}},emits:["update:code"],setup(n,{emit:e}){const t=n,i=e,s=Ye(new Map),r=Ye(null),o=new Map;let l=0;const c=Fe(()=>{const x=Array.from(s.value.values());return x.sort((y,v)=>y.order-v.order),x.forEach((y,v)=>{y.order=v}),x}),a=Fe(()=>"category "+s.value.size),h=()=>{i("update:code",s.value)},u=(x,y)=>{const v=s.value.get(x);v.color=y,v.origin="legend",h()},f=(x,y)=>{const v=s.value.get(x);v.label=y,v.origin="legend",h()},d=(x,y)=>{const v=s.value.get(x);v.key=y,v.origin="legend",s.value.delete(x),s.value.set(y,v);const k=o.get(x)??y;o.set(y,k),o.delete(x),h()},p=x=>{s.value.delete(x),h()},m=()=>{const x={key:"",label:"",color:tf(o.size),origin:"legend",used:!1,order:o.size};r.value=x},b=x=>{const y=r.value;if(!y||!x)return;const v=a.value,k=y.key||v;y.key=k,s.value.set(k,y),o.set(k,v),r.value=null};Zn(()=>t.categories,x=>{s.value=new Map(x),x.forEach((y,v)=>{o.has(v)||o.set(v,`id-${v}-${l++}`)})},{immediate:!0,deep:!0});function g(x){return!x.used&&(x.origin==="legend"||x.origin==="file")}return(x,y)=>{var v;return Ie(),We("div",vce,[y[8]||(y[8]=ne("h3",null,"Categories Editor",-1)),ne("table",{class:ti(["legend-table",{error:((v=Me(Tn))==null?void 0:v.origin)==="legend"}])},[y[7]||(y[7]=ne("thead",null,[ne("tr",{class:"header"},[ne("th",null,"Key"),ne("th",null,"Label"),ne("th",null,"Color"),ne("th")])],-1)),ne("tbody",null,[(Ie(!0),We(Wt,null,o1(c.value,k=>(Ie(),We("tr",{key:Me(o).get(k.key)??k.key},[ne("td",null,[(Ie(),We("input",{type:"text",value:k.key,onInput:C=>d(k.key,C.target.value??""),key:`${Me(o).get(k.key)??k.key}-key`},null,40,xce))]),ne("td",null,[(Ie(),We("input",{type:"text",value:k.label||k.key,onInput:C=>f(k.key,C.target.value??""),key:`${Me(o).get(k.key)??k.key}-label`},null,40,kce))]),ne("td",null,[(Ie(),We("input",{type:"color",value:k.color,onInput:C=>u(k.key,C.target.value??""),key:`${Me(o).get(k.key)??k.key}-color`},null,40,wce))]),ne("td",null,[g(k)?(Ie(),We("button",{key:0,onClick:C=>p(k.key)},"  ",8,Cce)):k.used?Bo("",!0):(Ie(),We("span",Sce," ? "))])]))),128)),r.value?(Ie(),We("tr",{key:a.value},[ne("td",null,[zl((Ie(),We("input",{type:"text","onUpdate:modelValue":y[0]||(y[0]=k=>r.value.key=k),placeholder:a.value,onBlur:y[1]||(y[1]=k=>b(r.value.key)),key:`${a.value}-key`},null,40,Ace)),[[Yl,r.value.key]])]),ne("td",null,[zl((Ie(),We("input",{type:"text","onUpdate:modelValue":y[2]||(y[2]=k=>r.value.label=k),placeholder:r.value.key,onBlur:y[3]||(y[3]=k=>b(r.value.label)),key:`${a.value}-label`},null,40,_ce)),[[Yl,r.value.label]])]),ne("td",null,[zl((Ie(),We("input",{type:"color","onUpdate:modelValue":y[4]||(y[4]=k=>r.value.color=k),onChange:y[5]||(y[5]=k=>b(r.value.color)),key:`${a.value}-color`},null,32)),[[Yl,r.value.color]])]),ne("td",null,[ne("button",{onClick:y[6]||(y[6]=k=>r.value=null)},"  ")])])):Bo("",!0)])],2),ne("button",{class:"main",onClick:m}," +add ")])}}}),Mce=Pi(Ece,[["__scopeId","data-v-9fb66d09"]]),Dce=(n,e="generated.svg")=>{const t=new Blob([n],{type:"image/svg+xml"}),i=URL.createObjectURL(t),s=document.createElement("a");s.href=i,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)},Tce=n=>new Promise((e,t)=>{const i=new FileReader;i.onload=s=>{var r;return e((r=s.target)==null?void 0:r.result)},i.onerror=t,i.readAsText(n)});async function Gv(n){if(du("uploadFile"),n.type==="image/svg+xml"||n.name.endsWith(".svg"))try{return await Tce(n)}catch(e){Qi(`Error while reading file: ${e}`,"uploadFile")}else Qi("Wrong kind of file. We expect a trace-chart SVG file","uploadFile")}const Rce={class:"svg-viewer"},Oce={class:"svg-controls"},Pce={class:"actions"},Lce=["disabled"],Bce=["innerHTML"],Ice=Ot({__name:"SvgViewer",props:{svgContent:{}},emits:["file-loaded"],setup(n,{emit:e}){const t=n,i=e,s=Ye(),r=Ye(!1);function o(){t.svgContent&&Dce(t.svgContent)}function l(){var a;(a=s.value)==null||a.click()}async function c(a){var f;const u=(f=a.target.files)==null?void 0:f[0];if(u){const d=await Gv(u);d&&i("file-loaded",d)}}return(a,h)=>{var u;return Ie(),We("div",Rce,[ne("div",Oce,[h[1]||(h[1]=ne("h3",null,"SVG Visualization",-1)),ne("span",Pce,[ne("input",{type:"file",ref_key:"fileInput",ref:s,onChange:c,accept:".svg",class:"hidden"},null,544),ne("button",{class:ti(["select-btn secondary",{error:((u=Me(Tn))==null?void 0:u.origin)==="uploadFile"}]),onClick:l}," Select a File ",2),ne("button",{class:"download-btn main",onClick:o,disabled:!a.svgContent}," Download SVG ",8,Lce)])]),ne("div",{class:ti(["svg-container",{fullscreen:r.value,empty:!a.svgContent}]),innerHTML:a.svgContent,onClick:h[0]||(h[0]=f=>r.value=!r.value)},null,10,Bce)])}}}),Fce=Pi(Ice,[["__scopeId","data-v-1fa88953"]]);function Yv(n){if(!n)return{major:1,minor:0,build:0,_value:"1.0.0"};const e=n.split("."),t={major:+e[0]||0,minor:+e[1]||0,build:+e[2]||0,_value:"0.0.0"};return t._value=`${t.major}.${t.minor}.${t.build}`,t}let Cr;try{Cr="1.2.0"}catch{Cr=globalThis.__APP_VERSION__??"0.0.0"}const gi=Yv(Cr);function Nce(n){return n.major!==gi.major?n.major<gi.major?-1:1:n.minor!==gi.minor?n.minor<gi.minor?-1:1:n.build!==gi.build?n.build<gi.build?-1:1:0}function Jv(n=1){return new Array(n).fill("+").join("")}function ki(n){return n.replace(/[\\{}[\]\/:<>]/g,"\\$&")}function wi(n){return(n??"").replace(/\\(.)/g,"$1")}function sg(n){return n?/^#[\da-f]{3,4}$|^#[\da-f]{6}$|^#[\da-f]{8}$|^\w+$/i.test(n):!1}function Xv(n,e){const t=e==null?void 0:e.categories,i=(e==null?void 0:e.version)??gi,s=(e==null?void 0:e.parseFromConsole)??!1,r=n.trim(),o={categories:new Map([...t??[]]),trace:[]},l=[];o.categories.forEach((f,d)=>{f.origin==="codeCategory"&&(l.push(f.order),o.categories.delete(d))}),l.length&&o.categories.forEach(f=>{const d=f.order,p=l.reduce((m,b)=>b<d?m+1:m,0);f.order=f.order-p});let c;i.major>=1?c=/(?:^|\n)(?<sectionName>\s*\w+:\s*)(?<content>(?:\n\+[^\n]+|\n(?![ \t]*\w+:)[^\n]*)+)/g:c=/(?:^|\n)(?<sectionName>\s*\w+:\s*)(?<content>(?:\n\+[^\n]+|\n(?![ \t]*\w+:)[^\n]*)+)/g;let a=!0;const h=[];let u=0;for(const f of r.matchAll(c)){if(!(f!=null&&f.groups))continue;if(u!==f.index){const m=r.slice(u,f.index).trim();m&&Si(m,n,"This part is ignored. Maybe you should add `traces:` before.","info",{index:u})}u=f.index+f[0].length,a=!1;const d=f.groups.sectionName,p=n.indexOf(d,f.index)+d.length;switch(d==null?void 0:d.toLowerCase().trim()){case"categories:":case"categorie:":case"category:":{qce(f.groups.content,{offset:p,version:i,parseFromConsole:s}).forEach(b=>{const g=o.categories.get(b.key);(!g||g.origin!=="legend")&&o.categories.set(b.key,b)});break}case"traces:":case"trace:":{if(o.trace.length){Si(f[0].trim(),n,"Duplicated traces. This part will be ignored","error");break}const m=rg(f.groups.content,{offset:p,version:i,parseFromConsole:s});o.trace=m.trace,h.push(...m.categoryUsed);break}default:Si(d,n,"Unknown section","warning")}}if(a){const f=rg(r,{offset:n.indexOf(r),version:i,parseFromConsole:s});o.trace=f.trace,h.push(...f.categoryUsed)}if(o.categories.forEach((f,d,p)=>{h.includes(d)?f.used=!0:f.origin==="codeTrace"?p.delete(d):f.used=!1}),h.length){const f=o.categories;h.forEach(d=>{f.has(d)||f.set(d,{key:d,label:"",color:tf(f.size),order:f.size,origin:"codeTrace",used:!0})})}return o}function qce(n,e){var a,h,u,f,d,p,m;const{offset:t,version:i,parseFromConsole:s}=e,r=new Map;let o;if(i.major>=1){const b=s?String.raw`(?:[^+{} ][^ ]+ )?`:"",g=String.raw`(?<categoryId>(?:[^:\\\n]|\\.)+)`,x=String.raw`(?<label>(?:[^{\\\n]|\\.)+)?`,y=String.raw`(?<color>(?:[^}\\\n]|\\.)+)`,v=String.raw`^\s*${b}\+\s*${g}:\s*${x}\{${y}\}\s*$`;o=new RegExp(v,"gm")}else o=/^\s*\+\s*(?<categoryId>(?:[^:\\\n]|\\.)+):\s*(?<label>(?:[^{\\\n]|\\.)+)?\{(?<color>(?:[^}\\\n]|\\.)+)\}/gm;let l=0;function c(b){if(l!==b){const g=n.slice(l,b).trim();g!==""&&Si(g,n,'This part is ignored. Expected pattern: "+ <name>: <description> {#<color>}"',"info",{offset:t,index:l})}}for(const b of n.matchAll(o)){c(b.index),l=b.index+b[0].length;const g=wi((h=(a=b.groups)==null?void 0:a.categoryId)==null?void 0:h.trim()),x=wi((f=(u=b.groups)==null?void 0:u.label)==null?void 0:f.trim()),y=wi((p=(d=b.groups)==null?void 0:d.color)==null?void 0:p.trim());sg(y)||Si(((m=b.groups)==null?void 0:m.color)??"#",n,"Wrong color format (it should be `#RRGGBB` in hexadecimal)","error",{offset:t,index:b.index}),g&&r.set(g,{key:g,label:x||"",color:sg(y)?y:tf(r.size),origin:"codeCategory",order:r.size,used:!1})}return c(n.length),r}function rg(n,e){var p,m,b,g,x,y,v,k,C;const{offset:t,version:i,parseFromConsole:s}=e,r=[],o=new Set,l=[],c=String.raw`[ \t]*`;let a;if(i.major>=1)if(i.minor>=2){const A=s?String.raw`(?:[^+{} ][^ ]+ )?`:"",M=String.raw`(?<indentation>(?:[{}]|\++\{?))`,R=String.raw`(?<name>(?:[^\n\[\/\\]|\\.)*)`,T=String.raw`(?<category>(?:[^\]\n\\]|\\.)+)`,I=String.raw`(?<event>(?:[^\n\]\\]|\\.)+)`,N=String.raw`(?<comment>[^\n\r]*)`,D=String.raw`^${c}${A}${M}${c}${R}${c}(?:\[${T}])?${c}(?:\/{2,}${c}(?:\[${I}]${c})?${N})?$`;a=new RegExp(D,"gm")}else a=/^\s*(?<indentation>\++)\s*(?<name>(?:[^\[\/\\\n]|\\.)+)\s*(?:\[(?<category>(?:[^\]\\\n]|\\.)+)])?[ \t]*(?:\/{2,}[ \t]*(?:\[(?<event>(?:[^\]\\\n]|\\.)+)])?(?<comment>[^\n\r]*))?$/gm;else a=/^\s*(?<indentation>\++)\s*(?<name>(?:[^\[\/\\\n]|\\.)+)\s*(?:\[(?<category>(?:[^\]\\\n]|\\.)+)])?[ \t]*(?:\/{2,}[ \t]*(?:\[(?<event>(?:[^\]\\\n]|\\.)+)])?(?<comment>[^\n\r]*))?$/gm;let h=0;function u(A){if(h!==A){const M=n.slice(h,A).trim();M!==""&&Si(M,n,'This part is ignored. . Expected pattern: "+ <name> [<category>] // [<action>] <comment>"',"info",{offset:t,index:h})}}let f=0;const d=[];for(const A of n.matchAll(a)){u(A.index),h=A.index+A[0].length;const M=((p=A.groups)==null?void 0:p.indentation)??"+",R=wi((b=(m=A.groups)==null?void 0:m.name)==null?void 0:b.trim()),T=wi((x=(g=A.groups)==null?void 0:g.category)==null?void 0:x.trim()),I=wi((v=(y=A.groups)==null?void 0:y.event)==null?void 0:v.trim()),N=wi((C=(k=A.groups)==null?void 0:k.comment)==null?void 0:C.trim());let D;if(/^\++$/.test(M))D=M.length-1;else if(M==="{")D=-1,f++,d.push(1);else if(M==="}"){const ee=d.pop()??0;if(D=0,f=Math.max(0,f-ee),!R&&!I&&!N)continue}else{const ee=M.length-1;D=-1,f+=ee,d.push(ee)}const _=f+D,$={name:R,category:T,event:I,comment:N,subTasks:[]};if(T&&o.add(T),_>l.length)throw Si(M,n,'The line seems to be the grand-child of the precedent line. Please verify the number of "+".',"error",{section:A[0],offset:t,contextIndex:A.index}),new Error(`A line seems to be the grand-child of the precedent line. Please verify the number of "+".
 "${A[0]}"`);_<l.length?l.splice(_,1/0,$):l.push($);const Y=l[_-1];Y?(Y.subTasks.push($),T||($.category=Y.category)):(r.push($),T||($.category="main",o.add("main")))}return u(n.length),{trace:r,categoryUsed:Array.from(o)}}function Zv(n,e=!1){const t=[];return e||t.push($ce(n)),t.push(Hce(n)),t.join(`
`).replace(/ +\n/g,`
`)}function $ce(n){const e=Jv(1);return`categories:
`+Array.from(n.categories,([i,s])=>{const r=s.label,o=s.color;return r?`${e} ${ki(i)}: ${ki(r)}{${o}}`:`${e} ${ki(i)}: {${o}}`}).join(`
`)}function Hce(n){return`traces:
`+n.trace.map(t=>Qv(t,1)).join(`
`)}function Qv(n,e){const t=Jv(e),{name:i,category:s,event:r,comment:o,subTasks:l}=n,c=s?` [${ki(s)}]`:"",a=r?`[${ki(r)}]`:"",h=a||o?` // ${a} ${ki(o??"")}`:"",u=[`${t} ${ki(i)}${c}${h}`];return l&&l.forEach(f=>{u.push(Qv(f,e+1))}),u.join(`
`)}function zce(n){var c,a;const e=/<!--\s*trace-chart:[^\n>]*?(?:\[(?<version>[\d.]+)\])?\n(?<code>(?:[^-]|-(?!->))+)\n-->/,t=[],i=n.match(e),s=((c=i==null?void 0:i.groups)==null?void 0:c.code)??"",r=((a=i==null?void 0:i.groups)==null?void 0:a.version)??"1.0.0",o=Yv(r);return Nce(o)===1&&t.push("This code is newer than this app version. Some syntaxes may be not supported. They can be ignored or create parse error."),{code:s,warning:t,version:o}}function Il(n){return n.replace(/[^\w]+/g,"-")}function nf(n){return n.replace(/[&<>"'`\u00A0-\u9999]/g,e=>`&#${e.charCodeAt(0)};`)}const og=20,Vce=200,La=30,Ni=20,ei=50,Wce=20,vs=10,jce=150,Uce=150,Eo=Uce/2,os=30;function Kce(n){let e=1,t=0;const i=n.trace.map(h=>{const u=ex(h,e,1);return e=u.idx,t=Math.max(t,u.maxIndentation),u.content}),s=(e+1)*os,r=Eo*2+vs+ei,l=`
    <g class="state-timeline" transform="translate(${r}, ${os})">
        <line x1="0" y1="0" x2="0" y2="${s}" class="timeline" />
        ${i.join(`
`)}
    </g>
    `,c=r+t*ei+vs+jce,a=s+os*2;return{content:l,dimension:[[0,0],[c,a]]}}function ex(n,e,t){var i;return(i=n.subTasks)!=null&&i.length?Yce(n,e,t):Gce(n,e,t)}function Gce(n,e,t){const i=ei,s=e*os,r=n.name?`
        <text x="${vs}" y="0" class="label-call">${nf(n.name)}</text>
        <line x1="-${i}" y1="0" x2="0" y2="0" class="call-method" />
    `:"",o=`
    <g class="call ${Il(n.category)}" transform="translate(${i}, ${s})">
        ${tx(n,t)}
        ${r}
    </g>
    `;return{idx:e+1,content:o,maxIndentation:t}}function Yce(n,e,t){const i=ei,s=e*os;let r=1,o=t;const l=t+1,a=(n.subTasks??[]).map(f=>{const d=ex(f,r,l);return r=d.idx,o=Math.max(o,d.maxIndentation),d.content}),h=r*os,u=[`<g class="${Il(n.category)}" transform="translate(${i}, ${s})">`,tx(n,t),`    <text x="${vs}" y="0" class="label-method">${nf(n.name)}</text>`,`    <line x1="-${ei}" y1="0" x2="0" y2="0" class="start-method" />`,`    <line x1="0" y1="0" x2="0" y2="${h}" class="period-method" />`,`    <line x1="0" y1="${h}" x2="-${ei}" y2="${h}" class="stop-method" />`,...a,"</g>"];return{idx:r+e+1,content:u.join(`
`),maxIndentation:o}}function tx(n,e){if(!n.event&&!n.comment)return"";const t=-(e*ei+Wce),i=t-Eo,s=[`<line x1="${t}" y1="0" x2="${-ei}" y2="0" class="link-info" />`];if(n.event){const r=i-Eo;s.push(`<rect x="${r}" y="-15" width="${2*Eo}" height="30" rx="10" class="info-box" />`,`<text x="${i}" y="0" class="label-info">${n.event}</text>`)}if(n.comment){const r=n.event?25:0;s.push(`<text x="${i}" y="${r}" class="details-info">${n.comment}</text>`)}return s.join(`
`)}function Jce(n,e){const t=La+vs+Vce+2*Ni,i=og*n.categories.size+Ni,s=e[1][0]+Ni,r=e[0][1]+Ni,l=Array.from(n.categories.values()).sort((h,u)=>h.order-u.order).map(({label:h,key:u},f)=>`
        <g class="${Il(u)}" transform="translate(0, ${f*og})">
            <line x1="0" y1="0" x2="${La}" y2="0" />
            <text x="${La+vs}" y="0" class="label-legend">${nf(h||u)}</text>
        </g>
        `),c=`
    <g class="legend" transform="translate(${s}, ${r})">
        <rect x="-${Ni}" y="-${Ni}" width="${t}" height="${i}" class="legend-box" />

        ${l.join("")}
    </g>
    `,a=[[s,r],[s+t,r+i]];return{content:c,dimension:a}}function Xce(n){return`
    <style>
        svg { background: #FFFFFF; }

        .marker {
            stroke: context-stroke;
            stroke-width: 2;
        }

        .timeline {
            stroke: #003300;
            stroke-width: 4;
            stroke-dasharray: 10 2;
            marker-end: url(#arrowhead);
            marker-start: url(#marker);
        }

        ${Array.from(n.categories,([t,{color:i}])=>Zce(t,i)).join(`
`)}

        .start-method {
            fill: none;
            stroke-width: 2;
            stroke-dasharray: 5 4;
            marker-end: url(#arrowhead);
            marker-start: url(#bullet);
        }

        .stop-method {
            fill: none;
            stroke-width: 2;
            stroke-dasharray: 5 4;

            marker-end: url(#arrowhead);
        }

        .period-method {
            stroke-width: 2;
            fill: none;
        }

        .call-method {
            fill: none;
            stroke-width: 2;
            marker-end: url(#arrowhead);
            marker-start: url(#bullet);
        }

        .inner-call {
            stroke-width: 2;
            marker-start: url(#marker);
        }

        .label-method {
            font-family: Arial, sans-serif;
            font-size: 15px;
            font-weight: bold;
            text-anchor: start;
            dominant-baseline: middle;
            stroke: none;
        }

        .label-call {
            font-family: Arial, sans-serif;
            font-size: 14px;
            text-anchor: start;
            dominant-baseline: middle;
            stroke: none;
        }

        .label-info {
            font-family: Arial, sans-serif;
            font-size: 14px;
            text-anchor: middle;
            dominant-baseline: middle;
            stroke: none;
            fill: #009700;
        }

        .details-methods,
        .details-info {
            font-family: Arial, sans-serif;
            font-size: 9.5px;
            text-anchor: middle;
            dominant-baseline: middle;
            stroke: none;
            fill: #979797;
        }

        .details-methods {
            text-anchor: start;
        }

        .info-box {
            stroke: #009700;
            fill: #EDF7E6;
            stroke-width: 2;
        }

        .link-info {
            stroke: #009700;
            stroke-width: 0.5;
            stroke-dasharray: 15 2;
            marker-end: url(#bullet);
        }

        .warning.link-info {
            stroke: #FF0000;
        }
        .warning.details-info {
            fill: #FF0000;
        }

        .legend {
            text-anchor: start;
            dominant-baseline: middle;
            stroke-width: 4;
        }
        .legend text {
            font-family: Arial, sans-serif;
            font-size: 16px;
            fill: black;
            stroke: none;
        }

        .legend-box {
            fill: none;
            stroke: black;
        }

    </style>
    `}function Zce(n,e){return`.${Il(n)} {
    stroke: ${e};
    fill: ${e};
}`}const Qce=(n,e,t={})=>{du("code"),Sk();try{const i=Xv(n,{categories:e,parseFromConsole:t.parseFromConsole});return{svg:eae(i),chartData:i}}catch(i){let s;return i instanceof Error?s=i.message:s=String(i),Qi(s,"code"),{svg:"",chartData:null}}};function eae(n){const e=Kce(n),t=Jce(n,e.dimension),i=Math.max(e.dimension[1][0],t.dimension[1][0]),s=Math.max(e.dimension[1][1],t.dimension[1][1]);return`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${i} ${s}">
    ${nae(n)}
    ${Xce(n)}
    ${t.content}
    ${tae()}
    ${e.content}
</svg>
`}function tae(){return`
    <defs>
        <marker id="arrowhead" markerWidth="5" markerHeight="7" refX="4" refY="1.75" orient="auto">
            <polygon points="0,0 5,1.75 0,3.5" fill="context-stroke" />
        </marker>

        <marker id="bullet" markerWidth="5" markerHeight="5" refX="2" refY="2" orient="auto">
            <circle cx="2" cy="2" r="2" fill="context-stroke" />
        </marker>

        <marker id="bullet2" markerWidth="5" markerHeight="5" refX="2" refY="2" orient="auto">
            <circle cx="2" cy="2" r="2" fill="context-stroke" />
        </marker>

        <marker id="marker" markerWidth="5" markerHeight="5" refX="0" refY="2" orient="auto">
            <line x1="0" y1="0" x2="0" y2="4" class="marker" />
        </marker>
    </defs>
    `}function nae(n){const e=Zv(n);return[`<!-- trace-chart: Generated from Trace-Chart (${document.location.href}) [${Cr}]`,e,"-->"].join(`
`)}const iae={class:"app-layout"},sae={class:"left-panel"},rae={class:"right-panel"},oae=Ot({__name:"HomeView",setup(n){const e=Ye(!1),t=Fe(()=>{const c=Fr.value;return c?Qce(c,Wi.value,{parseFromConsole:Fo.value.parseFromConsole}):{}}),i=Fe(()=>{var c;return((c=t.value)==null?void 0:c.svg)??""}),s=c=>{var u;Fr.value=c;const a=t.value,h=(u=a==null?void 0:a.chartData)==null?void 0:u.categories;Ck(h)},r=c=>{Wi.value=c},o=c=>{if(typeof c!="string"){Qi("File should be a text file.","uploadFile");return}const a=zce(c);if(!a.code){Qi('No "trace-chart" code have been detected in this file.',"uploadFile");return}a.warning.length&&a.warning.forEach(f=>{Qi(f,"uploadFile")});const h=Xv(a.code,{version:a.version}),u=Zv(h,!0);Wi.value=h==null?void 0:h.categories,Fr.value=u},l=async c=>{var h;c.preventDefault(),e.value=!1;const a=(h=c.dataTransfer)==null?void 0:h.files;if(a&&a.length>0){const u=await Gv(a[0]);u&&o(u)}};return(c,a)=>(Ie(),We("div",{class:ti(["home",{dragging:e.value}]),onDrop:l,onDragover:a[0]||(a[0]=mo(h=>e.value=!0,["prevent"])),onDragenter:a[1]||(a[1]=mo(h=>e.value=!0,["prevent"])),onDragleave:a[2]||(a[2]=mo(h=>e.value=!1,["prevent"]))},[a[3]||(a[3]=ne("h1",null,"Trace-chart",-1)),ne("div",iae,[ne("div",sae,[Ne(bce,{code:Me(Fr),"onUpdate:code":s},null,8,["code"]),Ne(Mce,{categories:Me(Wi),"onUpdate:code":r},null,8,["categories"])]),ne("div",rae,[Ne(Fce,{"svg-content":i.value,onFileLoaded:o},null,8,["svg-content"])])])],34))}}),lae=Pi(oae,[["__scopeId","data-v-8688f3fd"]]),cae={class:"legal-info"},aae=Ot({__name:"LegalInfo",setup(n){return(e,t)=>(Ie(),We("div",cae,[t[1]||(t[1]=ne("h2",null,"About",-1)),ne("section",null,[t[0]||(t[0]=ne("h3",null,"Version",-1)),ne("p",null,Jh(Me(Cr)),1)]),t[2]||(t[2]=ne("section",null,[ne("h3",null,"Licence"),ne("p",null,[ne("a",{href:"https://github.com/restimel/traceChart/blob/main/LICENSE",target:"blank"},"MIT")])],-1)),t[3]||(t[3]=ne("section",null,[ne("h3",null,"Report bugs"),ne("p",null,[ne("a",{href:"https://github.com/restimel/traceChart/issues",target:"_blank"},"Report issues on Github")])],-1))]))}}),hae=Pi(aae,[["__scopeId","data-v-807fcfd3"]]),uae=Ot({__name:"AboutView",setup(n){return(e,t)=>(Ie(),hu(hae))}}),fae=[{path:"/",name:"Home",component:lae},{path:"/about",name:"About",component:uae},{path:"/:pathMatch(.*)*",redirect:"/"}],dae=Rw({history:ow("/traceChart/"),routes:fae}),nx=vk(Dk);nx.use(dae);nx.mount("#app");
